---
stackbit_url_path: >-
  posts/e694b6e7bca9e695b0e68daee5ba93
title: '收缩数据库'
date: '2010-11-13 07:29:00'
excerpt: >-
  快速高效的收缩SQL Server数据库的方法，不用写代码，图形界面完成。
comments_count: 0
positive_reactions_count: 0
tags: 
  - SQL Server
canonical_url: >-
template: post
---
<p>我的数据库变得越来越大了，可是每次当我收缩数据库时，只变小了一点点而已。后来发现，原来变大的，主要是数据库日志文件。我当时甚至想删除了日志文件，因为不需要那么多日志。可是找了一些方法，什么分离数据库啦，都没什么用。</p>  <p>今天终于从一本书中找到最佳的收缩数据库的方法了，记录一下，备忘。</p>  <p>1）设置数据库模式为简单模式：打开SQL Server企业管理器，在控制台根目录中依次点开Microsoft SQL Server --&gt; SQL Server 组 --&gt; 双击打开你的服务器 --&gt; 双击打开数据库目录 --&gt; 选择数据库名称 --&gt; 然后单击右键选择“属性” --&gt; 选择“选项” --&gt; 在故障还原的模式中选择“简单”，然后按“确定”保存。</p>  <p><a href="http://www.zizhujy.com/blog/image.axd?picture=image_57.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.zizhujy.com/blog/image.axd?picture=image_thumb_57.png" width="656" height="401" /></a></p>  <p>2）在当前数据库上单击右键，看所有任务中的“收缩数据库”，一般里面的默认设置不用调整，直接单击“确定”。</p>  <p><a href="http://www.zizhujy.com/blog/image.axd?picture=image_58.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.zizhujy.com/blog/image.axd?picture=image_thumb_58.png" width="634" height="560" /></a></p>  <p>收缩前：（请注意收缩前后的大小变化）</p>  <p><a href="http://www.zizhujy.com/blog/image.axd?picture=image_59.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.zizhujy.com/blog/image.axd?picture=image_thumb_59.png" width="633" height="515" /></a></p>  <p>收缩后：</p>  <p><a href="http://www.zizhujy.com/blog/image.axd?picture=image_60.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.zizhujy.com/blog/image.axd?picture=image_thumb_60.png" width="634" height="516" /></a></p>  <p>3）收缩数据库完成后，建议将您的数据库属性重新设置为“完整”模式，操作方法同1）。因为日志在一些异常情况下往往是恢复数据库的重要依据。</p>