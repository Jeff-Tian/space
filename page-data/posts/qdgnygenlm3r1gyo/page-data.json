{"componentChunkName":"component---src-templates-post-js","path":"/posts/qdgnygenlm3r1gyo/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/qdgnygenlm3r1gyo","relativePath":"posts/qdgnygenlm3r1gyo","frontmatter":{"title":"抛弃 springfox，拥抱 springdoc","stackbit_url_path":"posts/qdgnygenlm3r1gyo","date":"2023-08-11T04:46:24","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p>在《<a href=\"https://zhuanlan.zhihu.com/p/393360806\">基于 Java Spring Security 的关注微信公众号即登录的设计与实现 - Jeff Tian的文章 - 知乎 </a> 》中以一个非常具体的案例介绍了 api first 的开发方式。即先定义 api，再实现。先有 API 文档，再有代码。在定义 API 时，使用了 <a href=\"https://app.swaggerhub.com/\">https://app.swaggerhub.com/</a>，你可以选择 JSON 或者 Yaml 方式进行 API 定义，默认是 OAS 3 规范（也可以选择 OAS 2，不推荐）。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOklEQVR42o3Qz0uTARzH8UFQZh1MMt0ztxnO/RB/pE0t1IrCQz8O0alDA3Wa5pbGMC/9AylEYXVIsgySSLp26C4UDBIk0xRJNHNuPmvP5h7d82PvmII06OAXXnz5wofP4WsYmhjm0dg4D4ae0/tklM7Jb9wN/sD/ZY6BxyPcfzhM/+Az+gef7ovB1OBEqKrH6Kwjr7qZgzd7yG8PcOBGBznWKg4JTg6by8kpdu2LQTjdgsVWiWB1UFBkpcxqJ+Dro7GuiUp3BbYKO0azHZP1/wRL9m2wnLuGo/48pRVnsboasJa7OXPxKvUXruBubqHc3YTjVCOOmkacNdk7w1XbjLO2CWfNLoPZVkmJo5pCs53jQimXLl/Hd2+Azjt9dPsDtN32c6utC097Nx5vDx6vD0/7rlavny5fAG9XL60dPbR1+jAIJU5MJ10UmsvIK7Aw/v4DmUmlUvw7iqazFhUJSWFCyXXCcpikGkMjk9P2coYCUykZRRY7uceMvHrzFlXXCYcjJJMyiqKgqgrxhMzc0jw/1qZYlIMsJD+zLM+wuj3HyvYMUmoDVdEwnCi2kZEpPJov8GJ0jKSiIIoisVhshyRJiH+i/I6IrIaihNdFQpE1FsVpFsQplmLfEaUIUkzKLjySLzDy8jVbsszyyi/EaJREIsHmZoJwWGR69iuzPycJrn4iGPnIijTPRmydzbhMIp4gHo9nF+bmGRl/N7HzC1VVSafT6Lq+Q9N0tlJbpLQEGgqk2aPr2l7uLzVg/ane/waaAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b9d9f7c704360766b71975c2602c85df/fcda8/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png\"\n        srcset=\"/static/b9d9f7c704360766b71975c2602c85df/12f09/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png 148w,\n/static/b9d9f7c704360766b71975c2602c85df/e4a3f/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png 295w,\n/static/b9d9f7c704360766b71975c2602c85df/fcda8/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png 590w,\n/static/b9d9f7c704360766b71975c2602c85df/efc66/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png 885w,\n/static/b9d9f7c704360766b71975c2602c85df/c83ae/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png 1180w,\n/static/b9d9f7c704360766b71975c2602c85df/9cac8/1691729090343-8d6ee41c-e1b3-4a9a-92eb-5d8c1efbb28c.png 2288w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />不过，也可以通过 Code First，即先写代码，再通过注解，生成 API 文档。这样的工具不少。上个月在群里有同学折腾 openapi3，有人还在建议 springfox，我正好最近抛弃了 springfox，而拥抱了 springdoc。原因是，springfox 不支持 openapi 3。在群里我简单提了一下，今天分享更多细节。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 108.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6UlEQVR42o2TzW8bRRiH/XcicShQDhwgcKg4Vkh8FSqUHpAq9UCLRAUckBCXShwrVYmSkNpJGmE79nrXXu/sx+zM7FcS0wfNuHZNSOIefnpHu/M+83vfeaf16MH3xFFI3TRorZFSUpYlRVHQNA1VVaGUYjqdkue523OdWiqXRNGU7e1tdnd3nfb29tjZ2aHT6bC1tcXR0RFhGDqgPcgmGmMuVWtrZx8hYrRWbqNNsD8WiQvIbDajrusl7EqHn96+Q7fXRwhBlmUOYGVLT5LElbwKuLj+n8PCGAfwfd+VZeN4PHbrIAjcPwu2WgVeWbK9gMlkwuHhoeuVjavrg4MDjo+P6Xa7roK1Du0N2tMXzi7Kulxtx1rgbPbPckwuyn63B1pYmqaur2uBP//0I+EkQBvjAAstEi3Q6o0v5bdfHzMNx/hBwGAwcL3q9XqvZ86sJur1g/0SnKPVcVn0yrlRBpVrtJUyFLrE6IJiqXIuM29Ra/GcFoB5/1450oZUxcR6SqympEaQVyl5nc5jlSLLV1FLIiFoXTX5FmZKzcP+Z9zefos7nZt83XmPb17c5Iu9G3y5/w5ftd/l2xfv8/nzt/l98ANPnvxJ67LGLoGF5hfvLneff8C9zsdstj/i3sEG3+1/yGZng832Bvf7t7gffsKz9A+KvLoGuIiFpmoKMpng+UO80ZDBcMDIHzL0Tpx6/S5pmnB2dnY58L9QQxxnRFFCOBGMwwne2GPo+UxFhkhzRCIJo5i/2vtXO1x1KdPM3WwsFHmREJcBiRxTjkdUowG1d0KcxDx99nS9QyUldd/jdCLw2kPS3hDZD6nHgjNvxLnncT4YcJpm1M3pGwBzhQoFlTQEJ1OCSQ+dZJhUc141S9WmcC9qPVBpRJyiTUkQJHSjQ0ScIXNDrkqqunEqymr+UtYBc63xpSBucjr9EX9HPXwZEdc5cqZRL81cp3bUrgOa15eSGImqDEmeowrj1rouMM2KqvnefwEFZ2wRGReZSgAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20230810-182945@2x.png\"\n        title=\"WX20230810-182945@2x.png\"\n        src=\"/static/931ab5c2cee84e868831f143b6e0385e/fcda8/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png\"\n        srcset=\"/static/931ab5c2cee84e868831f143b6e0385e/12f09/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png 148w,\n/static/931ab5c2cee84e868831f143b6e0385e/e4a3f/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png 295w,\n/static/931ab5c2cee84e868831f143b6e0385e/fcda8/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png 590w,\n/static/931ab5c2cee84e868831f143b6e0385e/efc66/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png 885w,\n/static/931ab5c2cee84e868831f143b6e0385e/c83ae/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png 1180w,\n/static/931ab5c2cee84e868831f143b6e0385e/8b70b/1691721410417-2a258783-3ba3-4d60-bed9-731be595b21c.png 1266w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVR42pWTW08TQRiG+wNNNNF4JSVg07SgXuKFxyhEoSmt0Fa8MSHxABgvNBgCSkiUQwGJgEoi9Li09rTb7sxuKRLMY7aFFkUULp55Z5LZd77ve7M2KSV/wzCMhhoS0yhTEFlWsrOs5uZYzk4zExlnLvaW+eQkC8kpEt/j2AzDrH70J/tmFrrQkcIgq2/yPvWKD6nXzGRGmc2+2WOUcG6MaHod29LiPIaUlEqlenVCiLpp7WyhYxomO+Wfe+yyY+7W9Ye5y1a5gk3TNKLRKJFIpIq1VxTlUNtWJ1IaCCl+Qx7AumezFlVV6xQKBaxHDs5P13VKooQsC6QpqipMHWHsIWtaLBVrhqZpHuJgy2VzizFlkIGNDgYTt3kcv8mTzB2e5u/yrNDJc62TkeJ9VhJL2I5KuYGgUt5mKOmhY/4UXWsX6I414VGa6UnY6U234FdbCRRcKHK9VuFRKe9jDfuF4uPW8nl8cSeBnJuHxXZCWhshrZ1Awc2AegVF/MOwYWpVWGEk2cuNT+fwJZ30512Eim0ENTfBgpuA6mJAvXwyw+GEl2uLZ/ErTvxpJ97ERXyKo2rYl3MSyl86ieE2w3EvV6dP07Vi595aM52rTXR9ttOz0Yon1sIDxV0z/H8oki2zwsu0n+5kE8F8O/05d3WOgXxNg6qbR9pxZmg0QhlSPFz/cobemB3vpgNfxkmf6qBPc9RSVl0kxbfjVWj9chvaKh8zU6wVp/kqZljMThJOTRBOjRNOT7CQfocqcvwCldngln7dMEIAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20230810-183015@2x.png\"\n        title=\"WX20230810-183015@2x.png\"\n        src=\"/static/3f8d678affb73dae41ed24a292c4f3b2/fcda8/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png\"\n        srcset=\"/static/3f8d678affb73dae41ed24a292c4f3b2/12f09/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png 148w,\n/static/3f8d678affb73dae41ed24a292c4f3b2/e4a3f/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png 295w,\n/static/3f8d678affb73dae41ed24a292c4f3b2/fcda8/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png 590w,\n/static/3f8d678affb73dae41ed24a292c4f3b2/efc66/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png 885w,\n/static/3f8d678affb73dae41ed24a292c4f3b2/c83ae/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png 1180w,\n/static/3f8d678affb73dae41ed24a292c4f3b2/60ab9/1691721410439-7472f49c-7ac9-4442-aa90-25c40c520fd6.png 2450w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><a name=lkn5B></a></p>\n<h1>依赖替换</h1>\n<p>首先，显而易见的是，需要从 pom.xml 文件里删除对 springfox 的引用，并增加对 springdoc 的引用。这一步改动虽小，但引起的连锁改动非常多（对于已有项目来说）：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8cd5259716de54773c32527e54fbff4d/4bc5a/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACJ0lEQVR42oXRyY7bOBCAYb3/I80lQOaSTIKk43Z3e5MlS9ZGkRKpnRalP2h3TjMGhoUPhUKx6lJekgiC4EocZURRRpErXt+O7F8vbLPvPJWfeQm2fP31D8+bA/t9hFAtlRlQukdW7T3nQiNLjTfZG6WsaLse51a67katR6bJMa+Onop8OVLMZwp3YWgzyBMoEtZrgBMpq7+jv0Y4wNNJwZCXME7YpuNyFKShxPU9c9czN5a1dTA6Fjvg8ivL9gm3/cny6/uHz3+xnnYs44Rn3o6MLwdsWrCIErGP2X05Evx44/L0zPnHC8HPHWIfIg8JJkiZC8Etf1dyy4oP73VW/Fn4erwXNivIXyPiTUh5OlEGO9owpvYjqtOVMcmZ0j/Dj2QCz2QlXS7BWlw/kkeKMjb0nUS0Pmvn4Gbv/XWa/pcnSkUhFMNkGSdLmmmOB8Uh8nmKv1HkDboxSNUiyo6un7DzzPsxH/GSOCU4X5CyQkqFKCTXSBJkPpvsb4pEE8UFZVmhZI1ShkoZdN2g9X952hiquub9retKeKk57jSRDNhUn2hri6oNXdfRdT1NazHNxLKuHzP/Ci+SmlOSUTmDmg0vl4SNnxKaiJ3ekGhFqASlNUhrqFyDXlvqpXnICwfBVp7JbwqJ5qRyvp1CnuMzm9Dn+erjVzGByTlVOekkEUuFcI95ZV+RmIJhnejmkWtZkcqa3g30bmJYLZYbE/ZuXCeGZbr/f+Q3C5WKlZEXbg8AAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WechatIMG9388.jpg\"\n        title=\"WechatIMG9388.jpg\"\n        src=\"/static/8cd5259716de54773c32527e54fbff4d/1c72d/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg\"\n        srcset=\"/static/8cd5259716de54773c32527e54fbff4d/a80bd/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg 148w,\n/static/8cd5259716de54773c32527e54fbff4d/1c91a/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg 295w,\n/static/8cd5259716de54773c32527e54fbff4d/1c72d/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg 590w,\n/static/8cd5259716de54773c32527e54fbff4d/a8a14/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg 885w,\n/static/8cd5259716de54773c32527e54fbff4d/fbd2c/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg 1180w,\n/static/8cd5259716de54773c32527e54fbff4d/4bc5a/1691721881809-0bd88bc4-326e-4133-bc39-4d31eda9e9fb.jpg 2412w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>如果项目中还使用了 knife4j 之类的 swagger 工具，还需要删除 swagger2 相关的依赖：\nxml\n<dependency>\n<groupId>com.github.xiaoymin</groupId>\n<artifactId>knife4j-spring-boot-starter</artifactId>\n</dependency></p>\n<!-- https://mvnrepository.com/artifact/io.swagger/swagger-core -->\n<dependency>\n    <groupId>io.swagger</groupId>\n    <artifactId>swagger-core</artifactId>\n    <version>1.5.22</version>\n</dependency>\n<p>如果想继续使用 knife4j 又想兼容 openapi 3，那么需要添加 knife4j-openapi3-spring-boot-starter。由于 knife4j-openapi3-spring-boot-starter 已经包含了 springdoc-openapi-ui 的内容，如果引用了 knife4j-openapi3-spring-boot-starter，则可以不用再显式添加 springdoc-openapi-ui。\nxml\n<dependency>\n<groupId>com.github.xiaoymin</groupId>\n<artifactId>knife4j-openapi3-spring-boot-starter</artifactId>\n<version>4.1.0</version>\n</dependency></p>\n<p>后面，需要对 Controller 做一些注解增加和替换的工作，首先对引用一有些变化：\ndiff</p>\n<ul>\n<li>import io.swagger.annotations.Api;</li>\n</ul>\n<ul>\n<li>import io.swagger.v3.oas.annotations.Operation;</li>\n<li>import io.swagger.v3.oas.annotations.security.SecurityRequirement;</li>\n<li>import io.swagger.v3.oas.annotations.tags.Tag;</li>\n</ul>\n<p><a name=dpUUm></a></p>\n<h1>注解增加</h1>\n<p>@SecurityRequirement<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.62162162162162%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyUlEQVR42nWIwVKDMABE+f8f01qs1NoRDIFiZ7AlgVBiUqDKc4oePOjuvtmdDZxzGGPw3mOtxdp3nPM47zn3PdPV0zdc88eeYb4IDocj8XNCVSnatqVpDOaHruv4rYkPjp+CfzVBUAqJWD9SppIqL9Cve851zdi2DKbBK43XilF17PWKXN1wqS29VgxKz/RaMxrDxRiC7C1nI7bExQvxLiEtM0L5wJ1cEe4iFuJ+7mUWcZsvWaQh2ypB5hvSdI0UEXHxRDMYTuOJL7tTLiNIoZW+AAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/2c0dfd753b517f114c1e5e62787bd2a0/fcda8/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png\"\n        srcset=\"/static/2c0dfd753b517f114c1e5e62787bd2a0/12f09/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png 148w,\n/static/2c0dfd753b517f114c1e5e62787bd2a0/e4a3f/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png 295w,\n/static/2c0dfd753b517f114c1e5e62787bd2a0/fcda8/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png 590w,\n/static/2c0dfd753b517f114c1e5e62787bd2a0/efc66/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png 885w,\n/static/2c0dfd753b517f114c1e5e62787bd2a0/c83ae/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png 1180w,\n/static/2c0dfd753b517f114c1e5e62787bd2a0/53639/1691722642429-b2765dfe-5bb8-46c0-a9ea-60f2eb634400.png 1358w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=h5jNq></a></p>\n<h1>注解替换</h1>\n<p>@ApiOperation==> @Operation，注意相应的 value 要替换成 summary，而 notes 要替换成 description。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a9f73cdfc6dc9ce54c72588a5f69e83f/09b15/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.4324324324324325%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUUlEQVR42h3JSwqAIABAwe5/sWiRK4k+mmhKiaR9oFXwgmY71fFexDsxuAmzWuTSU5sW60ZOrSnBUTbPoRQxeYSXNLNA+o6sFMWa/3Nw7E/mA4rTSQn/oPeqAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/a9f73cdfc6dc9ce54c72588a5f69e83f/fcda8/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png\"\n        srcset=\"/static/a9f73cdfc6dc9ce54c72588a5f69e83f/12f09/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png 148w,\n/static/a9f73cdfc6dc9ce54c72588a5f69e83f/e4a3f/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png 295w,\n/static/a9f73cdfc6dc9ce54c72588a5f69e83f/fcda8/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png 590w,\n/static/a9f73cdfc6dc9ce54c72588a5f69e83f/efc66/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png 885w,\n/static/a9f73cdfc6dc9ce54c72588a5f69e83f/c83ae/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png 1180w,\n/static/a9f73cdfc6dc9ce54c72588a5f69e83f/09b15/1691722698096-b2ef852e-e598-4023-91a5-381438c4948b.png 1704w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />当然，@Operation也支持更多属性，如：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e487b511c4367c849f05afd1e8d7c99a/a2ef2/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApUlEQVR42k2L7QqCMABFff+nqyg1bbnplo02P/oApbYTglA/DvdwLzeZ5xnnPN57pmkCIjFG4mKRn//1gTVj5BMCYWXZE9UZDionawqElZysRLqGo6vZd5rqYcn9hfRmyLoLx6El9Zpi+bkGcbfUvUGPLd17JNmeD2SmZFel5KZkI/akukDWJUpkKCPIr4qqt6i7Rb4s+nmlebSYl+X27vFhWBn5ApRC4d8JZV1XAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/e487b511c4367c849f05afd1e8d7c99a/fcda8/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png\"\n        srcset=\"/static/e487b511c4367c849f05afd1e8d7c99a/12f09/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png 148w,\n/static/e487b511c4367c849f05afd1e8d7c99a/e4a3f/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png 295w,\n/static/e487b511c4367c849f05afd1e8d7c99a/fcda8/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png 590w,\n/static/e487b511c4367c849f05afd1e8d7c99a/efc66/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png 885w,\n/static/e487b511c4367c849f05afd1e8d7c99a/c83ae/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png 1180w,\n/static/e487b511c4367c849f05afd1e8d7c99a/a2ef2/1691725370508-86223600-15e6-4b0a-8701-cbe64426875e.png 1970w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />@ApiResponse(code=404, message=foo)==> @ApiResponse(responseCode=404, description=foo)<br />@Api==> @Tag<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c1bd07736c4fc1e1480d6467e9b4604/203d3/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVR42o3R227aQBSFYb//M0WqggohbkiaivoAHmOCjQ8zBuyCbWrP/ClBQlVVqV3SJ+11sa+WNWhNEAg2ccJuv0cqhZTq41ZlSdO0XGL4v1jnqmb53WUTrjjtD9RS0VQVuu3QbXt1PDH8hf7NRz81WE28xfv0meDuHnE/IZ97HGZzhkVE7wjOrqDbZhhZogt1M2SSvlA3Q67o0wKrqHNmz1Nevz7ieK9EcYhYuYxfRtjzByYvI8bOA3bwxNS3eVx+YbqwcVKHwH9m6c4I3Ce81TfKpsTKupKRb3PnTxiHM9blhmS9II58tsLlTThEVUzalyRtQdJdpT8VeSfJ24uC7KwoTYXV9z2e5yPCECFCwnDFWxRzXGecRMIxSqmrHwyD/ucgxhgsow1JnFyX3e3I84JcViT5gaQ4kMqKTFbs9jXG6NvjBX/6tfI7c+UOUzPm2jMAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/2c1bd07736c4fc1e1480d6467e9b4604/fcda8/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png\"\n        srcset=\"/static/2c1bd07736c4fc1e1480d6467e9b4604/12f09/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png 148w,\n/static/2c1bd07736c4fc1e1480d6467e9b4604/e4a3f/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png 295w,\n/static/2c1bd07736c4fc1e1480d6467e9b4604/fcda8/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png 590w,\n/static/2c1bd07736c4fc1e1480d6467e9b4604/efc66/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png 885w,\n/static/2c1bd07736c4fc1e1480d6467e9b4604/c83ae/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png 1180w,\n/static/2c1bd07736c4fc1e1480d6467e9b4604/203d3/1691725270334-bbdf25d6-ba0e-457b-ad17-5266ce617a3c.png 1322w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />@ApiIgnore==> @Parameter(hidden=true)或者 @Operation(hiddent=true)或者 @Hidden<br />@ApiImplicitParam==> @Parameter<br />@ApiImplicitParams==> @Parameters<br />@ApiParam==> @Parameter<br />@ApiModelProperty==> @Schema以及 @ApiModel==> @Schema<br />这是针对 Controller 中使用到的请求模型：\ndiff</p>\n<ul>\n<li>import io.swagger.annotations.ApiModelProperty;</li>\n</ul>\n<ul>\n<li>import io.swagger.v3.oas.annotations.media.Schema;</li>\n</ul>\n<p>import lombok.Data;</p>\n<p>@Data</p>\n<ul>\n<li>@ApiModel(description=xxx)</li>\n</ul>\n<ul>\n<li>@Schema(title=xxx)</li>\n</ul>\n<p>public class CallbackVerificationRequest {</p>\n<ul>\n<li>@ApiModelProperty(value = value)</li>\n</ul>\n<ul>\n<li>@Schema(title=value)</li>\n</ul>\n<pre><code>private String signature;\n</code></pre>\n<ul>\n<li>@ApiModelProperty(value = yyy, hidden=true)</li>\n</ul>\n<ul>\n<li>@Schema(title=yyy, accessMode=READ_ONLY)</li>\n</ul>\n<pre><code>private String timestamp;\n</code></pre>\n<ul>\n<li>@ApiModelProperty(value = )</li>\n</ul>\n<ul>\n<li>@Schema()</li>\n</ul>\n<pre><code>private String nonce;\n</code></pre>\n<ul>\n<li>@ApiModelProperty(value = )</li>\n</ul>\n<ul>\n<li>@Schema()</li>\n</ul>\n<pre><code>private String echostr;\n</code></pre>\n<p>}</p>\n<p>注意对应的 value 属性需要改成 title。\n<a name=Z4ePj></a></p>\n<h2>自动修改的脚本</h2>\n<p>如果项目很大，以上替换的工作量很大。可以使用如下 python 脚本进行批量替换。\npython\nimport os\nimport logging</p>\n<p>logging.basicConfig(level=logging.INFO, format=%(asctime)s - %(levelname)s - %(message)s)</p>\n<h1>指定目录路径</h1>\n<p>dir_path = input(请输入要修改的目录：)</p>\n<h1>遍历目录中的所有文件</h1>\n<p>for root, dirs, files in os.walk(dir_path):\nfor file_name in files:\n# 判断文件是否为Java源代码文件\nif file_name.endswith(.java):\nlogging.info(replace file  + file_name + ...)\n# 打开文件并读取内容\nwith open(os.path.join(root, file_name), r) as f:\ncontent = f.read()\n# 替换特殊字符\nnew_content = content.replace(@ApiModelProperty(value, @Schema(title)\nnew_content = new_content.replace(@ApiModelProperty(, @Schema(title = )<br>\nnew_content = new_content.replace(@ApiModel(value, @Tag(name)\nnew_content = new_content.replace(@ApiModel(, @Tag(name = )\nnew_content = new_content.replace(@ApiModel, @Tag(name = ))\nnew_content = new_content.replace(notes =, description =)\nnew_content = new_content.replace(required = true, requiredMode = Schema.RequiredMode.REQUIRED)\nnew_content = new_content.replace(required = false, requiredMode = Schema.RequiredMode.NOT_REQUIRED)\nnew_content = new_content.replace(@Api(value, @Tag(name)\nnew_content = new_content.replace(@Api(description, @Tag(name)\nnew_content = new_content.replace(@ApiParam(, @Parameter(description = )\nnew_content = new_content.replace(tags =, description =)\nnew_content = new_content.replace(@ApiOperation(value, @Operation(summary)\nnew_content = new_content.replace(@ApiOperation(, @Operation(summary = )\nnew_content = new_content.replace(import io.swagger.annotations.Api;, import io.swagger.v3.oas.annotations.tags.Tag;)\nnew_content = new_content.replace(import io.swagger.annotations.ApiOperation;, import io.swagger.v3.oas.annotations.Operation;)\nnew_content = new_content.replace(import io.swagger.annotations.ApiModelProperty;, import io.swagger.v3.oas.annotations.media.Schema;)\nnew_content = new_content.replace(import io.swagger.annotations.ApiModel;, import io.swagger.v3.oas.annotations.tags.Tag;)\n# 写回文件\nwith open(os.path.join(root, file_name), w) as f:\nf.write(new_content)</p>\n<p><a name=SSvVh></a></p>\n<h1>Swagger 配置修改</h1>\n<p>src/main/java/com/your/product/application/config/SwaggerConfig.java 文件主要修改如下：\ndiff</p>\n<ul>\n<li>import org.springframework.web.bind.annotation.RestController;</li>\n<li>import springfox.documentation.builders.ApiInfoBuilder;</li>\n<li>import springfox.documentation.builders.PathSelectors;</li>\n<li>import springfox.documentation.builders.RequestHandlerSelectors;</li>\n<li>import springfox.documentation.service.ApiInfo;</li>\n<li>import springfox.documentation.service.Contact;</li>\n<li>import springfox.documentation.service.Tag;</li>\n<li>import springfox.documentation.spi.DocumentationType;</li>\n<li>import springfox.documentation.spring.web.plugins.Docket;</li>\n</ul>\n<ul>\n<li>\n<p>import io.swagger.v3.oas.annotations.enums.SecuritySchemeType;</p>\n</li>\n<li>\n<p>import io.swagger.v3.oas.annotations.security.SecurityScheme;</p>\n</li>\n<li>\n<p>import io.swagger.v3.oas.models.OpenAPI;</p>\n</li>\n<li>\n<p>import io.swagger.v3.oas.models.info.Info;</p>\n</li>\n<li>\n<p>import io.swagger.v3.oas.models.security.SecurityRequirement;</p>\n</li>\n<li>\n<p>import io.swagger.v3.oas.models.servers.Server;</p>\n</li>\n<li>\n<p>import java.util.Arrays;</p>\n</li>\n<li>\n<p>import java.util.List;</p>\n</li>\n<li>\n<p>import java.util.Map;</p>\n</li>\n</ul>\n<p>@Configuration</p>\n<ul>\n<li>@SecurityScheme(</li>\n<li>\n<pre><code>   name = bearerAuth,\n</code></pre>\n</li>\n<li>\n<pre><code>   type = SecuritySchemeType.HTTP,\n</code></pre>\n</li>\n<li>\n<pre><code>   scheme = bearer,\n</code></pre>\n</li>\n<li>\n<pre><code>   bearerFormat = JWT\n</code></pre>\n</li>\n<li>)</li>\n</ul>\n<p>public class SwaggerConfig {</p>\n<ul>\n<li>private List<Server> serverList() {</li>\n<li>\n<pre><code>   var localhost = new Server();\n</code></pre>\n</li>\n<li>\n<pre><code>   localhost.url(http://localhost:8080);\n</code></pre>\n</li>\n<li>\n<pre><code>   localhost.description(Local Server);\n</code></pre>\n</li>\n<li></li>\n<li>\n<pre><code>   return List.of(localhost);\n</code></pre>\n</li>\n<li>}</li>\n<li></li>\n<li>private List<SecurityRequirement> securityList() {</li>\n<li>\n<pre><code>   var securityRequirement = new SecurityRequirement();\n</code></pre>\n</li>\n<li>\n<pre><code>   securityRequirement.addList(bearerAuth);\n</code></pre>\n</li>\n<li></li>\n<li>\n<pre><code>   return List.of(securityRequirement);\n</code></pre>\n</li>\n<li>}</li>\n<li></li>\n</ul>\n<pre><code>\t@Bean\n</code></pre>\n<ul>\n<li>public Docket docket(Environment environment){</li>\n</ul>\n<ul>\n<li>public OpenAPI publicApi(Environment environment) {\nProfiles profile = Profiles.of(local, dev, ...);\nboolean flag = environment.acceptsProfiles(profile);</li>\n</ul>\n<ul>\n<li>\n<pre><code>   return new Docket(DocumentationType.SWAGGER_2)\n</code></pre>\n</li>\n<li>\n<pre><code>           .enable(flag)\n</code></pre>\n</li>\n<li>\n<pre><code>           .apiInfo(apiInfo())\n</code></pre>\n</li>\n<li>\n<pre><code>           .tags(new Tag(cool api,  cool 相关API))\n</code></pre>\n</li>\n<li>\n<pre><code>           .select()\n</code></pre>\n</li>\n<li>\n<pre><code>           .apis(RequestHandlerSelectors.withClassAnnotation(RestController.class))\n</code></pre>\n</li>\n<li>\n<pre><code>           .paths(PathSelectors.any())\n</code></pre>\n</li>\n<li>\n<pre><code>           .build();\n</code></pre>\n</li>\n</ul>\n<ul>\n<li>\n<pre><code>   return new OpenAPI()\n</code></pre>\n</li>\n<li>\n<pre><code>           .servers(serverList())\n</code></pre>\n</li>\n<li>\n<pre><code>           .info(new Info()\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t\t\t\t\t .title(cool api Doc)\n</code></pre>\n</li>\n<li>\n<pre><code>                   .extensions(Map.of(\n</code></pre>\n</li>\n<li>\n<pre><code>                           x-audience, external-partner,\n</code></pre>\n</li>\n<li>\n<pre><code>                           x-application-id, APP-12345\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t\t\t\t\t\t))\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t\t\t\t\t\t.description(cool api doc)\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t\t\t\t\t\t.version(1.0)\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t )\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t .addSecurityItem(new SecurityRequirement().addList(bearer-jwt, Arrays.asList(read, write)))\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t .security(securityList());\n</code></pre>\n}</li>\n</ul>\n<ul>\n<li>private ApiInfo apiInfo() {</li>\n<li>\n<pre><code>  return new ApiInfoBuilder()\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t.title()\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t\t.version()\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t\t.contact(new Contact(, , ))\n</code></pre>\n</li>\n<li>\n<pre><code>  \t\t\t\t\t\t.build();\n</code></pre>\n</li>\n<li>}</li>\n</ul>\n<p>}</p>\n<p>对于使用了 knife4j 的项目来说，这一步是类似的。最终的 Swagger Config 如下：</p>\n<p>java\n@Configuration\n@Profile({local,dev,...})\npublic class SwaggerConfig {\n@Bean\npublic OpenAPI customOpenAPI() {\nreturn new OpenAPI()\n.components(setToken())\n.info(\nnew Info().title(cool.api.doc)\n.extensions(Map.of(\nx-audience, external-partner,\nx-application-id, APP-12345\n))\n.description(cool API Doc)\n.version(1.0)\n)\n.security(securityList());\n}</p>\n<pre><code>/**\n * 在 swagger 页面上点击 Authorize 按钮，记录输入的 token\n */\nprivate Components setToken() {\n    return new Components().addSecuritySchemes(Authorization,\n    new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(bearer).bearerFormat(JWT));\n}\n\n/**\n * 给每个请求的 header 上加一个 Authorization，值就是 setToken() 方法记录的 token，比如：Bearer eyJhbGciOiJSUxx\n */\nprivate List&#x3C;SecurityRequirement> securityList() {\n    var securityRequirement = new SecurityRequirement();\n    securityRequirement.addList(Authorization);\n    return List.of(securityRequirement);\n}\n</code></pre>\n<p>}</p>\n<p><a name=AeHfl></a></p>\n<h1>api 路由修改</h1>\n<p>application.yml 可以自定义 api 文档路由。\nyaml\nspringdoc:\napi-docs:\npath: v3/api-docs</p>\n<p>注意，以上示例配置了相对路径路由，你也可以配置绝对路径路由，如 /v3/api-docs。这样可以通过访问 <a href=\"http://localhost:8080/v3/api-docs\">http://localhost:8080/v3/api-docs</a> 拿到 openapi 的 JSON 表示。</p>\n<p><a name=YdSpO></a></p>\n<h2>base64 解码</h2>\n<p>如果以上路径返回的是 base64 编码后的结果，可以通过添加一个 Jackson 配置来解码：\njava\n@Configuration\npublic class JacksonConfig implements WebMvcConfigurer {</p>\n<pre><code>@Autowired(required = false)\nprivate List&#x3C;MyBeanSerializerModifier> myBeanSerializerModifierList;\n\n@Override\npublic void extendMessageConverters(List&#x3C;HttpMessageConverter&#x3C;?>> converters) {\n    MappingJackson2HttpMessageConverter jackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\n\n    ObjectMapper objectMapper = jackson2HttpMessageConverter.getObjectMapper();     \n    ......\n    objectMapper.registerModule(simpleModule).registerModule(javaTimeModule).registerModule(new ParameterNamesModule());\n\n    SerializerFactory serializerFactory = objectMapper.getSerializerFactory();\n    if (CollectionUtils.isNotEmpty(myBeanSerializerModifierList)) {\n        for (MyBeanSerializerModifier myBeanSerializerModifier : myBeanSerializerModifierList) {\n            serializerFactory = serializerFactory.withSerializerModifier(myBeanSerializerModifier);\n        }\n    }\n    objectMapper.setSerializerFactory(serializerFactory);\n\n    jackson2HttpMessageConverter.setObjectMapper(objectMapper);\n\n    //放到第二个，保证 ByteArrayHttpMessageConverter 放在第一位\n    converters.add(1, jackson2HttpMessageConverter);\n}\n</code></pre>\n<p>}</p>\n<p><a name=F3CX3></a></p>\n<h1>运行验证</h1>\n<p>shell\nmvn clean compile\nmvn spring-boot:run -f pom.xml\nopen <a href=\"http://localhost:8080/swagger-ui.html\">http://localhost:8080/swagger-ui.html</a></p>\n<p><a name=kXLJo></a></p>\n<h1>CICD 支持</h1>\n<p>如果希望在 CICD 过程中自动将最新的 open api 上传到 Swagger Hub 之类的中央存储，可以在 SpringBootApplication.java 所在模块下的 pom.xml 中配置一些 maven plugins 使得在 mvn verify时自动将下载 open-api.json 文件。\n<a name=Sfh9p></a></p>\n<h2>springdoc-openapi-maven-plugin</h2>\n<p>xml\n<plugin>\n<groupId>org.springframework.boot</groupId>\n<artifactId>spring-boot-maven-plugin</artifactId>\n<version>3.0.2</version>\n<configuration>\n<jvmArguments>-Dspring.application.admin.enabled=true</jvmArguments>\n<mainClass>com.your.product.TheBootApplication</mainClass>\n</configuration>\n<executions>\n<execution>\n<goals>\n<goal>repackage</goal>\n</goals>\n</execution>\n<execution>\n<id>pre-integration-test</id>\n<goals>\n<goal>start</goal>\n</goals>\n</execution>\n<execution>\n<id>post-integration-test</id>\n<goals>\n<goal>stop</goal>\n</goals>\n</execution>\n</executions>\n</plugin></p>\n<p><a name=CNAPg></a></p>\n<h2>springdoc-openapi-maven-plugin</h2>\n<p>xml\n<plugin>\n<groupId>org.springdoc</groupId>\n<artifactId>springdoc-openapi-maven-plugin</artifactId>\n<version>1.4</version>\n<executions>\n<execution>\n<id>integration-test</id>\n<goals>\n<goal>generate</goal>\n</goals>\n</execution>\n</executions>\n<configuration>\n<outputDir>../</outputDir> <!-- 生成json的目录 -->\n<outputFileName>open-api.json</outputFileName> <!-- 生成json的名称 -->\n<apiDocsUrl><a href=\"http://localhost:8080/v3/api-docs\">http://localhost:8080/v3/api-docs</a></apiDocsUrl>\n</configuration>\n</plugin></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}