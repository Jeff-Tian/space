{"componentChunkName":"component---src-templates-post-js","path":"/posts/Git-subtree-命令的几条常用场景/","result":{"data":{"sitePage":{"id":"SitePage /posts/Git-subtree-命令的几条常用场景/"}},"pageContext":{"url":"/posts/Git-subtree-命令的几条常用场景/","relativePath":"posts/Git-subtree-命令的几条常用场景.md","relativeDir":"posts","base":"Git-subtree-命令的几条常用场景.md","name":"Git-subtree-命令的几条常用场景","frontmatter":{"title":"Git subtree 命令的几条常用场景","stackbit_url_path":"posts/Git-subtree-命令的几条常用场景","date":"2014-02-13 02:30:00","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["git","subtree"],"canonical_url":"https://be-net.azurewebsites.net/post/2014/02/13/Git-subtree-命令的几条常用场景","template":"post"},"html":"<h2><span style=\"color: #800080\">1. 查看当前 Git 仓库有哪些已建立的 Subtree</span></h2>  <p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git log | grep git-subtree-dir | tr -d ' ' | cut -d &quot;:&quot; -f2 | sort |uniq</span></p>  <p><strong>示例</strong>：</p>  <pre class=\"cmd auto-wrap\">$ git log | grep git-subtree-dir | tr -d ' ' | cut -d &quot;:&quot; -f2 | sort |uniq\r\nZiZhuJY.Web.UI/Scripts/flot/flot\r\nZiZhuJY.Web.UI/Scripts/flot/navigationControl</pre>\n<h2><span style=\"color: #800080\">2. 第一次添加子目录，建立与git项目的关联</span></h2>\n<p>建立关联总共有2条命令。</p>\n<p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git remote add -f &lt;子仓库名&gt; &lt;子仓库地址&gt;</span></p>\n<p>解释：其中-f意思是在添加远程仓库之后，立即执行fetch。</p>\n<p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git subtree add --prefix=&lt;子目录名&gt; &lt;子仓库名&gt; &lt;分支&gt; --squash</span></p>\n<p>解释：--squash意思是把subtree的改动合并成一次commit，这样就不用拉取子项目完整的历史记录。--prefix之后的=等号也可以用空格。</p>\n<p><strong>示例</strong>：</p>\n<pre class=\"cmd auto-wrap\">$git remote add -f ai https://github.com/aoxu/ai.git\r\n$git subtree add --prefix=ai ai master --squash&#160; </pre>\n<h2><span style=\"color: #800080\">3. 从远程仓库更新子目录</span></h2>\n<p>更新子目录有2条命令。</p>\n<p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git fetch &lt;远程仓库名&gt; &lt;分支&gt;</span></p>\n<p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git subtree pull --prefix=&lt;子目录名&gt; &lt;远程仓库名&gt; &lt;分支&gt; --squash</span></p>\n<p><strong>示例</strong>：</p>\n<pre class=\"cmd auto-wrap\">$git fetch ai master\r\n$git subtree pull --prefix=ai ai master --squash&#160; </pre>\n<p>或者使用下面这一条命令：</p>\n<p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git pull -X subtree=&lt;子目录名&gt; &lt;远程仓库名&gt; &lt;分支&gt;</span></p>\n<p><strong>示例</strong>：</p>\n<pre class=\"cmd auto-wrap\">$ git pull -X subtree=ZiZhuJY.Web.UI/Scripts/flot/coordinate jquery.flot.coordinate master\r\nFrom https://github.com/Jeff-Tian/jquery.flot.coordinate.js\r\n * branch            master     -&gt; FETCH_HEAD\r\nAlready up-to-date.</pre>\n<h2><span style=\"color: #800080\">4. 从子目录push到远程仓库（确认你有写权限）</span></h2>\n<p>推送子目录的变更有1条命令。</p>\n<p><strong>语法</strong>：<span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git subtree push --prefix=&lt;子目录名&gt; &lt;远程分支名&gt; 分支</span></p>\n<p><strong>示例</strong>：</p>\n<pre class=\"cmd auto-wrap\">$ git subtree push --prefix=ZiZhuJY.Web.UI/Scripts/flot/coordinate jquery.flot.\r\ncoordinate master\r\ngit push using:  jquery.flot.coordinate master\r\n1/     87 (0)2/     87 (1)3/     87 (2)4/     87 (3)5/     87 (4)6/     87 (5)7/\r\n     87 (6)8/     87 (7)9/     87 (8)10/     87 (9)11/     87 (10)12/     87 (11\r\n)13/     87 (12)14/     87 (13)15/     87 (14)16/     87 (15)17/     87 (16)18/\r\n    87 (17)19/     87 (18)20/     87 (19)21/     87 (20)22/     87 (21)23/     8\r\n7 (22)24/     87 (23)25/     87 (24)26/     87 (25)27/     87 (26)28/     87 (27\r\n)29/     87 (28)30/     87 (29)31/     87 (30)32/     87 (31)33/     87 (32)34/\r\n    87 (33)35/     87 (34)36/     87 (35)37/     87 (36)38/     87 (37)39/     8\r\n7 (38)40/     87 (39)41/     87 (40)42/     87 (41)43/     87 (42)44/     87 (43\r\n)45/     87 (44)46/     87 (45)47/     87 (46)48/     87 (47)49/     87 (48)50/\r\n    87 (49)51/     87 (50)52/     87 (51)53/     87 (52)54/     87 (53)55/     8\r\n7 (54)56/     87 (55)57/     87 (56)58/     87 (57)59/     87 (58)60/     87 (59\r\n)61/     87 (60)62/     87 (61)63/     87 (62)64/     87 (63)65/     87 (64)66/\r\n    87 (65)67/     87 (66)68/     87 (67)69/     87 (68)70/     87 (69)71/     8\r\n7 (70)72/     87 (71)73/     87 (72)74/     87 (73)75/     87 (74)76/     87 (75\r\n)77/     87 (76)78/     87 (77)79/     87 (78)80/     87 (79)81/     87 (80)82/\r\n    87 (81)83/     87 (82)84/     87 (83)85/     87 (84)86/     87 (84)87/     8\r\n7 (85)Username for 'https://github.com': Jeff-Tian\r\nPassword for 'https://Jeff-Tian@github.com':\r\nCounting objects: 5, done.\r\nDelta compression using up to 4 threads.\r\nCompressing objects: 100% (3/3), done.\r\nWriting objects: 100% (3/3), 674 bytes, done.\r\nTotal 3 (delta 2), reused 0 (delta 0)\r\nTo https://github.com/Jeff-Tian/jquery.flot.coordinate.js.git\r\n   2b45e6b..6cdd58f  6cdd58f79dba0b0b790e4e051abf7887f2985f8f -&gt; master</pre>\n<hr />\n<p>参考自：<a style=\"border-left-width: 0px; font-size: 1.5em; text-decoration: none; font-family: inherit; border-right-width: 0px; vertical-align: baseline; border-bottom-width: 0px; padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px; border-top-width: 0px\" href=\"http://aoxuis.me/posts/2013/08/07/git-subtree\">使用git subtree集成项目到子目录</a></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}