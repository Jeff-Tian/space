{"componentChunkName":"component---src-templates-post-js","path":"/posts/tpisf7/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/tpisf7","relativePath":"posts/tpisf7","frontmatter":{"title":"åˆ©ç”¨ openssl å®‰å…¨åœ°æ¢å¤å‡º GitHub Actions ä¸­çš„ secrets åŸå§‹æ˜æ–‡å€¼","stackbit_url_path":"posts/tpisf7","date":"2022-08-19T10:56:28","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a name=DZUvV></a></p>\n<h1>é—®é¢˜</h1>\n<p>å‡ å¹´å‰çš„ GitHub è®ºæ–‡ä»“åº“ï¼Œè®¾ç½®äº†ä¸€ä¸ª GitHub Actionsï¼Œä½¿ç”¨ texlive ç¼–è¯‘æˆæœ€ç»ˆçš„è®ºæ–‡ pdf æ–‡ä»¶ï¼Œé€šè¿‡ä¼ä¸šå¾®ä¿¡æœºå™¨äºº webhook å‘é€åˆ°æˆ‘çš„æ‰‹æœºä¸Šã€‚è¿™ä¸ª GitHub Actionï¼Œä½¿ç”¨åˆ°çš„ä¼ä¸šå¾®ä¿¡æœºå™¨äºº webhook ç›¸å…³çš„é…ç½®ï¼Œé€šè¿‡ repository secrets ä¼ å…¥ï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c5822caf8b41676cfc485bf96412eba/19ab6/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACcklEQVR42nVUV5ajMBDkJDvGxghQBJGDPXlmw/2vU7vdksPMe/tRbrCgVF3VKLHdCj89oRkf0c7PyEqHXSaR5hq7o2LcXzMyiVx5zE+/sDz/ZoznT2RVjUTWI7RfYNqFK91LN6KyPV+rZkJpe1RugPYzVDPzGoHu6T16RijPGye221hZPZxZqaonfrg0HZMQaaG7K2llBxSmR64H5NLjWNXIyhp7YQIhvViaHoXporIhkLpQg6Lhi3JhBmRmwaEKqojsgoTanB5/Yjx9YNjeQYplJPof9AWebFpjXdj/hMxlhbpjZLEFWqRKLYW23N3a3bpsGMRzKCySe8lk8vT4iW55Qb+9YTi9o1tfGfT/eP7gtWF7wxSviYRw4Unoh3YTuo3mDwi+kqcDW2DaFa4/8YYFP9dySARSRgqvHh5iOmmukMY5I8MzuyEzM47uhKPduIb/V2RmRSpu83rfZZIS4XcUFvvCYU9VRBTfcJfsl5S7QqEt9Q2VwVAqqNLicDU/BPA1lFtgHFoVZjGZuwXLyx/M509M2wdks6D3EyY/QrYrDI1EG0ZDxVG5VBovRjMzaJPESIvMegjbQNQeB91AFga21EijOkqRzKfhv4RHXwl9XRRW2y6wzcR2JarU2CuHowlIK4syV9C5xENOvgTTqS0REyUy2ogmQLcLGjoPbB8IdalxMDVyRz5Y7HKDSigYobATN/OJiJUpD6Fa3oDU8VnQzDBuCISyNNiZGpmrsZcOP4RFITSMkHiIZEFhw+2SOiKlEKhlJqRTpx4DoS8VtDJwxsBUGlIoeCGho8LDRWFVM1F+bbnmA4OPNd2iouPrH+FfIegLWYAwiEQAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/6c5822caf8b41676cfc485bf96412eba/fcda8/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png\"\n        srcset=\"/static/6c5822caf8b41676cfc485bf96412eba/12f09/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png 148w,\n/static/6c5822caf8b41676cfc485bf96412eba/e4a3f/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png 295w,\n/static/6c5822caf8b41676cfc485bf96412eba/fcda8/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png 590w,\n/static/6c5822caf8b41676cfc485bf96412eba/efc66/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png 885w,\n/static/6c5822caf8b41676cfc485bf96412eba/c83ae/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png 1180w,\n/static/6c5822caf8b41676cfc485bf96412eba/19ab6/1660887225927-8fa10392-38da-435f-bc5d-6f773808a4fd.png 1664w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ç°åœ¨æƒ³é…ç½®åˆ°å¦å¤–çš„åœ°æ–¹ï¼Œä½†æ˜¯æ‰¾ä¸åˆ°åŸå§‹çš„å€¼äº†ï¼Œè€Œ GitHub å¹¶æ²¡æœ‰æä¾›æŸ¥çœ‹åŸå§‹å€¼çš„æ–¹å¼ã€‚</p>\n<p><a name=uM0xT></a></p>\n<h1>å°è¯•</h1>\n<p>ä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•æ˜¯ï¼ŒæŠŠè¿™äº›ç§˜å¯†å€¼åœ¨æ—¥å¿—ä¸­æ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯å¤±è´¥äº†ï¼Œå› ä¸ºç›´æ¥ echoï¼ŒåŠ å¯†å€¼ä¼šè¢« GitHub Action æ‰“ç ï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACDklEQVR42p1USZLbMAz0NzKyLVHcVy2WZcuHSf7/qU4RWkaVsg7OoYvQwgYabPB05Q6X2qL2PWQ/wT6+wV2PMzMomKH1E5yIkBlw04DbFrVpUIpASYpK/x/hL2ZQmRa2f0GEARfu8FWqjfAT4lPJHdpa4mEjXqHBaAIqGVDKgJzs0yqJ0AqHWzti6EY0vgVTEUwnXIXfEepDFNX63eBUcYeRK/yODf7EFi/jwGQAUwnlUmFBso/xQ7r0kAmP0D7h0h3KdTiLgIJ7fNUW50rjulRSsjne402FFr00mFKPu40YXcLDNxiUQ6gVJFN4MI6OCQyM48k4eiYwsZreX/8lzLI8N2h0QGcjPNcwpYBjCqqScw8rjcuyrriwGW9tU9QOtb9BphHMdoRr7qFK8wHlWEZUaoEMlGi11h5ESH1UCbWeIX0/W0f4H8hsp0jrHIftn5VjqzC/tM2DYNII301w+ZDaJ3z/mtduopi+dRNUGCBcT4Wsvt0IZ9LZyLmKGQHS3yBcR5uyL/MmblqKSe6R5K302pL3yiUJJVqkbnJJoj+elDy3Fxm3g8geXGM6LJ2gwwAd7ySxWhLsZ3w/nqeSWzTK4Rl7jKHF3Td4phs9t9rT7cNtt53wehMdXRrkw8g1ehMISRhErpC4hq/VtjH3bMXar3ekmw+zTB4GlLqhsTsLT/LzBXHd22exyVGFfwH+vwO+2PhT/QAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/535e479db044387aaf49776892a47e88/fcda8/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png\"\n        srcset=\"/static/535e479db044387aaf49776892a47e88/12f09/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png 148w,\n/static/535e479db044387aaf49776892a47e88/e4a3f/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png 295w,\n/static/535e479db044387aaf49776892a47e88/fcda8/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png 590w,\n/static/535e479db044387aaf49776892a47e88/efc66/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png 885w,\n/static/535e479db044387aaf49776892a47e88/c83ae/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png 1180w,\n/static/535e479db044387aaf49776892a47e88/4ca46/1660887586643-352fab13-70c4-4f42-b13f-b2e3ec02a0e3.png 1944w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />å…¶å®ï¼Œå¦‚æœ GitHub çœŸçš„åœ¨æ—¥å¿—ä¸­æ˜æ–‡è¾“å‡ºç§˜å¯†å€¼ï¼Œé‚£ä¹ˆä¸€æ—¦ä»“åº“æ˜¯å…¬å¼€çš„ï¼Œå°±ä¼šæ³„å¯†ã€‚\n<a name=hJtZQ></a></p>\n<h1>æ€è€ƒ ğŸ¤”</h1>\n<p>æ—¢ç„¶ç›´æ¥ echo ä¸å·¥ä½œï¼Œå°±æƒ³åˆ°å°†å®ƒä»¬ base64 ä¹‹åè¾“å‡ºï¼š echo xxx | base64ï¼Œä½†æ˜¯è¿™æ ·ï¼Œåˆä¸å®‰å…¨ï¼Œå› ä¸ºä¸€æ—¦ä»“åº“å…¬å¼€ï¼Œå°±ä¼šæ³„å¯†ã€‚æ¯•ç«Ÿä»»ä½•äººçœ‹åˆ°äº† base64 çš„è¾“å‡ºï¼Œéƒ½èƒ½è§£ç æŸ¥çœ‹æ˜æ–‡ã€‚æœ‰æ²¡æœ‰åŠæ³•æ—¢èƒ½ç»•è¿‡ GitHub Action çš„æ‰“ç æœºåˆ¶ï¼Œåˆèƒ½ä¿è¯å®‰å…¨å‘¢ï¼Ÿ</p>\n<p>base64 åªæ˜¯ç¼–ç ï¼Œè¦ä¿è¯å†…å®¹å®‰å…¨ï¼Œè¿˜éœ€è¦åŠ å¯†æ‰è¡Œã€‚ä½¿ç”¨ä¸€ä¸ªå¯†é’¥ï¼Œå°†ç§˜å¯†å€¼è¾“å‡ºä¸ºå¯†æ–‡ï¼Œè€Œåªæœ‰æˆ‘æœ‰å¯†é’¥ï¼Œåœ¨æœ¬åœ°è§£å¯†æŸ¥çœ‹ç§˜å¯†å€¼å³å¯ã€‚</p>\n<p><a name=XcloQ></a></p>\n<h1>å¦‚ä½•åŠ å¯†ï¼Ÿ</h1>\n<p>æ€æ ·ä½¿ç”¨å‘½ä»¤è¡ŒåŠ å¯†å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ openssl è¿™ä¸ªå‘½ä»¤ã€‚åœ¨è¾“å‡ºç§˜å¯†å‰ï¼Œç”¨å®ƒåŠ å¯†ï¼›åœ¨æœ¬åœ°ï¼Œç”¨å®ƒè§£å¯†ã€‚æ³¨æ„ï¼Œopenssl åœ¨ä¸åŒçš„æœºå™¨ä¸Šè¿è¡Œè¡¨ç°ä¸ä¸€æ ·ï¼Œå¦‚æœåœ¨ GitHub Actions ä¸Šæ˜¯ä½¿ç”¨ Ubuntu è¿›è¡Œ openssl åŠ å¯†çš„è¯ï¼Œåœ¨æœ¬åœ°è§£å¯†æ—¶ä¹Ÿéœ€è¦ç”¨ Ubuntu æ¥è¿è¡Œ opensslï¼Œæ²¡æœ‰ Ubuntu æœºå™¨ï¼Œå¯ä»¥ä½¿ç”¨ docker ä¸‹è½½ä¸€ä¸ªã€‚</p>\n<p><a name=QY6La></a></p>\n<h2>åŠ å¯†å‘½ä»¤</h2>\n<p>ä»¥ä¸Šé¢çš„ TARGET_URL ä¸ºä¾‹ï¼š\nshell\necho ${TARGET_URL} | openssl enc -e -aes-256-cbc -a -pbkdf2 -iter ${MY_OPENSSL_ITER} -k ${MY_OPENSSL_PASSWORD}</p>\n<p>æ³¨æ„ï¼Œè¿™é‡Œåœ¨åŠ å¯†æ—¶ä½¿ç”¨äº†é¢å¤–çš„ä¸¤ä¸ªå‚æ•°ï¼š MY_OPENSSL_ITER å’Œ MY_OPENSSL_PASSWORDã€‚åè€…æ˜¯å¯†é’¥ï¼Œå¯ä»¥å­˜æ”¾åœ¨ GitHub Actions çš„ SECRETS é‡Œï¼Œåœ¨æ‰§è¡Œæ—¶å°†å®ƒæ³¨å…¥ç¯å¢ƒå˜é‡ï¼›å‰è€…æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¶Šå¤§åˆ™è®©æš´åŠ›ç¢°è§£çš„éš¾åº¦è¶Šå¤§ï¼Œæ³¨æ„è¿™ä¸ªå˜é‡å»ºè®®â€œä¸è¦â€å­˜æ”¾åœ¨ SECRETS é‡Œï¼Œæ¯”å¦‚è¿™ä¸ªå€¼å¦‚æœä¸º 5ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ä»¥ä¸Šå‘½ä»¤çš„è¾“å‡ºä¸­ï¼Œä»»ä½•çš„ 5 è¿™ä¸ªæ–‡æœ¬éƒ½ä¼šè¢«æ›¿æ¢æˆ ***ï¼Œä¸‰ä¸ªæ˜Ÿå·ï¼Œå¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>\n<p>æ¯”å¦‚ä½¿ç”¨äº† upload.sh æ¥æ‰§è¡Œå¯¹ä¼ä¸šå¾®ä¿¡ API çš„è°ƒç”¨ï¼Œé‚£ä¹ˆè¿™ä¸€æ­¥çš„ GitHub Actions yml å†…å®¹å¦‚ä¸‹ï¼š</p>\n<p>yaml\n...\n- name: send to wechat\nif: ${{ always() }}\nenv:\nMY_OPENSSL_ITER: 5\nMY_OPENSSL_PASSWORD: ${{ secrets.MY_OPENSSL_PASSWORD }}\nTARGET_URL: ${{ secrets.TARGET_URL }}\nFILE_UPLOAD_URL: ${{ secrets.FILE_UPLOAD_URL }}\nSECRET_KEY: ${{ secrets.SECRET_KEY }}\nINPUT_ARGS: *.pdf\nrun: |\nsh ./tools/upload.sh</p>\n<p>è¿™æ ·æ”¹é€ åï¼Œæ‰§è¡Œåçš„ GitHub Actions æ—¥å¿—è¾“å‡ºå¦‚ä¸‹ï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0bda0625c34cc4ea2a547629f5a4034b/7ad71/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABvklEQVR42oVSW27bMBD0OZLYpvje5VKkJMsOkN7/WlNw7RgxWrQfg4FAaDCPPUxpRr38gmxfoP4JXzY4XmCpw+YfoAWOFvj/4GBsBnlCrxsqN0ieUZKAAiM5QvaM6DKiCbAm4M0kvP8DB2cz1iS4rTfcliv2dsFaOjZZlVdZMNOMaiPIRrxNhOOU8WEJxwc+xvcDh6Nj5CgqdJk3dG7oNGPOFSUw2GUUT+BQYILg7B8IgilWmFhVaLh7CrYkWJdP9H6FyIoqm3KKogihIBuvP71EPke8m/gU08gnx0ip4tJ2LHVDLwsWWdFLR4mi/bIn5FBghytfng7N3xw6R9rh3ndsdcXCDXMSRY0FcyqokbU/thFiw73DKf/RnwqeHYNSRR8O2455RC4LhBpyLIiekHRpUowRdQzHOLmCkfDb4TNyoA7pN8Rxf77AOIJxrHy2WXlE1TdfcNLYRWOP+C8OvWds3HDdv7C2/X6P1BQyzoUaOFVEmxBsQrER5xH1x9mc1O0d2qGu3K/Y+hWX5aa89RuarCrKSRBtVrBNOD0F+dFjeo081kvU4VOF9azRBk8jtiVlF0RhvuP6x8rhdeXfQlpeRq0vPxIAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/0bda0625c34cc4ea2a547629f5a4034b/fcda8/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png\"\n        srcset=\"/static/0bda0625c34cc4ea2a547629f5a4034b/12f09/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png 148w,\n/static/0bda0625c34cc4ea2a547629f5a4034b/e4a3f/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png 295w,\n/static/0bda0625c34cc4ea2a547629f5a4034b/fcda8/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png 590w,\n/static/0bda0625c34cc4ea2a547629f5a4034b/efc66/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png 885w,\n/static/0bda0625c34cc4ea2a547629f5a4034b/c83ae/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png 1180w,\n/static/0bda0625c34cc4ea2a547629f5a4034b/7ad71/1660905539867-78872c5f-3c52-413c-ac53-e79d53509081.png 2338w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=apz5D></a></p>\n<h1>å¦‚ä½•è§£å¯†ï¼Ÿ</h1>\n<p><a name=FiolC></a></p>\n<h2>è§£å¯†å‘½ä»¤</h2>\n<p>shell\necho ENCRYPTED_TEXT | openssl base64 -d | openssl enc -d -pbkdf2 -iter $MY_OPENSSL_ITER -aes-256-cbc -k $MY_OPENSSL_PASSWORD</p>\n<p>æ­£å¦‚ä¹‹å‰æ‰€è¯´çš„ï¼Œå¦‚æœ GitHub Actions è¿è¡Œæ—¶çš„é•œåƒæ˜¯ Ubuntuï¼Œåˆ™ä»¥ä¸Šè§£å¯†å‘½ä»¤ä¹Ÿå¾—åœ¨ Ubuntu ä¸Šè¿è¡Œã€‚å¦‚æœæœ¬åœ°ç”µè„‘æ˜¯ Macï¼Œç›´æ¥è¿è¡Œä¼šæŠ¥é”™ã€‚å¯ä»¥è¿è¡Œä¸€ä¸ª docker é•œåƒï¼Œè¿›è¡Œé•œåƒåˆ†åˆ«æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œä¾¿ä¾æ¬¡è§£å¯†äº† GitHub Actions ä¸­çš„ SECRETSï¼Œå¦‚ä¸‹æˆªå›¾æ‰€ç¤ºï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/703f73f8ad48abc492cb9a34a18f5739/12cf6/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWklEQVR42lWOS0/bQBhFLdEF8dhO4rHH8/D4kQTSlJfUTf8CK4QqlBQFF0ioFBUqlU3Vf3+qmG5YHJ3v3sWnG0zrmrbyeGuYNQ2ztqXxJd5apk3NpK7+Z0PlLJVzvXWeUeQ51uieQkq8cwSfm5KFLfjkNCel6TmrXJ/P65KL2nPqLSfO8NEojpRkrnPOveOL15xlI2ZJSC0O0aOEYCwlUZyQF8U7lNZoY9/36s2pUhhjmBhNmUlqlSNHQ7z3BBOtmNcen6WUMqXKM9LwED2Me+x4hAwHqDjqF6hwgNuvSWKUCJEiZCAEoRAopQimeUpbZBzZgiZLadX+1ky1YmYKjq1m4S2LyjG3GjOMSCNBmsSMRcgwHBAJwYeDg7eHm/WW29UDj90Pri6v2N7v+HZzx93thu/rJ7q9V/d0m18sn15Zbl9Z7/7Q/fzLzcML1+sdq+1vvnbPLB9f+AeZrKoFYYypWAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/703f73f8ad48abc492cb9a34a18f5739/fcda8/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png\"\n        srcset=\"/static/703f73f8ad48abc492cb9a34a18f5739/12f09/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png 148w,\n/static/703f73f8ad48abc492cb9a34a18f5739/e4a3f/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png 295w,\n/static/703f73f8ad48abc492cb9a34a18f5739/fcda8/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png 590w,\n/static/703f73f8ad48abc492cb9a34a18f5739/efc66/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png 885w,\n/static/703f73f8ad48abc492cb9a34a18f5739/c83ae/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png 1180w,\n/static/703f73f8ad48abc492cb9a34a18f5739/12cf6/1660905990310-92db1e12-8c56-46e0-8b1a-f73933c63cd6.png 2964w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ç°åœ¨ï¼Œå°±å¯ä»¥æ„‰å¿«åœ°æ‹·è´è¿™äº›å€¼ï¼Œé…ç½®åˆ°å…¶ä»–éœ€è¦é‡ç”¨å®ƒä»¬çš„åœ°æ–¹äº†ã€‚\n<a name=alSol></a></p>\n<h1>openssl çš„å…¶ä»–ç”¨é€”</h1>\n<p>åœ¨ç”¨ openssl è§£å†³äº†è¿™ä¸ªé—®é¢˜åï¼Œæƒ³èµ·æ¥å¦ä¸€ä¸ªç”¨æ³•ï¼Œå°±æ˜¯ç”¨æ¥ç”Ÿæˆå“ˆå¸Œå€¼ã€‚ä¹‹å‰æœ‰äººåœ¨ StackOverflow é—®å¦‚ä½•ç”¨ python è®¡ç®—å“ˆå¸Œå€¼ï¼Œæˆ‘ç”±äºå…´è¶£åŸå› ï¼Œä¸ä»…ç»™ä»–æä¾›äº† python è„šæœ¬ï¼Œè¿˜æä¾›äº†å¯¹åº”çš„ nodejs å’Œ shell è„šæœ¬ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€è¡Œè„šæœ¬ï¼Œéå¸¸å®ç”¨ã€‚å…¶ä¸­çš„ shell è„šæœ¬ä¹Ÿæ˜¯ç”¨äº† opensslï¼š<br /><a href=\"https://stackoverflow.com/questions/9594125/salt-and-hash-a-password-in-python/71422369#71422369\">https://stackoverflow.com/questions/9594125/salt-and-hash-a-password-in-python/71422369#71422369</a></p>\n<p>æ¯”å¦‚æƒ³å°† password ç”Ÿæˆä¸€ä¸ªå“ˆå¸Œåçš„å€¼ï¼Œå¹¶ç»™è¿™ä¸²å“ˆå¸Œå€¼åŠ ä¸Šç›å€¼ saltï¼Œå¯¹åº”çš„ shell è„šæœ¬éå¸¸ç®€å•ï¼ˆä½¿ç”¨äº† opensslï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥åœ¨ Mac ä¸Šè¿è¡Œã€‚ï¼‰ï¼š</p>\n<p>shell\necho -n password | openssl sha256 -hmac salt</p>\n<p>è€Œå¦‚æœå®‰è£…äº† nodejsï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥è¿™æ ·æ‰§è¡Œï¼š\nshell\necho console.log(require(crypto).createHmac(sha256, salt).update(password).digest(hex)) | node</p>\n<p>å¦‚æœå®‰è£…äº† pythonï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ python ç”Ÿæˆï¼š</p>\n<p>shell\npython3 -c import hashlib;import base64;import hmac;print(hmac.new(bsalt, password.encode(), hashlib.sha256).hexdigest())</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"å…³äº","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"å½å½æ­ªæ­ª","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"çŸ¥ä¹","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"ç´«ç«¹å½æ­ª","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}