{"componentChunkName":"component---src-templates-post-js","path":"/posts/ouz0n0/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/ouz0n0","relativePath":"posts/ouz0n0","frontmatter":{"title":"Free Arch: 如何在 Spring Boot 应用中集成 Keycloak？","stackbit_url_path":"posts/ouz0n0","date":"2022-03-14T08:39:23","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<blockquote>\n<p><strong>FBI Warning</strong>: 小白科普，大佬绕路！</p>\n</blockquote>\n<p>又是一篇小小科普，在开始正文之前，容我先得瑟一下。</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/469187151\">Free Arch: Keycloak vs Authing</a></p>\n<p>上次在公众号和知乎同步发了一篇文章，其实是先抑后扬，对于身份证证，推荐大家使用 Authing。这篇文章对比了 Keycloak 和 Authing，并得出结论，尽管 Keycloak 很棒，但是 Authing 的中文文档、界面效果以及和微信生态等等做得非常棒。没想到分别引起了 Authing 的 CEO 和 CTO 的关注，非常荣幸！</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8c521e6c3e036e3043156bfe742fcc90/6a068/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 216.89189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"f54e1b7ff5d5cfa3bb68b29ef0fd1450.jpg\"\n        title=\"f54e1b7ff5d5cfa3bb68b29ef0fd1450.jpg\"\n        src=\"/static/8c521e6c3e036e3043156bfe742fcc90/1c72d/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg\"\n        srcset=\"/static/8c521e6c3e036e3043156bfe742fcc90/a80bd/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg 148w,\n/static/8c521e6c3e036e3043156bfe742fcc90/1c91a/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg 295w,\n/static/8c521e6c3e036e3043156bfe742fcc90/1c72d/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg 590w,\n/static/8c521e6c3e036e3043156bfe742fcc90/a8a14/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg 885w,\n/static/8c521e6c3e036e3043156bfe742fcc90/6a068/1647241100981-d213da85-35cf-4ea3-b5ad-85ba4fe356ea.jpg 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/159a8789412e8d70859f3e9e480a66b6/6a068/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 216.89189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAIAAAD3xz8iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEV0lEQVR42s2UW0/jRhTH/Xn6CfpQ9aGPfelrP0BVqRXaLstySYidi4lvcWJ7YifkYjs3wqVhi0ilPrRCKkiFFRQEEqFaUCBlQwolJMRrTC6Oq+CWZiG0odqH/nVkzZmZ35w5M2cMSYB0jQ0Stueu0ad+wp4MeGO8J97LEgId8bm5CUTmHNNBq+z3QJMe1PL0C9w2HPS4RBZPCL3JOO9JBrzADcPPvhK9Q4vSlxKgIRmQIa9b4shU0JcQ6IfIW346zMQFJsqycd4DJQPeWVG4GaP+mTRNBp0wM1HQgRMCnQz6zJS6vmajYwmBvt2RDEiZI2SOMF0o5qdiPCVxhMQRMiDNbwyQEovLf3fiMT8lc8ScJMwnQ/PJSDrEyoCEIj73dBgspmOzcmA+EVlIy7NRYWFK+mZKXEhL2ZnE1/HJ+URYBlSIds2IgVLx9c/fpaPokAgoKESjcYGek4IzUiAVAgnBF2VwkSNiPC37PbJAiywuAWrSg8Z5z+effhIkbC9fhGYjbIByQgKOyH7PnBScjvKZeCjG034MDpAOHkcE0wi7QNjNnmTQ5xv97OWPP3z/7QvGOQbxOMJNjDOohXVZWNQK3DY/BpsGMPgt120Lkk4ehxmnBbhtPI5ADGrlsM6Mmzh2gCHshJVDx01MIOzADbOolUGtAIc5zAYIxE8gDDrOoOMQ4RhlCUeAnohweIQjAl435bT4UFuAcoVZXOS9ftJJOS2kYzQM6BBLiLwvAijaaaGcYxAGD3snYEC6ggw+yeAMhmDwCOmwcISTwewhjvK5ERwZvW8YMgLBQwOusUEcHsHhEdI+NmEdgocGkOdPMNsIanlGOiwuyyA8NHDfkOEnkCiw6VgkJYdTUighTk7J4ZmklI5FU1LI7ElJ4Sk5csfSsagY4KBWq2V0qdVqvVHVZrNp/JtarRZkGMbZ2dnR4eH19bVhGMViMZVK7ezsmMPth2UYRgdut9u6rpt+s9lUFEXTNKMPQXd8TdNKpVK1Wu0X1jSteqN6vX59I1VVa7WaruvdGZ6fn5+cnJRuZK7egev1ulJTFEVpNBqqqiqKUqt1/G5Y1/VqtXr+lxRF+RNutvVG17z+1YEnZf7Djz/65dXuYf5wf3+/58E+COMY/MH7762t/bS1tbW6uvrQ7NuFdF03C6ED//b7WfGkqKpqLpfbzeUKhcL29vbu7m6hUMjn88fHx4qirK+vLy0tbW9vG4ZRKpVyudxbV9Vut1dWVjY3Nw8ODo6OjsrlcqVSMU+uXq9XKpVyuVyr1bq3AHU7Gxsby8vLCwsL5XLZ7H9EkWiapqqqeRPVatWMeT/n3vBtMZvt25rtK3L18rLw6+tisZjP56+urh5X228uL85LhYuLyunpaaPR6B/ubE87e6UV1sz8Hv2q2uYafZxz7yf56Np+93C/D6On9C49xP8Pc/6PsPknvqOeab+7yObye3t7mUwmm80u3iibzWYymb29vfuV9wfGYVkhmmM51AAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"e8b15c57f6b5e4b5fe48ca5d79fe9113.jpg\"\n        title=\"e8b15c57f6b5e4b5fe48ca5d79fe9113.jpg\"\n        src=\"/static/159a8789412e8d70859f3e9e480a66b6/1c72d/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg\"\n        srcset=\"/static/159a8789412e8d70859f3e9e480a66b6/a80bd/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg 148w,\n/static/159a8789412e8d70859f3e9e480a66b6/1c91a/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg 295w,\n/static/159a8789412e8d70859f3e9e480a66b6/1c72d/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg 590w,\n/static/159a8789412e8d70859f3e9e480a66b6/a8a14/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg 885w,\n/static/159a8789412e8d70859f3e9e480a66b6/6a068/1647241122822-a21da1bf-955b-46bd-b435-b6246c6b53e5.jpg 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f4b3895ee30caf02f24c73267b23ffb7/ce6ee/1647241178263-09ff744e-a8d6-4c12-bc72-82ee5d15cada.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 285.8108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA5CAIAAAC52ZyyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGTUlEQVR42q1XW28bRRTOL0A88o6EeAZeeAAhkCok3uG1EkhIiEuB0j5wESVBIkINpSAR0hgT0pQkLXXdilA7vruJFV/jxLHjeOPETuJdey/eXa+9t7mg3Umc2E0KtHwaWWvPnpk53znnm+MBjPHW1lYsFtvY2EilUvl8HmOMEML/AgMYY5Zl8/n8zs5OpVKp1+v3G0MIkY1jjB8alnG9Xtd1/aTTQghLpVKlUmEYpu+dATJnGMZJy+u6PjMzc+PGjVAo1G+MMTZNEwBAvOq6dxQQQtNG3+8DR1dCJ+CkF6ydi8Xi3bt3FxcXEUJra2sAgP9AmCzLFEVVqxUAQK1WI8ZHz9/ny6OGiiyxbyyLTY7ZwxgBADiO4200bHAcR9M0z/Msy3IcJ0mSoiiHO0stxePxzl37pUHXRElyOp3T09OTk5NOp/PSpUsul+vy5csOh2NycnJsbCwYDMZiMQCAAaBN2OZ2LOTPpaLLqwVd0xWl1Ww2OY4TRVGWZVVVZVkWBIFs3m63dd2AptFoActYbLV9U47Bc2fyRQpjrChKrVYTRbHZbLbbbdM0GYap1+t7e3u1Wo3neZJ4jAwGsO06x/HZVErTNIyxquuGaRo25331gY8QrpnogG0ArLlOB8hyi2HaLKs0GlhR7NHGum7N3h9nJEnmvXsgHDEiUSMUMsPh/REJm6GQEQwZwbARiZjRqBkKgcL60cMMmJ55WK3qhqFryolRhRBqGtZ1MxqFqzkSaHvnyIK4Uwl/N/jX+bfomEdR2n/Mzk44ndeuXk3G40G/PxQIrGSz8UTi9tycoevQ60WdzkGcY4m1m9d8n737+7unQ8MfdWRxLV9YXVkpl8sMw5RKpXw+X6lUOI4rrq8jjMHCAqzVLPoAGEDRe7sL4Q9PvfD0Y4+fOf0mxkBsNrtJePhAngE0PV6kqqSQB+DqqpFMBfy+2clrm3uWVigAGAiRykK92QwScZhJd4vTijNYWMDJFN7dxdWKWVhvpdNiPC7GE6BQMPN5MkBuDfgDcGmptyTt8wBBMAvrILcGCwVULKJSCZZKYGOjO9BmGclyjy/7MmQYJgAkCeA/lWK/GMzNzc3OzISDQWAYm6USItl2/zhWtwVBYFlWEASEUJ8G9wnY/y36GOPC+noyHtV11TTNSqWyvb3darVEUWQYRpIklmUlSarX6zRNk8ojUbSM05mln4c+d3525i/37d292vDw8OjoaCQS8fl8Ho/H7/dfv349FApRFDU9Pb27u0tsOcUWg3HHb79eGfXcvPrt8Ei7o6qdjqZphmEAGxBCS3QOvnblk5ZMy5hn+YnrUyPOkVJxBSEsis2uxB0fL/uzpcF9n3VNV5XOA4h9EGG9i/4Xtnd2dqLRaCKR+Pd7Hhpvb28vLi6m0+mHMX7UJKkzzGaJIj6T65pEpe8sqqqSW/rQeDWdHvz4/R/OvZOLBmRFmZ2dHRsbczgct2xMTU0tLS3dunXL6/UWi0W3251MpqxLqmOHanZ87O03Xv/g5VcHT7+pmzpN0yRDGRtbW1scx5Feqd1u0zTNcpyVJKKdYblE/LUXXzr1xJOXzn9q3T5N64oyTfPBSSIo9s4QQp/XN3/jZsuWPlVVSXr2tSVdCnp8xgg9JNvEcKtKU+Xqgcj29A6kME4MlcDz34+Mnn/no+XFiKIoExMTbreboiiXyxUMBjOZjNfrPdqEHRSGfUtm0umr33z7y4VvPvz4S7UlUZubFEUJgkAYFgShbqNPBWnJJiy3Xn7+2Veee+qZ9z752gqgJMmy3FWMk9jm99nG+M7tOcfoFUmylFnTNF3XiZ/HNrs9PnenYe97J5l1VzzIbVnd5hVw5PonuU2oJmKkqmof85Zxnml9Mb/1+Xz1zw1R7SjhcDgQCLhcLr/f73a7SVYHg8E7d+5EIhGXy5XL5UxDl1Xb5x8j5fBqdWWvORzd41qqKFgtU6PRYG0INgiLoihaPZUgGFpnn+1AWbqYZL66V/0pQUMIRRsPaF97cxuhdKPtoXhFt4pBtdnuVvWxOCQMPaqStIxNXoX7dWPnAM+n0+nl5eVMJpPNZjOZTMpGMpnMZrPkb4VlXOI7Q8Gdr4PV+bLckpoXL454PB6fz3f27NmhoaHx8fELFy4MDg7Oz8//acPn86l2W/I3qxRfRo85H1sAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1878588a02f86c0307f63c53cc1650d4.jpg\"\n        title=\"1878588a02f86c0307f63c53cc1650d4.jpg\"\n        src=\"/static/f4b3895ee30caf02f24c73267b23ffb7/1c72d/1647241178263-09ff744e-a8d6-4c12-bc72-82ee5d15cada.jpg\"\n        srcset=\"/static/f4b3895ee30caf02f24c73267b23ffb7/a80bd/1647241178263-09ff744e-a8d6-4c12-bc72-82ee5d15cada.jpg 148w,\n/static/f4b3895ee30caf02f24c73267b23ffb7/1c91a/1647241178263-09ff744e-a8d6-4c12-bc72-82ee5d15cada.jpg 295w,\n/static/f4b3895ee30caf02f24c73267b23ffb7/1c72d/1647241178263-09ff744e-a8d6-4c12-bc72-82ee5d15cada.jpg 590w,\n/static/f4b3895ee30caf02f24c73267b23ffb7/ce6ee/1647241178263-09ff744e-a8d6-4c12-bc72-82ee5d15cada.jpg 727w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6b105c63f6444a128edfe71f92cdb06b/6a068/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 216.89189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAIAAAD3xz8iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFAUlEQVR42p1WTY/bRBjOr+LGP+gfAHGAEwKJK+KKxKmckHpDcOICe2gPm90tLWIXVSTtrteO49iedeKPxB47/srE318zRvZk091tt1V5ZEWv7Xn8fs4zGRBCHMdxXTcIgrIs23ciTRMI7TQJy2SFMRkQQgRBEEURAJCm6X00QkjbthBao9GrtXWV+/82TTPYv7izlBCCMX53IIMkSdbrddu2dCn90GQyOTo6Go/HJycnBwcHHMfd+CJpW3q1g7quoyjCGN90FccxhHC9XkMIdV33PO/tngkhF+fno9EIIbRcLvchvDWRO9jlTD23H4iOnEfbLHAJIUmSRFFU9CjLMs/z4hr3kEn7/NHD37/7UuEvj06enp7+rWkaz/O6rguCMJlMZrMZz/N3mkJT6zz/9vCHzx88WFtmWVW7Obled18udV3vyHGaxUmKSVvVDc29bnDd7Opf1U3/vCtL3XQLujU07Abj+cpfmMFi5cu6a9ihuUZA94Du6fYG+oluI91GKkSqhVZuBHT3yvD6bvetMtdIswJ15WtW6ATx0t4s7dCAiONnL168mPKCMBU4biJK8vn5RV4UXUjkus/eJvVR6oaxt0nCKPM3qbdJ3TCxbUdVFxBajuNYpmlDaBgGzfb1kFRlURZ5VRVlkRV5XpZ5VRRVWdR13TRN1VeR2hjjffN2Q+K6rqqqq9VK03XbtlVVm3dYLJcGhFBV1f52HkVRdgMdmRASRZHjOJ7nRVHkeV4QBOltZFmWJEl2GztylmVxHNPXSY/8Noqiu67tnbUL+73AmDR4Ny1N0+z333vItCV2WFt+1bZtWVWu6yKEHMe55Xm/t94Evp6prjVVRR/uPO9v/s+WFP885A9+ca3l6dk/4/HYMAxRFE3TlGVZkiRFUSRJeqseduRfv/3mi48/uuLZhappmhZFURAE2+02CALaOSpDmG6OHlVV7ciKKJ7+dYo/PPBB0zS24xhLQ1EUURSphs/nc1mWWZZVFGW9Xi8WC0VReJ7nOI6+pdrSka8A0FRVkiRZlkVRZFlWlmWGYS4uLqQe8/ncNM2rqytaAkEQaCKDqqoYhknTdLFYQAglSZpOp4qiTHoIPSiNDrmiKAzDqKrakTHGoiiORiNVVTmO0zRNFEWe50EP+iEAAMuyl5eXqqqen5+HYUgL3nnmOA4hxDDMy5cvWZadTqcAgNlsxrLsaDQCAPi+P51Ox+PxaDTieuR5vjsxOI7zPE8QhMvLy9lsBgCg4RmGsVgsfN9PkoTamqZBCDVNozrZFYxl2fF4LAgCx3GyLPM8P5vNLMt6f6v2s/nGMHe/VD2oXd8A3VvdkPi+DyF0XdeyLM/zIISWZdEnQRDYtm2aJoTwjh5gjDsyQmi1WkEIqZ5Qpm3blOw4Dj0uqUjcVZI4jn3fD8MwSZIwDBFCZVlSlbuWjs6+o007cnMNmgw19iC4JqTBuNkL6K0j9l1K0rZm2FhBg5KGahDabvM8Qwi9/k9ynxg0uFXd2grqbdqRy7IMfN/xtmEY1HU1+KA9iJsqjJtnbD5bYpT2YW/XEBnzuq5vlo1q8GazieIoDMPtdtud+3kWZ7XpFS6q8xIPWkKGP37/89efAPbV02fPz87ONE1jGIb2djqdOo4jSRIAgOd53/fbluCmLMusqvqw/3j001effua7LlVjAMDjx4+Hw+Hh4eFwODw+Pn7y5AkA4OZZT3X7P7CwbdMbBn7nAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"89f5cdf1a1e1db62c0af00e5f93e49a9.jpg\"\n        title=\"89f5cdf1a1e1db62c0af00e5f93e49a9.jpg\"\n        src=\"/static/6b105c63f6444a128edfe71f92cdb06b/1c72d/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg\"\n        srcset=\"/static/6b105c63f6444a128edfe71f92cdb06b/a80bd/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg 148w,\n/static/6b105c63f6444a128edfe71f92cdb06b/1c91a/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg 295w,\n/static/6b105c63f6444a128edfe71f92cdb06b/1c72d/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg 590w,\n/static/6b105c63f6444a128edfe71f92cdb06b/a8a14/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg 885w,\n/static/6b105c63f6444a128edfe71f92cdb06b/6a068/1647241230811-6f3361d1-c258-44ae-8f85-e869cd5cd2c5.jpg 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>我一直认为，由于 Keycloak 的中文文档非常缺失，从而给我带来了一些 Keycloak 相关的付费咨询单子。在推荐了 Authing 后，估计后面就不会有这样的单子了，却没想到来了更多的 Keycloak 相关的付费咨询。</p>\n<p>我非常感谢这些咨询的朋友，让我在成为 Keycloak 专家的道路上一去不复返。我之前为了介绍 Free Arch，从而利用 Heroku 免费搭建了一个 Keycloak 实例，并在多个 nodejs 站点上对接了它，比如： <a href=\"https://uniheart.pa-ca.me/keycloak/login\">https://uniheart.pa-ca.me/keycloak/login</a> 。</p>\n<p>但是最近收到的咨询，是如何在 Spring Boot 应用里集成 Keycloak。说实话，Spring Boot 以及 Java，本人非常不熟悉，但为了挣这个钱，硬着头皮含着泪也是要学习的。</p>\n<p><a name=vDydW></a></p>\n<h1>示例应用</h1>\n<p>目前做了一个超级简洁的示例应用： <a href=\"https://tranquil-plains-58233.herokuapp.com/\">https://tranquil-plains-58233.herokuapp.com/</a>，根路由是公开的，而 <a href=\"https://tranquil-plains-58233.herokuapp.com/visitor\">https://tranquil-plains-58233.herokuapp.com/visitor</a> 这个路由是需要先通过 Keycloak 登录的。</p>\n<p><a name=xEdE5></a></p>\n<h1>源代码</h1>\n<p><a href=\"https://github.com/Jeff-Tian/keycloak-springboot\">https://github.com/Jeff-Tian/keycloak-springboot</a></p>\n<p><a name=s2K40></a></p>\n<h1>视频教学指引</h1>\n<p><a href=\"https://player.bilibili.com/player.html?bvid=BV1t44y1K74W\">点击查看【bilibili】</a></p>\n<p><a name=K3V9e></a></p>\n<h1>文字版按步指引</h1>\n<p><a name=NH1a6></a></p>\n<h2>安装 Spring 客户端</h2>\n<p>通过 spring 客户端可以快速生成一个 Spring Boot 应用。</p>\n<p>如果使用 mac osx 建议使用 homebrew 安装：</p>\n<p>shell\nbrew tap spring-io/tap\nbrew install spring</p>\n<p>如果使用 Windows，建议通过 Scoop 安装：</p>\n<p>powershell\nscoop bucket add extras\nscoop install springboot</p>\n<p><a name=JxSGs></a></p>\n<h2>初始化 Spring Boot 项目</h2>\n<p>比如，我的示例应用叫 keycloak-springboot，它就是这样初始化的：\nshell\nspring init --dependencies=web keycloak-springboot</p>\n<p><a name=fBBmd></a></p>\n<h2>引入 Keycloak 相关的依赖</h2>\n<p>这可以参考 Keycloak 官网的文档，主要是关于 Spring Boot Adapter 的这一节。</p>\n<p>要保护 Spring Boot 应用，可以将 Keycloak Spring Boot Adapter 的 JAR 包引入到该应用，然后通过配置文件（application.properties）提供额外的信息。\n<a name=hZGyf></a></p>\n<h3>引入适配器</h3>\n<p>官方的 Keycloak Spring Boot 适配器利用了 Spring Boot 的自动配置功能，于是你仅需要将 Keycloak Spring Boot starter 添加到自己的项目中。看到这里，我才发现，原来 Keycloak Spring Boot Starter 是可以直接通过 Spring Starter Page 生成的。不过，手动添加也很方便，以 Maven 项目为例，可以在 pom.xml 文件里添加如下依赖项：\nxml\n<dependency>\n<groupId>org.keycloak</groupId>\n<artifactId>keycloak-spring-boot-starter</artifactId>\n</dependency></p>\n<p>另外还需要添加 Adapter BOM 依赖：\nxml\n<dependencyManagement>\n<dependencies>\n<dependency>\n<groupId>org.keycloak.bom</groupId>\n<artifactId>keycloak-adapter-bom</artifactId>\n<version>SNAPSHOT</version>\n<type>pom</type>\n<scope>import</scope>\n</dependency>\n</dependencies>\n</dependencyManagement></p>\n<p><a name=DN61b></a></p>\n<h3>必须的 Spring Boot Adapter 配置项</h3>\n<p>这一节描述如何配置 Spring Boot 应用来使用 Keycloak。</p>\n<p>很多其他类型的应用使用 keycloak.json 文件来配置 Keycloak 相关的信息，但是 Spring Boot 应用却是使用通常的 Spring Boot 配置，而不是 json 文件。比如这是我的 src/main/resources/application.properties 配置：</p>\n<p>keycloak.realm = UniHeart\nkeycloak.auth-server-url = <a href=\"https://keycloak.jiwai.win/auth\">https://keycloak.jiwai.win/auth</a>\nkeycloak.ssl-required = external\nkeycloak.resource = demoapp\nkeycloak.use-resource-role-mappings = true\nkeycloak.public-client=true</p>\n<p>keycloak.security-constraints[0].authRoles[0]=visitor\nkeycloak.security-constraints[0].securityCollections[0].patterns[0]=/visitor/*</p>\n<p>上面的示例配置分为两部分，第一部分是要连接的 Keycloak 实例的信息，而第二部分， 是 Java EE Security 配置项，本来一般存在 web.xml 文件中。得益于 Spring Boot Adapter，它会在启动时，将 login-method 设置为 KEYCLOAK，并且配置相应的 security-constraints。\n<a name=t4GH4></a></p>\n<h2>配置 Keycloak</h2>\n<p>要在 Keycloak 里接入一个新的应用，需要将该应用看成一个客户端。为了这个示例应用，我创建了一个叫做 demoapp 的客户端：\n<a name=RKWpE></a></p>\n<h3>给这个客户端起个名字</h3>\n<p>我就叫它为 demoapp 吧，点击保存。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVR42p2S20oCURSG5zKi2zBEIbKDnTyPmiNYidRT2IUO9TyZhxwnndEIusirqBeKLjLDU844hz/2zsrCTFrwsRbM5ttr/wxze3ePm3odkiRDkqsQhBIyZ1lkc3lksjnk8gVUKhIkWaaIF2WcF0so5rMQBQGCIOD8tAixUIQgimCcngAcK2uYt1gxMzuHaGwP/PEJjpJJ8DxPSafTSKVSFDJT+PTYmfGxHLZ9YbgDHGxL66hdXYOUYRj4TzGhWAKx+AE8bAR2hxNlqUY/9Ho9KIqCVquN52YTuqZhMBhA07Rf0XUdDMvtIxY/hMu/A+viKqTqJRV2u100nhrQVAWddnsoG9D+E214GRV6WA7R3QQ2PUFYbI7PDVVyWFXw0OrjsdkmGUA3DBrFOIiMdIbkR9jyhrBgX0ZFfheSW0m9vGro9FU6m9Nk6PKHseFmh0LHN6FpfinobJq0T4JxByLwshx98rgNPw6OzhOFJENvcLxwdMOpfxsiIvz15GmFb5bPyNoa1FllAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b13bbe9e51cf98f29f201c40c4af4aeb/fcda8/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png\"\n        srcset=\"/static/b13bbe9e51cf98f29f201c40c4af4aeb/12f09/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png 148w,\n/static/b13bbe9e51cf98f29f201c40c4af4aeb/e4a3f/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png 295w,\n/static/b13bbe9e51cf98f29f201c40c4af4aeb/fcda8/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png 590w,\n/static/b13bbe9e51cf98f29f201c40c4af4aeb/efc66/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png 885w,\n/static/b13bbe9e51cf98f29f201c40c4af4aeb/c83ae/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png 1180w,\n/static/b13bbe9e51cf98f29f201c40c4af4aeb/d8ced/1646994260358-011adcb3-9905-4f49-a051-57b8a508c8da.png 2652w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=EWDJN></a></p>\n<h3>设置重定向 URI</h3>\n<p>即在 Keycloak 登录成功后，可以回调哪些域名。可以配置多个，也支持通配符。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6e72ef0211d3f67917f43bea81a5812/de55f/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR42nWSSWsUQRSA51d48pAEkqBm0TGLGhVUiCAJKKIe/CUeBA+CB0VQBP+YSrzEhSEzma7epqu7q6qXT6p6gVHz4NGPV+99/bbBu/cfef3mLS9evuLDp8/8Gp1wMh4z9QRC+Ajfxw8CPCHcNwp84igkDCKCU584jgijiMA7JZxMGSyurrOwfIlz55e4d/8QP4yQUlIUBVpryrLEGOO08ZneX1NTVRV1bS2cDm7vH3B3/wGra0MeP3uO0k1ikiTkWYrKcwewaqGdbWMs1AKtOGhdMxju3mJ37w6LK2scPnrqAq3YKuNco02TaP3/U/s2B9zcusFw5yYLyw1QKUWe56RS8t1LSLXpE86SDtYD1y7vsLiyzsHDJxjT/FkIQaVzjNauLVvJWTpX4ZXtPSzUtmyBRdEEBXajMiPNMsqybdEuptOi6Bc1B9y4ep314bUeWFaVa9ubTvkmJNK13G6z3aRTt93GpvNZ4IWNLS5ubmPPp5thGIYEvs9xkJIq0ycQB9STEfUsagBlQW0r1KqfcQ9cWu1m2JyGhWrVBhYaRj8gSyGJwRuDmEAonF3bt/Z8/gHa+em2yiTNEHGCPPqK9Dxy75Ts6Avp75+ksxlSGZQx8zP8G2iHXJWlO51ZmjP1Q/w4IUgVcjxGBiFJUSN1ySxTZEq7gXTAP5QaP66TeYWJAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/a6e72ef0211d3f67917f43bea81a5812/fcda8/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png\"\n        srcset=\"/static/a6e72ef0211d3f67917f43bea81a5812/12f09/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png 148w,\n/static/a6e72ef0211d3f67917f43bea81a5812/e4a3f/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png 295w,\n/static/a6e72ef0211d3f67917f43bea81a5812/fcda8/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png 590w,\n/static/a6e72ef0211d3f67917f43bea81a5812/efc66/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png 885w,\n/static/a6e72ef0211d3f67917f43bea81a5812/c83ae/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png 1180w,\n/static/a6e72ef0211d3f67917f43bea81a5812/de55f/1646994360890-4c4fe15c-4c86-4b5c-abef-6c9d9fac8d35.png 3080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=Ilym3></a></p>\n<h3>配置角色</h3>\n<p>对于被保护的路由，可以允许哪些角色的用户来访问呢？这些都可以通过配置来完成。你可以在实际应用中，对不同的路由授权不同的角色。目前本示例应用仅配置了一个 visitor 角色，允许该角色访问 /vistor 路由。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABW0lEQVR42qWQW0sCQRiG9xcE3RQEFYIiZq3GaniIJCjwovvcXdu8qC6NJIqo/9OFrHtQXASF/o/QLpW6R9+YKQUrLGjg4YNvZp7vnWFu7h9wVavhtFKBWC5TBEEEzwsUQRRRKvE4uzhHvVmH0lahGSp0Q0H1sgr+mIcknECSJAoTim5iNRTB8soaFhaXcH17B0Vv4bEuQ5ZlaJoGRVFgdAz0X/qw3ixYAwvPrya6vS4ajQY0XYOqqhQmlS2Ay+xhe2cX0S0Ond4T/rOY7H4RB8UjsFwG4RgLvdWmG4PBAKZp0koYDoewHXsG0ptg2zY8zwOTTOeRLxxiI5HGeiSO5qfQ9304jkNrEARzIWcINGGCyyKdK3wIw/FpwtFoNJ3q+wHG4/FciJhUhuWyVPZV6LounUqe4zgu7ZELv/4hESZSOcTY1LcnTyqZPhHOYypM/iD0PH8m0V/SEeE7kHZI5fEuLIcAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/c56c8538de6e6fbad4ce46a002a446f8/fcda8/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png\"\n        srcset=\"/static/c56c8538de6e6fbad4ce46a002a446f8/12f09/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png 148w,\n/static/c56c8538de6e6fbad4ce46a002a446f8/e4a3f/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png 295w,\n/static/c56c8538de6e6fbad4ce46a002a446f8/fcda8/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png 590w,\n/static/c56c8538de6e6fbad4ce46a002a446f8/efc66/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png 885w,\n/static/c56c8538de6e6fbad4ce46a002a446f8/c83ae/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png 1180w,\n/static/c56c8538de6e6fbad4ce46a002a446f8/3162c/1646994522041-654c5376-0a0a-435b-9828-3138a91ca639.png 2750w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=XRVZl></a></p>\n<h2>实现路由功能</h2>\n<p>比如在 spring 脚本自动生成的脚手架文件 src/main/java/com/example/keycloakspringboot/DemoApplication.java 里添加两个路由，根路由公开访问，/visitor 路由受保护，仅允许拥有 visitor 角色的用户访问：\njava\npackage com.example.keycloakspringboot;</p>\n<p>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.<em>;\nimport org.springframework.stereotype.</em>;</p>\n<p>import java.io.IOException;</p>\n<p>@Controller\n@SpringBootApplication\npublic class DemoApplication {</p>\n<pre><code>@RequestMapping(/)\n@ResponseBody\nString home() {\n    return Hello Keycloak!;\n}\n\n@RequestMapping(value = /visitor, method = RequestMethod.GET)\n@ResponseBody\npublic String getVisitorPath() {\n    return 嗨，你好！当你看到这些文字，说明你成功登录了！;\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n}\n</code></pre>\n<p>}</p>\n<p><a name=D5UfG></a></p>\n<h2>发布应用</h2>\n<p>推荐直接将代码推送到 GitHub，然后连接 GitHub 和 Heorku，一旦代码有更新，就可以自动发布。Heroku 默认的 jdk 是 1.8，如果你的应用要使用更新的 java 特性，需要使用 system.properties 文件来指定更新的 java 运行时版本，比如本示例应用在项目根目录下添加了一个 system.properties 文件，内容如下：</p>\n<p>java.runtime.version=13</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}