{"componentChunkName":"component---src-templates-post-js","path":"/posts/Git-subtree-cheatsheet/","result":{"data":{"sitePage":{"id":"SitePage /posts/Git-subtree-cheatsheet/"}},"pageContext":{"url":"/posts/Git-subtree-cheatsheet/","relativePath":"posts/Git-subtree-cheatsheet.md","relativeDir":"posts","base":"Git-subtree-cheatsheet.md","name":"Git-subtree-cheatsheet","frontmatter":{"title":"Git subtree cheatsheet","stackbit_url_path":"posts/Git-subtree-cheatsheet","date":"2014-03-02 01:52:00","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["git","subtree"],"canonical_url":"https://be-net.azurewebsites.net/post/2014/03/02/Git-subtree-cheatsheet","template":"post"},"html":"<h2><span style=\"color: #9b00d3\">1. List all the existing subtrees under current Git repository</span></h2>  <p><strong>Usage: </strong><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git log | grep git-subtree-dir | tr -d ' ' | cut -d &quot;:&quot; -f2 | sort |uniq</span></p>  <p><strong>Example:</strong></p>  <pre class=\"cmd\">$ git log | grep git-subtree-dir | tr -d ' ' | cut -d &quot;:&quot; -f2 | sort |uniq\r\nWeb.UI/Scripts/flot/flot\r\nWeb.UI/Scripts/flot/coordinate</pre>\n<h2><span style=\"color: #9b00d3\">2. Add a new subtree folder and associate it to a git repository</span></h2>\n<p>There are 2 commands need to be run to associate a subtree folder to a git repository.</p>\n<p><strong>Usage: </strong><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git remote add -f &lt;Name of the sub git repository&gt; &lt;URL of the sub git repository&gt;</span></p>\n<p>Explanation: The -f option will execute fetch operation immediately after adding the new sub repository.</p>\n<p><strong>Usage:</strong></p>\n<p><strong>&#160;</strong><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git subtree add --prefix=&lt;The new subtree folder path&gt; &lt;Name of the sub git repository&gt; &lt;Branch&gt;</span></p>\n<p><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">--squash</span></p>\n<p>Explanation: The --squash option will merge all the change of the subtree to a single commit, so that it eliminate the need to pull the whole history of the sub project. The equal sign '=' follows the --prefix can be replaced by a space too.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"cmd\">$git remote add -f ai https://github.com/aoxu/ai.git&#160;&#160; <br />$git subtree add --prefix=ai ai master --squash&#160; </pre>\n<h2><span style=\"color: #9b00d3\">3. Update subtree folder from remote repository</span></h2>\n<p>Updating the subtree folder can be done by these 2 commands.</p>\n<p><strong>Usage: </strong><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git fetch &lt;Name of the remote repository&gt; &lt;branch&gt;</span></p>\n<p><strong>Usage: </strong></p>\n<p><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git subtree pull --prefix=&lt;The subtree folder path&gt; &lt;Name of the remote repository&gt; &lt;Branch&gt; </span></p>\n<p><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">--squash</span></p>\n<p><strong>Example:</strong></p>\n<pre class=\"cmd\">$git fetch ai master\r\n$git subtree pull --prefix=ai ai master --squash</pre>\n<p>Or updating the subtree folder just by this single command:</p>\n<p><strong>Usage: </strong><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git pull -X subtree=&lt;The subtree folder path&gt; &lt;Name of the remote repository&gt; &lt;Branch&gt;</span></p>\n<p><strong>Example:</strong></p>\n<pre class=\"cmd\">$ git pull -X subtree=Web.UI/Scripts/flot/coordinate jquery.flot.coordinate master\r\nFrom https://github.com/Jeff-Tian/jquery.flot.coordinate.js* branch            master     -&gt; FETCH_HEAD\r\nAlready up-to-date.</pre>\n<h2><span style=\"color: #9b00d3\">4. Push from subtree folder to remote repository (Make sure you have the write permission)</span></h2>\n<p>Pushing the change of the subtree folder can be done by the following single command.</p>\n<p><strong>Usage: </strong></p>\n<p><span style=\"border-top: #d9d9d9 1px solid; border-right: #d9d9d9 1px solid; border-bottom: #d9d9d9 1px solid; color: #de1144; padding-bottom: 5px; padding-top: 5px; padding-left: 5px; border-left: #d9d9d9 1px solid; padding-right: 5px; background-color: #ececec\">git subtree push --prefix=&lt;The subtree folder path&gt; &lt;Name of the remote repository&gt; &lt;Branch&gt;</span></p>\n<p><strong>Example</strong>：</p>\n<pre class=\"cmd\">$ git subtree push --prefix=Web.UI/Scripts/flot/coordinate jquery.flot.coordinate master\r\ngit push using:  jquery.flot.coordinate master\r\n1/     87 (0)2/     87 (1)3/     87 (2)4/     87 (3)5/     87 (4)6/     87 (5)7/87 (6)8/     87 (7)9/     87 (8)10/     87 (9)11/     87 (10)12/     87 (11\r\n)13/     87 (12)14/     87 (13)15/     87 (14)16/     87 (15)17/     87 (16)18/87 (17)19/     87 (18)20/     87 (19)21/     87 (20)22/     87 (21)23/     8\r\n7 (22)24/     87 (23)25/     87 (24)26/     87 (25)27/     87 (26)28/     87 (27\r\n)29/     87 (28)30/     87 (29)31/     87 (30)32/     87 (31)33/     87 (32)34/87 (33)35/     87 (34)36/     87 (35)37/     87 (36)38/     87 (37)39/     8\r\n7 (38)40/     87 (39)41/     87 (40)42/     87 (41)43/     87 (42)44/     87 (43\r\n)45/     87 (44)46/     87 (45)47/     87 (46)48/     87 (47)49/     87 (48)50/87 (49)51/     87 (50)52/     87 (51)53/     87 (52)54/     87 (53)55/     8\r\n7 (54)56/     87 (55)57/     87 (56)58/     87 (57)59/     87 (58)60/     87 (59\r\n)61/     87 (60)62/     87 (61)63/     87 (62)64/     87 (63)65/     87 (64)66/87 (65)67/     87 (66)68/     87 (67)69/     87 (68)70/     87 (69)71/     8\r\n7 (70)72/     87 (71)73/     87 (72)74/     87 (73)75/     87 (74)76/     87 (75\r\n)77/     87 (76)78/     87 (77)79/     87 (78)80/     87 (79)81/     87 (80)82/87 (81)83/     87 (82)84/     87 (83)85/     87 (84)86/     87 (84)87/     8\r\n7 (85)Username for 'https://github.com': Jeff-Tian\r\nPassword for 'https://Jeff-Tian@github.com':\r\nCounting objects: 5, done.\r\nDelta compression using up to 4 threads.\r\nCompressing objects: 100% (3/3), done.\r\nWriting objects: 100% (3/3), 674 bytes, done.\r\nTotal 3 (delta 2), reused 0 (delta 0)\r\nTo <a href=\"https://github.com/Jeff-Tian/jquery.flot.coordinate.js.git2b45e6b..6cdd58f\">https://github.com/Jeff-Tian/jquery.flot.coordinate.js.git2b45e6b..6cdd58f</a>  <br />6cdd58f79dba0b0b790e4e051abf7887f2985f8f -&gt; master</pre>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"本站源码","url":"https://github.com/Jeff-Tian/space","style":"link","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[]}