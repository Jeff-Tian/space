{"componentChunkName":"component---src-templates-post-js","path":"/posts/在JavaScript中如何传递带参数的函数/","result":{"data":{"sitePage":{"id":"SitePage /posts/在JavaScript中如何传递带参数的函数/"}},"pageContext":{"url":"/posts/在JavaScript中如何传递带参数的函数/","relativePath":"posts/在JavaScript中如何传递带参数的函数.md","relativeDir":"posts","base":"在JavaScript中如何传递带参数的函数.md","name":"在JavaScript中如何传递带参数的函数","frontmatter":{"title":"在JavaScript中如何传递带参数的函数","stackbit_url_path":"posts/在JavaScript中如何传递带参数的函数","date":"2012-06-30 02:34:58.8536582","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["传递函数","动态调用"],"canonical_url":"https://be-net.azurewebsites.net/post/2012/06/30/在JavaScript中如何传递带参数的函数","template":"post"},"html":"<h2><font color=\"#800080\">一、背景：</font></h2>  <p>在JavaScript中，将一个函数作为参数传递给另外一个函数，然后在那个函数中调用传递过来的函数，是非常简单和直接的。如：</p>  <pre class=\"brush: javascript\">function sayHello() {\r\n    alert(&quot;Hello&quot;);\r\n}\n<p>function invoker(functionName) {\r\nfunctionName();\r\n}</p>\n<p>invoker(sayHello);</pre></p>\n<p><a title=\"点击这里运行\" href=\"http://www.myfootprints.cn/OldWeb/javascript/default.asp?s=function%20sayHello()%20%7B%0A%20%20%20%20alert(%22Hello%22)%3B%0A%7D%0A%0Afunction%20invoker(functionName)%20%7B%0A%20%20%20%20functionName()%3B%0A%7D%0A%0Ainvoker(sayHello)%3B\" target=\"_blank\">点击这里运行</a></p>\n<p>在上例中，通过将函数名sayHello传递给invoker()函数，然后在invoker()函数体中直接调用传进去的函数。执行结果如下：</p>\n<p><a title=\"JavaScript 练兵场\" href=\"http://www.myfootprints.cn/OldWeb/javascript/default.asp?s=function%20sayHello()%20%7B%0A%20%20%20%20alert(%22Hello%22)%3B%0A%7D%0A%0Afunction%20invoker(functionName)%20%7B%0A%20%20%20%20functionName()%3B%0A%7D%0A%0Ainvoker(sayHello)%3B\" target=\"_blank\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 491px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.37837837837837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADU0lEQVR42p3S2W/cdBDAcf/JqH8ID4E+IbVI0IJKQ2nTtGlDKCR7ZO/DXt+76/W5ttdeH3ulofmimAdAPCAx0ke/mflJo3kY4em5zqu6yfe/WbxoR7xoxRy/n/Hscs7L7oqfhiX9egdr2MHxA9IkJkoKjp7JPPhS5MFDkc+ORjz4YkBbDhFkWWGVJMxmczzPqwThEs/zcRwH13Gq/ywvyPOcLLuXkaYpZZFXfdd1ESWV2SJGGH54xFhSK7JqoOpTTNOgNxgzFFU0Y4pumOi6zsKaYVXmLO4tLCzLwnUWDEQNN0gRltMOgfgGX3xLKJ/hj16ylE5w+8+J9HMC8UeC0Q9Eymti7ZRk+jNl0GWz7FUKv8M+bDOQDMJkixC7IhunSWnXKJ0aa+OMYn5BZr5lNTnG7zzC7z4m1V6Qma/Ip284LK/5GPe5iXscoi4foxaBbxGlW4TFXCL0FZzFGN8VK649wnP+qkNfxNC6NLp9eqLERBlhWTLDQZ1W6wrTGNOR3D8HplmO7TqI5py+atOVTDqijjJ3WWYlYbElKrcs8x3ueoef7wmyLWGxI8hKvLQk3d9wOV5j+ylCudlTFCX3cfs7/ztGRspVs49QlDviNCUqNsRZju+5LBY2URixKRJWocu2LP9zYJ6vq8WEvNySrnO2+wNesMTzfWzbxrBTauKK2jiiLiW01JxrNaOpZFXelDPGs5LhtKCp5Jw2FrxrOQjl9lAd6f2x7nYHiqLg9uMNHTng8esxT97JPHmv8O07ma/fTHj0esI3ZzJfnUgcf1D57lzh6PmYh8dDPn/SRFhnJUVZkKQp6TrD9zyieIU2XWDpdUJ3QJmo5CuZYqVQJEr1lolCFstV/5Cr3O1MPHuE0O3VGF6fYhtNTPkSTW1hmT1G4oD1Sq8kkUoSaf+SxhpRqDGS+nR7DfrjIYJlDllrF0TSGWvpnE+hAnKdaeOSiTFB1URUXULRxijqP6naGFEe8Uutzcl5g4umhNA7OUVt1PBrvzLpd2g3LmleXtC+rjFRRFRN4qpexzAmbNcWRTKnTK2/mXO7sfEDH2PuI1j9OrHSZuNqJCuLeDklDqeswhmbzGab2SShyS634eBztw+42y+5O4SVT/sl3EboM4ehqPMH6ueBvqe2m94AAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/352ef40b63150e455098034c62e94a0d/13566/image_588.png\" srcset=\"/static/352ef40b63150e455098034c62e94a0d/12f09/image_588.png 148w,\n/static/352ef40b63150e455098034c62e94a0d/e4a3f/image_588.png 295w,\n/static/352ef40b63150e455098034c62e94a0d/13566/image_588.png 491w\" sizes=\"(max-width: 491px) 100vw, 491px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>\n<h2><font color=\"#800080\">二、问题：</font></h2>\n<p>上例中，sayHello() 函数是不带参数的，所以比较简单。但是，如果我们改写sayHello()函数，让它变得更灵活些，接收两个参数，那么新的invoker()函数应该怎样写才能适应这种情况呢？即，如何才能够动态地调用任何函数呢？不管被调用的函数带不带参数，也不管它究竟需要多少个参数，我们希望都能够以统一的接口来调用。</p>\n<h2><font color=\"#800080\">三、解决方案：</font></h2>\n<p>利用JavaScript中Function类的apply()函数，以及结合使用arguments对象，来解决这个问题：</p>\n<pre class=\"brush: javascript\">function say(msgTitle, msgBody) {\r\n    alert(msgTitle + &quot;\\r\\n&quot; + msgBody);\r\n}\r\n\r\nfunction invoker(func) {\r\n    var args = Array.prototype.slice.call(arguments);\r\n    args.splice(0, 1);\r\n    func.apply(window, args);\r\n}\r\n\r\ninvoker(say, &quot;hello&quot;, &quot;world&quot;);</pre>\n<p><a title=\"点击这里运行\" href=\"http://www.myfootprints.cn/OldWeb/javascript/default.asp?s=function%20say(msgTitle%2C%20msgBody)%20%7B%0A%20%20%20%20alert(msgTitle%20%2B%20%22%5Cr%5Cn%22%20%2B%20msgBody)%3B%0A%7D%0A%0Afunction%20invoker(func)%20%7B%0A%20%20%20%20var%20args%20%3D%20Array.prototype.slice.call(arguments)%3B%0A%20%20%20%20args.splice(0%2C%201)%3B%0A%20%20%20%20func.apply(window%2C%20args)%3B%0A%7D%0A%0Ainvoker(say%2C%20%22hello%22%2C%20%22world%22)%3B\" target=\"_blank\">点击这里运行</a></p>\n<p>以上代码执行结果如下：</p>\n<p><a title=\"JavaScript 练兵场\" href=\"http://www.myfootprints.cn/OldWeb/javascript/default.asp?s=function%20say(msgTitle%2C%20msgBody)%20%7B%0A%20%20%20%20alert(msgTitle%20%2B%20%22%5Cr%5Cn%22%20%2B%20msgBody)%3B%0A%7D%0A%0Afunction%20invoker(func)%20%7B%0A%20%20%20%20var%20args%20%3D%20Array.prototype.slice.call(arguments)%3B%0A%20%20%20%20args.splice(0%2C%201)%3B%0A%20%20%20%20func.apply(window%2C%20args)%3B%0A%7D%0A%0Ainvoker(say%2C%20%22hello%22%2C%20%22world%22)%3B\" target=\"_blank\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVR42m2SS28bBRRGB3ZskNIFv4D/wY5EhdJNQUgIxAb+BStUVlBK81ZSFRYU1KRIFU2bxLTUSdzEiZ34MbHHnhnPjMeeGc/L8TPxIznIboRUxCede3dH35WusBrViaZNNpIV/hZ9NuMmkUSZZ9mAPdGiksvg1Gp0O01ExWVmVeL2iszMapHPv3uOcHWWNz5aQPhwgSufzCEcH0bRdQNF0TDKJmaliqoZqKqGaVpUHR/XC7EcD9f1qAc+YRjSCh1mVrYQpmZ58/or4cTHswjFw3XkzDZafh9d2qeqHFBIvUAvJjDy2xi5LarFGI6WwK2I1Mwslp6i40l8/1sMYWrmdWGtfExT2aSpRqjnH405yf9BePwAe38RX7xPQ35IW1tj4O0z9A84q+1B+5C7j/cRJv8jLKlZXOuYajmNXcmMd9U4wlTjGHKMshonmUqSyqYolURKSorU0Ut8W+aHB0mEyenXhY4bYNdsJN1ClMskMxkUzaRU9ZCUMsdFFans4LbO8Ftd3EYb06vT6Pa5eT+NMDUSLiJcW+DKSOiHTZrtDoML6A+GdLsd+r0+58MLRrk4Px9N/i/LT9II79951fDaZUMvaNBotXCabTTDQCuZqLqLe9Kh2esT1BtUbB+zdoIZdrHCLvVWbyxcWkshTI7eZhHhg0UmbswhuP4JvbMzgiBAVWQ0o0Kt0SGon3DabZPXAu4+LvDLusK9pwrLa/KYn9dVbq2IfHMvwdc/7vLVrRhffPsngl9v02y26J6eMRgMGV3YH8JgCKNjzVrA0WGUSjmD50jUrBzOJa4jUfcKhG6BXqtEJLqFoOkGVtWgbOoYpk7VtvDDAMe28Eoa8u4eZT1FUMsRutK/BK7EiS/RqRepVUXqbo6/trYREuldtMwGZuYpthTDVxOcGke40h4tJY6S2Kag5FBLeYqyiFTMIhWyyLLIQTrFw2e7TP/+nNu/Rri5/ARB2ongZqP4qSiVXAI9d4CuZGiGOrajYDsqw06FYddi2LXH9FpVIGDuURLhvZ8Qrs4jTM7z1vVphMjDDV5ubBPbEdmMq6zv5NmMFdg5MngRLyIVZQLfusQe4/sWnudxZ/WAt2/M885nS0x8usS7Xy7yD5bRpSDG/LuOAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/aae00611da07e2b00ec969247442b8bf/fcda8/image_589.png\" srcset=\"/static/aae00611da07e2b00ec969247442b8bf/12f09/image_589.png 148w,\n/static/aae00611da07e2b00ec969247442b8bf/e4a3f/image_589.png 295w,\n/static/aae00611da07e2b00ec969247442b8bf/fcda8/image_589.png 590w,\n/static/aae00611da07e2b00ec969247442b8bf/0a47e/image_589.png 600w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a> </p>\n<p>注意，上述代码中，有 var args = Array.prototype.slice.call(arguments) 语句，是为了将 arguments 对象转换成一个真正的 Array 对象的实例。</p>\n<h2><font color=\"#800080\">四、更多说明：</font></h2>\n<p>以上的invoker()函数，真正实现了灵活的动态调用。它接受的参数是，要被调用的函数名，然后是要被调用的函数的参数列表，这个参数列表有没有，个数是多少，都没有做限制，完全根据要被调用的函数的需求来。</p>\n<p>更多例子：</p>\n<pre class=\"brush: javascript\">function compute(a, b, c) {\r\n    alert(a + b + c);\r\n}\r\n\r\ninvoker(compute, 1, 2, 3);\r\n\r\ninvoker(function (s) { alert(s.split(&quot;\\r\\n&quot;).length); }, &quot;FirstLine\\r\\nSecondLine\\r\\nThirdLine&quot;);</pre>\n<p><a title=\"点击这里运行\" href=\"http://www.myfootprints.cn/OldWeb/javascript/default.asp?s=function%20say(msgTitle%2C%20msgBody)%20%7B%0A%20%20%20%20alert(msgTitle%20%2B%20%22%5Cr%5Cn%22%20%2B%20msgBody)%3B%0A%7D%0A%0Afunction%20invoker(func)%20%7B%0A%20%20%20%20var%20args%20%3D%20Array.prototype.slice.call(arguments)%3B%0A%20%20%20%20args.splice(0%2C%201)%3B%0A%20%20%20%20func.apply(window%2C%20args)%3B%0A%7D%0A%0Afunction%20compute(a%2C%20b%2C%20c)%20%7B%0A%20%20%20%20alert(a%20%2B%20b%20%2B%20c)%3B%0A%7D%0A%0Ainvoker(compute%2C%201%2C%202%2C%203)%3B%0A%0Ainvoker(function%20(s)%20%7B%20alert(s.split(%22%5Cr%5Cn%22).length)%3B%20%7D%2C%20%22FirstLine%5Cr%5CnSecondLine%5Cr%5CnThirdLine%22)%3B\" target=\"_blank\">点击这里运行</a></p>\n<p>最后一个例子，演示了可以直接传递匿名函数参数。</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}