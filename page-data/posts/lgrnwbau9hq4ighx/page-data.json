{"componentChunkName":"component---src-templates-post-js","path":"/posts/lgrnwbau9hq4ighx/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/lgrnwbau9hq4ighx","relativePath":"posts/lgrnwbau9hq4ighx","frontmatter":{"title":"退出登录的前通道方式与后通道方式","stackbit_url_path":"posts/lgrnwbau9hq4ighx","date":"2024-03-18T11:06:55","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a name=v0kQk></a></p>\n<h1>前通道登出</h1>\n<p>按照标准<a href=\"https://openid.net/specs/openid-connect-rpinitiated-1_0.html\">https://openid.net/specs/openid-connect-rpinitiated-1_0.html</a> ，登录平台会通过发现端点（Discovery Endpoint）来公布自己的结束会话端点，比如下图展示了基于 Duende IdentityServer 部署的服务 id6.azurewebsites.net 的发现端点：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVR42n2OW2+jMBhE8/9/T1u11T6slCClaJMKQrhjMHeMCcbEgD9CUqUX9W1HR6N5OdKsAGAYBtZ1bdd2vONn/tk97/txBIALwAJwme99H5OEScovVgCQpVmRl5TjhBhFY8d0l9B9xRwmciby0zlhIm/PSdNHnSjlPNx+sgKQcRrZrml7ZpAYUfWOyNYr107x16s2fqV45dorNyVzTiIRki3L5VfuZH3M1PdA2flrI1YDphr05UhfdfKokQez+XMgT0b9fKQviL/ROb7err+yBJllaRAECCHXces2TU57THeo2vqlkjZ6VP/DdB8SFVVbMbU/4vXrNmCMNU23bVvXDwgFfmTi/IDrnV8pfvFJqYRE9YpN1hwpDztRTNB/y3Eca5rmOI5lWZZpWpaTBJidas5JP1I+kn6sxdScR8qHqh/pvMjlunzLaZpalnW/7bq+74chysJYsH4Z5tt/8wFFdLZg0742+QAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"end_session_endpoint.png\"\n        title=\"end_session_endpoint.png\"\n        src=\"/static/0c6632651f76ee513492ec87f9ccc596/fcda8/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png\"\n        srcset=\"/static/0c6632651f76ee513492ec87f9ccc596/12f09/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png 148w,\n/static/0c6632651f76ee513492ec87f9ccc596/e4a3f/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png 295w,\n/static/0c6632651f76ee513492ec87f9ccc596/fcda8/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png 590w,\n/static/0c6632651f76ee513492ec87f9ccc596/efc66/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png 885w,\n/static/0c6632651f76ee513492ec87f9ccc596/c83ae/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png 1180w,\n/static/0c6632651f76ee513492ec87f9ccc596/6052f/1710757526454-7c8a641a-b720-47d3-b9ed-5ff92b400008.png 2030w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />当用户在当前应用退出时，当前应用会将用户重定向到登录平台的结束会话端点，同时带上以下 3 个参数：</p>\n<ul>\n<li>id_token_hint：用户的身份令牌。登录平台会校验该令牌是否有效，如果有效，则会清除该用户的会话信息；如果该参数缺失，则登录平台会展示一个页面，让用户确认是否退出登录；这是为了防止 CSRF 攻击，即攻击者通过一个链接，让用户在不知情的情况下退出登录。</li>\n<li>post_logout_redirect_uri：用户退出登录后，登录平台会将用户重定向到该 URL。该参数是可选的，如果缺失，则登录平台会将用户重定向到登录平台的主页。如果该参数存在，则必须是登录平台已经注册过的 URL。</li>\n<li>state: 如果客户端在重定向到登录平台的结束会话端点时，传递了有效的 post_logout_redirect_uri 参数，则可以选择同时传递这个 state 参数。当用户退出登录后，登录平台会将用户重定向到 post_logout_redirect_uri 参数指定的 URL，并在 URL 中带上 state 参数。这可以帮助客户端在多次跳转中不丢失状态信息。</li>\n</ul>\n<p>一般请求格式是这样的：</p>\n<p>GET /connect/endsession?id_token_hint=...&#x26;post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A7017%2Findex.html</p>\n<p><a name=kObLE></a></p>\n<h1>后通道登出</h1>\n<p>类似的，登录平台也会通过发现端点来公布自己是否支持后通道来结束会话，如下图所示：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABT0lEQVR42nXL6bLaIABA4fv+z6VVW6s1m1mAkESFkBAgC0LU0LntnW4zPXP+fm/W2mEcW8551wkppFJCSdn3qh+tfdj5+fN5fln7NHa+G/PrN2MMxgUXTS2zW5sQEVX8eBOhmKpe10qTXhOlSTdWShNtpfujdwwhTNMUoBRfw5KdUL3NyCojK0Q3kG4AXV/4qRvK4d4+nuZfXBQFQghBxBpSq7TiXtWeMNtfuHftgrI9XrhXS2Dm0f3dOwY/iuMY5yUVSdkecrYDdI3qbdV+w2yP2ZeMrJiCzrnFLYtbfuM4TnzPD4PwfD5nIEFFVNJTzj7DegvIGtBPOdvBeoObfS1TMV4n033gu9FxGvmhF8VhdA6D0AdZRsvLMDTjxKe501be597Mg7ZyNN3jZZfl9YG5vnlwF4BDAA8++BrmxwR7BUllT6eH6F3zck/3n74D4nK5RP7pbsEAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"backchannel_logout.png\"\n        title=\"backchannel_logout.png\"\n        src=\"/static/0349789cdd7a1c8025cf89e9f3884afc/fcda8/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png\"\n        srcset=\"/static/0349789cdd7a1c8025cf89e9f3884afc/12f09/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png 148w,\n/static/0349789cdd7a1c8025cf89e9f3884afc/e4a3f/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png 295w,\n/static/0349789cdd7a1c8025cf89e9f3884afc/fcda8/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png 590w,\n/static/0349789cdd7a1c8025cf89e9f3884afc/efc66/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png 885w,\n/static/0349789cdd7a1c8025cf89e9f3884afc/c83ae/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png 1180w,\n/static/0349789cdd7a1c8025cf89e9f3884afc/0ff19/1710757636838-22217c13-8678-4565-b0de-73865c74861d.png 2084w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />Keycloak 还提供了 UI 来对该选项进行配置：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVR42m3QXW/SUBgH8H4DS5igAkLZVoFCx1tcZjY1m0v0Yjfe+ulMjJ+AS+K67MoXaLt2MGnchUFdSwfpe3vO6alpyUwc+12cPDk5//M8eYgfl5cTReFF8cu3wdfBcMALQ14c8EJSCIMhz/MiL4hDIb4UJVmSz6XRSFQuRuMxQZWpGrtF03Q2m11bu59KpUjyXipBJm7VJElmMpl0Op3L5YgiRZXK6/nC4wcPH5VK1PsPH49PTnu9Xr/f5zju+H+fEhx3fMLFCJpmaJrJF6h8ofikUpOlkWN7lmkFIEAIRStcGCl6iEMEACCO3h0dvt3fe/Vy9/n+weHr4ejzRJ0ov7+rmnqlqrMbmqbpum6apuf7PkAIQoQQsXPw7MWbvWa3y9Sbne62rAjXnvrr+qfjOK7nOQnXdW07Pi3L9H0/DBFCCGNMNBrtOtMuUZuFYpmuMKJwZizMmaYnj8LoLqZlLxYLCCHBtjrVOkut06XyZqXWkOVzCCHGGABg2w5eEeLIdHzLjEcgmu1unW0tw1WmcSZJQRAsp8JRtBqOoggA4Lpu3LlSa9AV5l/n8fgCAAAhjO5KLgEAXceDEBFss9PqPN2gqzfhsZfsaTabGYZx64sIRwF2jUCfO6qLTILdam/v7FYZtkhtVBlWEERN06bTKQBgZWHxzA5ezMGfuXdlAO0vT+X2CxXJSbsAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"keycloak-clients-logout-settings-1.png\"\n        title=\"keycloak-clients-logout-settings-1.png\"\n        src=\"/static/1b269020b88f89f0dfe2299bbffdb9e6/fcda8/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png\"\n        srcset=\"/static/1b269020b88f89f0dfe2299bbffdb9e6/12f09/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png 148w,\n/static/1b269020b88f89f0dfe2299bbffdb9e6/e4a3f/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png 295w,\n/static/1b269020b88f89f0dfe2299bbffdb9e6/fcda8/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png 590w,\n/static/1b269020b88f89f0dfe2299bbffdb9e6/efc66/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png 885w,\n/static/1b269020b88f89f0dfe2299bbffdb9e6/c83ae/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png 1180w,\n/static/1b269020b88f89f0dfe2299bbffdb9e6/aae30/1710757690119-3b1017a0-4de5-4900-9cc3-89428f0b26ca.png 2080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHElEQVR42oWSTW8SQRjH9xNYoYMiQsvrgguUWghSWhoSL8Z4VD+IFrwoLfGmcuEIBELg5EcxMekLr9IabKEU7NIFll2Wmdkxm6aJSSn9ZQ7PPJNf/plnhmo2m7X6r597+3v7BwelcqlSVVa5clUclsqVWr1crSl1uVJvHNXqjaPj49rpn0q1Snl8Po/XazIaH+v1Wq0WaDQAgMX/ULbXHQCAWq3WXkMZzZalZaPBYFhQqV6/eZvJZJLJZCqVymazmRuk0+lcLlcoFPL5fLFYpBinS29YWjaa7y2oYrtxQghEiMwFIQQhxBhTW+HnvmfBYChsZ9xfviWUM4hkLCOE8C1IksTzY57nqRcvX22EwoFgyMG4vyYSEEudbpsb9OckQ4QEUZQkiVrz+S02h9lK31c9iMYi7LjTOKm02N/n7Jk0hbNlCAUFkXJ71sxWO/3ECTS6DzsRQogwEsdTnuV7Mr41WRTF6RRSPn/AZKFpBwM0umhsmxeH3OVAkEYSGROZyDcghAz4Ccdxyp2d7lWThbY5mEXwKLqzPYFC/4Jlee7H6QWczh47whhBiBCiGJfHaLbRiqwkd/92qqVqr99t9tpTCc5/M2p9I+RaeWqlHUCji8TeD8V+66zV49qXo3OM5DvkQHBzZdVrszNqoP0Y/0QIEdFwIo/Gyjcgd8ibW2Gff512ONXg4W78s9LDaCiid99PDtsCxlczmi3/AxmqXxV1NnZ+AAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"keycloak-clients-logout-settings-2.png\"\n        title=\"keycloak-clients-logout-settings-2.png\"\n        src=\"/static/684e651016875f08d7b6422b43d9459f/fcda8/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png\"\n        srcset=\"/static/684e651016875f08d7b6422b43d9459f/12f09/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png 148w,\n/static/684e651016875f08d7b6422b43d9459f/e4a3f/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png 295w,\n/static/684e651016875f08d7b6422b43d9459f/fcda8/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png 590w,\n/static/684e651016875f08d7b6422b43d9459f/efc66/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png 885w,\n/static/684e651016875f08d7b6422b43d9459f/c83ae/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png 1180w,\n/static/684e651016875f08d7b6422b43d9459f/efb68/1710757711568-1d710fec-011b-4c80-b16f-f4d853deec08.png 2032w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />要使用后通道模式退出用户，需要在当前应用中向登录平台发送一个 HTTP POST 请求 <a href=\"https://openid.net/specs/openid-connect-backchannel-1_0.html#BCRequest\">https://openid.net/specs/openid-connect-backchannel-1_0.html#BCRequest</a> ，同时带上一个 logout_token 参数，该参数是一个 JWT 格式的身份令牌。该请求看上去是这样的：</p>\n<p>csharp\nPOST /backchannel_logout HTTP/1.1\nHost: rp.example.org\nContent-Type: application/x-www-form-urlencoded</p>\n<p>logout_token=eyJhbGci ... .eyJpc3Mi ... .T3BlbklE ...</p>\n<p>如上所示，该 POST 请求的请求体使用了 application/x-www-form-urlencoded 编码的格式，而不是 application/json 格式。<br />支持后通道模式退出的身份认证平台或者说登录平台在收到这样的请求后，需要校验 logout_token 参数是否有效，如果有效，则清除该用户的会话信息。如果 logout_token 参数无效，则登录平台会返回一个 HTTP 400 错误码。<br />检验规则如下：</p>\n<ol>\n<li>如果 logout_token 被加密了，则登录平台需要使用客户端在注册时指定的身份令牌加密算法和密钥来解密该令牌。如果在客户端注册阶段商定了身份令牌的加密，但是在退出登录时传入的 logout_token 没有被加密，则登录平台应该拒绝该请求，返回 HTTP 400 错误码。</li>\n<li>验证 logout_token 的签名是否有效，并且满足接下来的每一条规则。</li>\n<li>验证 alg（算法）头部参数。和身份令牌一样，算法的选择在发现端点中由 id_token_signing_alg_values_supported 和 id_token_signed_response_alg 参数指定，如果没有指定，则默认为 RS256。要注意的是，在 logout_token 中绝不允许使用 alg = none 的算法。</li>\n<li>验证 iss（签发者）头部参数。该参数必须是登录平台的 URL，或者是登录平台的 URL 的子域名。</li>\n<li>验证 aud（受众）头部参数。该参数必须是当前应用的客户端 ID，或者是当前应用的客户端 ID 的子域名。</li>\n<li>验证 iat（签发时间）头部参数。该参数必须是一个有效的 UNIX 时间戳，且必须早于当前时间。</li>\n<li>验证 logout_token 中必须包含 sub（主题）声明或者sid（会话 ID）声明，或者同时包含这两个声明。</li>\n<li>验证 logout_token 中必须包含 events（事件）声明，且该声明必须是一个 JSON 对象，并且必须包含一个成员，其值是 <a href=\"http://schemas.openid.net/event/backchannel-logout\">http://schemas.openid.net/event/backchannel-logout</a> 。</li>\n<li>确认 logout_token 中一定<strong>没有</strong> nonce（随机数）声明。</li>\n<li>可以验证最近没有收到过同样的 jti 值的 logout_token （该规则不是强制的）。</li>\n<li>可以验证 logout_token 中的 iss 声明和当前会话或者最近的会话中的身份令牌中的 iss 声明一致（该规则不是强制的）。</li>\n<li>可以验证 logout_token 中的 sub 声明和当前会话或者最近的会话中的身份令牌中的 sub 声明一致（该规则不是强制的）。</li>\n<li>可以验证 logout_token 中的 sid 声明和当前会话或者最近的会话中的身份令牌中的 sid 声明一致（该规则不是强制的）。</li>\n</ol>\n<p>以上验证步骤，只要有一个失败，就应该拒绝该请求，返回 HTTP 400 错误码。如果全部通过，就执行退出登录操作。</p>\n<p>Duende IdentityServer 尽管没有 UI 可以配置，但仍然可以使用代码来设置是否支持，并且是默认开启的。</p>\n<p>遗憾的 authing.cn 目前还不支持该选项，我在 authing.cn 中创建了一个应用，从其 well known 端点里没有找到支持的字段：<br /><a href=\"https://brickverse.authing.cn/oidc/.well-known/openid-configuration\">https://brickverse.authing.cn/oidc/.well-known/openid-configuration</a> 。去论坛里提问了，得到的回复是还没有实现。[<a href=\"https://forum.authing.cn/t/topic/1703\">https://forum.authing.cn/t/topic/1703</a>](<a href=\"https://forum.authing.cn/t/topic/1703\">https://forum.authing.cn/t/topic/1703</a> ) 。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACIklEQVR42nWTi3KbMBBF/f8f1mSmbRy3cZtJ3MQ1NhgBkjAgwvN0JALBrqOZZdHrau/u3YXSGaFQiEjh+ZqjSDkKiR/EePsQb39k5wUcfEFe1ORFNVlhaqTKkConO2XI4MCC2fgbwvLnIz9WS9brNbe3t9zcfOHu7o7NZsP56N8NOiDd75D3SxZd1zFa37cIEZIkCXEcE0URQRDw9la5i1VVTdZ1vbOmaWjbdnrmLEILagG22xd8/4BSklRrwjDkeDwihHDePjaCKJ2SZdkQc9+zsB9rDrBted3ueFg/8fX7ivvVA8+bV0QUI6VEKYXW2gHYyFzUdYMx5gNw/BlWOkR8YufneEFGIDL2QUpuKuq6oiiMoztlcbw3+58Ax4U01SRJRBJHJElMJEIXnbR5TWJUmjq6l2AT4HxivT08mku83eutB51IWlPQdj3tO+U5+Bnl8cHI2+EHEUehEWGIEBFxHCFiya/lCvn6QlnX1HXtztt85nl+PcIwOHDwPNLTiaZpJ4n071GOw4KNRSmKgjRNnUL+AyzL0mnP932nRysTK6M5Ja4UYj5ffLZ52RNNVWNOOaY0rkBzqZwVZWyhYf456KDTgZbee2Rpeh1wPol1h5SKpi4xRUZpcoyxja9pmg/9jSq4xmwxpGVYtHJ42mqetid+/5E8vijnvz2EPO8KVAYqG3p4ZDUPaKI80rXeVJCXgy/eBl/Ww1rjNMd5kS7GP3JH2pkroQ/xAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/8634a63232a104280e39b30529a6bc74/fcda8/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png\"\n        srcset=\"/static/8634a63232a104280e39b30529a6bc74/12f09/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png 148w,\n/static/8634a63232a104280e39b30529a6bc74/e4a3f/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png 295w,\n/static/8634a63232a104280e39b30529a6bc74/fcda8/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png 590w,\n/static/8634a63232a104280e39b30529a6bc74/efc66/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png 885w,\n/static/8634a63232a104280e39b30529a6bc74/c83ae/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png 1180w,\n/static/8634a63232a104280e39b30529a6bc74/1078c/1710759972345-9901fd8a-882b-48d1-8613-3f3c16fa63d6.png 2180w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=J5yFm></a></p>\n<h1>小结</h1>\n<p>本文介绍了如何实现前通道和后通道两种方式的登出操作。前通道是指在用户退出当前应用时，将用户重定向到登录平台的结束会话端点，让登录平台清除用户的会话信息。后通道是指在用户退出当前应用时，向登录平台发送一个 HTTP POST 请求，让登录平台清除用户的会话信息。</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}