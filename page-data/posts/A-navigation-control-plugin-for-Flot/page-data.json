{"componentChunkName":"component---src-templates-post-js","path":"/posts/A-navigation-control-plugin-for-Flot/","result":{"data":{"sitePage":{"id":"SitePage /posts/A-navigation-control-plugin-for-Flot/"}},"pageContext":{"url":"/posts/A-navigation-control-plugin-for-Flot/","relativePath":"posts/A-navigation-control-plugin-for-Flot.md","relativeDir":"posts","base":"A-navigation-control-plugin-for-Flot.md","name":"A-navigation-control-plugin-for-Flot","frontmatter":{"title":"A navigation control plugin for Flot","stackbit_url_path":"posts/A-navigation-control-plugin-for-Flot","date":"2013-07-23 21:25:07.515957","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["flot","javascript","plugin"],"canonical_url":"https://be-net.azurewebsites.net/post/2013/07/23/A-navigation-control-plugin-for-Flot","template":"post"},"html":"<h2><font color=\"#9b00d3\">Background:</font></h2>  <p>Flot is an open source javascript library for drawing attractive charts, and there is a plugin named jquery.flot.navigation.js to allow user to pan or zoom the charts. However, it is hard for touch screen (iPad, iPhone, Windows Phone, etc.) users to do that. So I made another plugin named jquery.flot.navigationControl.js working together with jquery.flot.navigation.js to ease that problem. It adds several control buttons on top of the charts to let user to click on them, and hooks these buttons to do the panning and zooming work.</p>  <h2><font color=\"#9b00d3\">Screen shot:</font></h2>  <p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/Screenshot.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABpElEQVR42l2SW2+jMBCF+f+/bR827appsklIyh0CGDP4OpcVEFXVnqcjy3Nm/I0TuqWu77u/Fzt0zccvDoHkJSJiZhFxzu2GN32bhMsKnDtfLiLS308AiphpU4wREZl5nmdEJCLc9G0SzIsJIL1eQ0SbPRqVr8HCPzt77//rvB6iT8aPz/fj8f3tcL5dbfrodT26SbaLa7EwhTC1rQdY67ap1lymfMoTzAoFcDmfXYxYlORcBfVgekfeLctSN9C2U9ctQw9VbYbBY4AA5VROdkqkqhfv72lKIlw37D0y6TA3z/xyOdRTtQMTERNNWpy+7sfRjiYYYUkwy12Mz6aJRFiUaN2aEnEuK0aa3NQurV2s8abQBQnbUblhFBHEmNBXxmXFZYV5sXpEEbHD4LXeEElnOjWPDdQO3UqSGepq30Kys6ONxYunyNK2FONOm5hO3akzzxd/EaeUn3UImCwA3nsA0Fp7782yLMaoojAAo1LOWevC4fcfXWSBSGsNxsCzv70dm/qZ7Ev7+XVWNl1HMfL6MCrLWc+G+p6V2sfsH9nY9iLyD7AUeBfoAmwgAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"A navigation control plugin for Flot\" title=\"A navigation control plugin for Flot\" src=\"/static/d7ba7dc6951dd1cbb2b4563e625ea59d/fcda8/Screenshot_thumb.png\" srcset=\"/static/d7ba7dc6951dd1cbb2b4563e625ea59d/12f09/Screenshot_thumb.png 148w,\n/static/d7ba7dc6951dd1cbb2b4563e625ea59d/e4a3f/Screenshot_thumb.png 295w,\n/static/d7ba7dc6951dd1cbb2b4563e625ea59d/fcda8/Screenshot_thumb.png 590w,\n/static/d7ba7dc6951dd1cbb2b4563e625ea59d/ca12d/Screenshot_thumb.png 647w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>  <h2><font color=\"#9b00d3\">Usage:</font></h2>  <p>Inside the &lt;head&gt;&lt;/head&gt; area of your html page, add the following line:</p>  <pre class=\"brush: html\">&lt;script type=\"text/javascript\" src=\"http://zizhujy.com/Scripts/flot/jquery.flot.navigationControl.js\"&gt;&lt;/script&gt;</pre>\n<p>Now you are all set, there will be pan and zooming controls appear on your canvas.</p>\n<h2><font color=\"#9b00d3\">Online example:</font></h2>\n<p><a href=\"http://zizhujy.com/FunctionGrapher\">http://zizhujy.com/FunctionGrapher</a> is using it.</p>\n<h2><font color=\"#9b00d3\">Dependencies: </font></h2>\n<p>These navigation controls would only work if you have referenced jquery.flot.navigation.js plugin and enabled it already.</p>\n<h2><font color=\"#9b00d3\">Customizations: </font></h2>\n<pre class=\"brush: javascript\">    options = {\r\n        homeRange: {xmin:-10,xmax:10,ymin:-10,ymax:10},\r\n        panAmount: 100,\r\n        zoomAmount: 1.5,\r\n        position: {left: &quot;20px&quot;, top: &quot;20px&quot;}\r\n    };</pre>\n<p>To make the control symbols (+, -, ←, ↑, →, ↓, ⌂) more beautiful, you may include your own icon fonts css file, the symbols \r\n  <br />have the css class 'icon' for you to hook.</p>\n<h2><font color=\"#9b00d3\">Browser compatibility:</font></h2>\n<p>Tested on IE 8, 9, 10, 11, IE on Windows Phone, Chrome, it works well.</p>\n<h2><font color=\"#9b00d3\">Source Code: [jquery.flot.navigationControl.js]</font></h2>\n<p><a href=\"https://github.com/Jeff-Tian/jquery.flot.navigationControl\">https://github.com/Jeff-Tian/jquery.flot.navigationControl</a></p>\n<pre class=\"brush: javascript\">/* Flot plugin that adds some navigation controls on top of the canvas layer to allow users pan or zoom the graph. This is even more helpful \r\n    for the touch screen users.\r\n\r\nCopyright (c) 2013 http://zizhujy.com.\r\nLicensed under the MIT license.\r\n\r\nUsage:\r\nInside the &lt;head&gt;&lt;/head&gt; area of your html page, add the following line:\r\n\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;http://zizhujy.com/Scripts/flot/jquery.flot.navigationControl.js&quot;&gt;&lt;/script&gt;\r\n\r\nNow you are all set, there will be pan and zooming controls appear on your canvas.\r\n\r\nOnline examples:\r\nhttp://zizhujy.com/FunctionGrapher is using it.\r\n\r\nDependencies:\r\nThese navigation controls would only work if you have referenced jquery.flot.navigation.js plugin and enabled it already.\r\n\r\nCustomizations:\r\n    options = {\r\n        homeRange: {xmin:-10,xmax:10,ymin:-10,ymax:10},\r\n        panAmount: 100,\r\n        zoomAmount: 1.5,\r\n        position: {left: &quot;20px&quot;, top: &quot;20px&quot;}\r\n    };\r\n\r\nTo make the control symbols (+, -, ←, ↑, →, ↓, ⌂) more beautiful, you may include your own icon fonts css file, the symbols \r\nhave the css class 'icon' for you to hook.\r\n\r\n*/\r\n\r\n; (function ($) {\r\n\r\n    function init(plot, classes) {\r\n        plot.hooks.draw.push(drawNavigationControl);\r\n\r\n        plot.hooks.shutdown.push(shutdown);\r\n    }\r\n\r\n    function drawNavigationControl(plot, canvascontext){\r\n        var control = &quot;&lt;div id='navigation-control' style='width: 0; height: 0; left: &quot; + options.position.left + &quot;; top: &quot; + options.position.top + &quot;; position: absolute;'&gt;Control&lt;/div&gt;&quot;;\r\n        var zoomin = &quot;&lt;div id='zoom-in' style='position: absolute; left: 32px; top: 0; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;+&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n        var home = &quot;&lt;div id='zoom-home' style='position: absolute; left: 32px; top: 64px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;⌂&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n        var zoomout = &quot;&lt;div id='zoom-out' style='position: absolute; left: 32px; top: 128px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;-&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n\r\n        var panup = &quot;&lt;div id='pan-up' style='position: absolute; left: 32px; top: 32px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;↑&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n        var panright = &quot;&lt;div id='pan-right' style='position: absolute; left: 64px; top: 64px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;→&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n        var pandown = &quot;&lt;div id='pan-down' style='position: absolute; left: 32px; top: 96px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;↓&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n        var panleft = &quot;&lt;div id='pan-left' style='position: absolute; left: 0; top: 64px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;div&gt;&lt;span class='icon' style='font-size: normal; color: #666;'&gt;←&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&quot;;\r\n\r\n        var whitebox = &quot;&quot;; // &quot;&lt;div class='navigation-control-placeholder' style='height: 28px; width: 28px; border: solid 1px transparent; margin-bottom: 1px; padding: 0; line-height: 28px; border-radius: 5px; vertical-align: middle; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); background-color: transparent; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'&gt;&lt;/div&gt;&quot;;\r\n\r\n        var $placeholder = plot.getPlaceholder();\r\n        $(&quot;#navigation-control&quot;).remove();\r\n        $(control).html(whitebox + zoomin + whitebox + whitebox + panup + whitebox + panleft + home + panright + whitebox + pandown + whitebox + whitebox + zoomout + whitebox).appendTo($placeholder);\r\n\r\n        $placeholder.find(&quot;#zoom-in&quot;).click(function(){zoomIn(plot);});\r\n        $placeholder.find(&quot;#zoom-out&quot;).click(function(){zoomOut(plot);});\r\n        $placeholder.find(&quot;#zoom-home&quot;).click(function(){zoomHome(plot);});\r\n\r\n        $placeholder.find(&quot;#pan-up&quot;).click(function(){panUp(plot);});\r\n        $placeholder.find(&quot;#pan-right&quot;).click(function(){panRight(plot);});\r\n        $placeholder.find(&quot;#pan-down&quot;).click(function(){panDown(plot);});\r\n        $placeholder.find(&quot;#pan-left&quot;).click(function(){panLeft(plot);});\r\n    }\r\n\r\n    function shutdown(plot, eventHolder){\r\n        var $placeholder = plot.getPlaceholder();\r\n\r\n        $placeholder.find(&quot;#zoom-in&quot;).unbind(&quot;click&quot;);\r\n        $placeholder.find(&quot;#zoom-out&quot;).unbind(&quot;click&quot;);\r\n        $placeholder.find(&quot;#zoom-home&quot;).unbind(&quot;click&quot;);\r\n\r\n        $placeholder.find(&quot;#pan-up&quot;).unbind(&quot;click&quot;);\r\n        $placeholder.find(&quot;#pan-right&quot;).unbind(&quot;click&quot;);\r\n        $placeholder.find(&quot;#pan-down&quot;).unbind(&quot;click&quot;);\r\n        $placeholder.find(&quot;#pan-left&quot;).unbind(&quot;click&quot;);\r\n    }\r\n\r\n    function zoomIn(plot){\r\n        var center = plot.p2c({x:0, y:0});\r\n        plot.zoom({amount: options.zoomAmount, center: center});\r\n    }\r\n\r\n    function zoomOut(plot){\r\n        var center = plot.p2c({x:0, y:0});\r\n        plot.zoomOut({amount: options.zoomAmount, center: center});\r\n    }\r\n\r\n    function zoomHome(plot){\r\n        var axes = plot.getAxes();\r\n        var xaxis= axes.xaxis;\r\n        var yaxis = axes.yaxis;\r\n        xaxis.options.min = options.homeRange.xmin;\r\n        xaxis.options.max = options.homeRange.xmax;\r\n        yaxis.options.min = options.homeRange.ymin;\r\n        yaxis.options.max = options.homeRange.ymax;\r\n\r\n        plot.setupGrid();\r\n        plot.draw();\r\n    }\r\n\r\n    function panUp(plot){\r\n        plot.pan({top:options.panAmount});\r\n    }\r\n\r\n    function panRight(plot){\r\n        plot.pan({left: -options.panAmount});\r\n    }\r\n\r\n    function panDown(plot){\r\n        plot.pan({top:-options.panAmount});\r\n    }\r\n\r\n    function panLeft(plot){\r\n        plot.pan({left: options.panAmount});\r\n    }\r\n\r\n    var options = {\r\n        homeRange: {xmin:-10,xmax:10,ymin:-10,ymax:10},\r\n        panAmount: 100,\r\n        zoomAmount: 1.5,\r\n        position: {left: &quot;20px&quot;, top: &quot;20px&quot;}\r\n    };\r\n\r\n    $.plot.plugins.push({\r\n        init: init,\r\n        options: options,\r\n        name: 'navigationControl',\r\n        version: '0.1'\r\n    });\r\n\r\n})(jQuery);</pre>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}}}},"staticQueryHashes":[],"slicesMap":{}}