{"componentChunkName":"component---src-templates-post-js","path":"/posts/xrpb7v/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/xrpb7v","relativePath":"posts/xrpb7v","frontmatter":{"title":"FreeArch:  一键拥有你自己的身份认证平台 Keycloak，完全免费！","stackbit_url_path":"posts/xrpb7v","date":"2022-08-16T11:54:10","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a href=\"https://dashboard.heroku.com/new?button-url=https%3A%2F%2Fgithub.com%2FJeff-Tian%2Fkeycloak-heroku&#x26;template=https%3A%2F%2Fgithub.com%2FJeff-Tian%2Fkeycloak-heroku\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 147px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.768707482993197%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8UlEQVR42lWQzUrDUBCF84Ct6Y8bf0JTK3TRRaEm1UDbtNcUCoIgpVBQ0Y1v4MIH6L3m3oj4R1xKHyLbe2SGILj4mOEMzJwzTuDK4rSpMGsZO6wrG7gSJ9UNM6hsMCh70v/Y+ddbIqxJhDVZOCTeitw+PWyxij4h/AxXwTuSzgsu+2+46L2yFnsa8WGK8d4zztsak4OUEb7G1EsR7SoyBIeu3c2/7eP9D9ajL4h2xpW4ETmWww9cz3II3yA50oi9FEnHYH5sePGia7DoZrSUXTohRW4ojPc1R6Yr5Jo0juFKnDUVV5qRRvMyIkFvsuWs+AVYedMKH2yOggAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/51c9330ce435443a4e3504c5f3a22ec8/a70ce/1660650724977-eb150267-63fc-48e5-9980-d74f2749e0a3.png\"\n        srcset=\"/static/51c9330ce435443a4e3504c5f3a22ec8/a70ce/1660650724977-eb150267-63fc-48e5-9980-d74f2749e0a3.png 147w\"\n        sizes=\"(max-width: 147px) 100vw, 147px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></a></p>\n<blockquote>\n<p>通过将官方的 Keycloak 镜像做些修改，适配 Heroku PaaS 平台，就可以免费拥有自己的 Keycloak 啦！</p>\n</blockquote>\n<p>其实在好几年前，我部署了自己的 Keycloak 实例： <a href=\"https://keycloak.jiwai.win\">https://keycloak.jiwai.win</a> 。但那时候的版本，在 Heroku 上的免费 Dyno 上还跑不起来，不得不使用了 Heroku 的 Hobby Dyno，为此每月需要花费 7 美元：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVR42o2S30/aUBSA+f/fNg3yYzgRzMw2JlRfppiALorswb0Qs+gYIhZbOlop7YW2t9/SW5c5edlNvpz74+TLuefezOdWh4TD1gVH7S7Nky7N06+0zi9pn19y0klpd/7OU76p8/bZE0/5mbVSjfXNT4q1UsrrUo3s2z2u+0P0hwl3usFINxjeGwxGBrf3Jjd9ndvhmLFpKXRjosjkyg1y5XrKdoP1RFisUaxqCLHg+QgkREAUp3E8cuj3dH5ejRn9mHB3Y5LJVzSeky3XVbWFioY79wiXEnfqE8oYEcQEIsS1BUGUrCUPA5ted4iMJcEyJFPc2Seh8BTzVU1V+mZnn8eZq5K8uc8iiJRA+AtmzpxlKFmEMd7Mx/nlKmEURWQKVY0/JMJcpUF2a08Jp1MH27axLAt3LnBmgqk1xTItpraLt4iwJhMMw0T4Am/urQrzlQYb5TqldwfYjovwQ9xHQRjFXPVMTg+/c3Z8zcWXgRKGyxDhB7iOz8zx0yu/rHBju87m7gGm7TFbgO1J1T8pY5ZBRBBIwlASxyiSEcexYkWY3UofJe3hXCUnvZEyEfxLsveSFWHyL18VP6o+7taP+KAd815r/je/AbJTsfLSAjMSAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/93df26033c357f25cc42e35ffaa2963c/fcda8/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png\"\n        srcset=\"/static/93df26033c357f25cc42e35ffaa2963c/12f09/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png 148w,\n/static/93df26033c357f25cc42e35ffaa2963c/e4a3f/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png 295w,\n/static/93df26033c357f25cc42e35ffaa2963c/fcda8/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png 590w,\n/static/93df26033c357f25cc42e35ffaa2963c/efc66/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png 885w,\n/static/93df26033c357f25cc42e35ffaa2963c/c83ae/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png 1180w,\n/static/93df26033c357f25cc42e35ffaa2963c/fbae3/1660649477769-4e19bca5-9860-4b03-af76-310836b6cb45.png 2260w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>但是，我当时利用复旦大学研究生的身份，注册了 GitHub Educations 的 Student Pack，获得了 Heroku 的代金券，因此一直是处于实际上的免费使用状态。后来研究生毕业，不能再使用 GitHub 的 Student Pack，于是希望 Keycloak 可以跑在 Heroku 的免费 Dyno 上。在使用较新的镜像后，将 Dyno 类型改成了 Free 版，做了一个实验，完全可以跑起来！尽管日志会有一些报错，报怨内存超出限额，但是从用户体验角度，对此并无实际感知。</p>\n<p><a name=Ne3EI></a></p>\n<h1>如何一键部署 Keycloak 到 Heroku</h1>\n<p>我更新了一键部署按钮，点击这个链接，即可部署 Keycloak 到 Heroku，而且由于使用的是 Free Dyno，应该不再有绑定信用卡的要求了！</p>\n<p><a href=\"https://dashboard.heroku.com/new?button-url=https%3A%2F%2Fgithub.com%2FJeff-Tian%2Fkeycloak-heroku&#x26;template=https%3A%2F%2Fgithub.com%2FJeff-Tian%2Fkeycloak-heroku\">https://dashboard.heroku.com/new?button-url=https%3A%2F%2Fgithub.com%2FJeff-Tian%2Fkeycloak-heroku&#x26;template=https%3A%2F%2Fgithub.com%2FJeff-Tian%2Fkeycloak-heroku</a></p>\n<p><a name=HOBzK></a></p>\n<h1>数据库</h1>\n<p>如果有自己的数据库，可以在 DATABASE_URL 处填写自己的数据库连接字符串：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b5cfbc3c116a3ee0d1ce341f91f50321/61583/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.675675675675674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuklEQVR42oWQ3Q6CMAyFef+n88ZLTVABx9gPjCGuG8esBoLhwibN1zTdOe0KAPB+gu0HpLQgpsTMsSxf/ot1LrPIRRYTUsH2DqfzBUJqHmCDmBBjZK6GgYh7FOOP+SZoeoeyalELhVvV4l5LKDNAKotGKO5fywaPRkJIw2xazbXz01HQOY+n6KC0hTYWstPolNnoRo/RvzCME+Y5bJunlHjjw8lEESEEEBFzSyK8Q+DH+//Kgmvms/eCH1Qwhc030l97AAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b5cfbc3c116a3ee0d1ce341f91f50321/fcda8/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png\"\n        srcset=\"/static/b5cfbc3c116a3ee0d1ce341f91f50321/12f09/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png 148w,\n/static/b5cfbc3c116a3ee0d1ce341f91f50321/e4a3f/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png 295w,\n/static/b5cfbc3c116a3ee0d1ce341f91f50321/fcda8/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png 590w,\n/static/b5cfbc3c116a3ee0d1ce341f91f50321/efc66/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png 885w,\n/static/b5cfbc3c116a3ee0d1ce341f91f50321/c83ae/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png 1180w,\n/static/b5cfbc3c116a3ee0d1ce341f91f50321/61583/1660649997229-125d23d4-8ce3-4a6b-a6d9-4abac7b1d984.png 1616w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />如果没有，可以不用修改连接字符串，直接部署。在部署完成后，再将 Heroku 自动分配的数据库连接字符串粘贴到 DATABASE_URL 栏：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3fe2b8142dc93280a857390633557338/ae628/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42nWR3UoDMRCF9/2fzCtFFEEUvZJWtu0mO5lJMr+yu5aq1HMRAme+nDlkMDMRFVURXSQi7jJn/txrSobgEe7m1zS4O/eFjlimlhMB314JQCuF+wq7b9ZvDZfrajsWfX8pULpIrbUgiqh7XGMv8GoS+vOj99aZI4KZW2vxv34kt2oPt0EYEdOURKSz5AwiYmaqamZ/lj/DzHZ343na9q+1MrOqIVWiRrVRZ6pd1X7B7i4W/nTv+w8/N9/SLlMink/O/TuoC2Fz80FVD4fjaRwBqRTcFpuhQMHl/1Q1ogHAblfmGakCImGt1FV1TV7rba22t/MM43FKGQCppQT73ZRhynA8pfEwIVUzV7MvpgkPXKNP1DgAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/3fe2b8142dc93280a857390633557338/fcda8/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png\"\n        srcset=\"/static/3fe2b8142dc93280a857390633557338/12f09/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png 148w,\n/static/3fe2b8142dc93280a857390633557338/e4a3f/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png 295w,\n/static/3fe2b8142dc93280a857390633557338/fcda8/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png 590w,\n/static/3fe2b8142dc93280a857390633557338/efc66/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png 885w,\n/static/3fe2b8142dc93280a857390633557338/c83ae/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png 1180w,\n/static/3fe2b8142dc93280a857390633557338/ae628/1660650091828-dea05078-e631-46b6-9e45-9bed230f80a5.png 2604w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>使用 Heroku 免费分配的数据库，有一些限额（比如只能有 10000 行数据），但足够用很久了。我这个 Keycloak 实例，跑了几年下来，还没有超出限额：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb711b2d8158319a365297590163db98/b1e12/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAvklEQVR42o2RCQ7DIAwE+f9j2yScPmArHEjStJWKNLJZDGvABR+wrBu8D29s3iMXQiH+C2K2evd8BCzPhGWNiJGQEiNnQSlqMWWxaJQfkB641SesWycixGKk3B31f2gicCqKBqC1tnPNL9TaUNvgmt80Vwqh1grVQR3MuarFd4NvprvmiBgsavS8Mz9Dpsayd2BU07vpqbVDc8wCjGv2ISL2w/0QUbXCezchROv8ui/EXXN3p8l55e/rH4x3fAHwOXWWIHvy0QAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/fb711b2d8158319a365297590163db98/fcda8/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png\"\n        srcset=\"/static/fb711b2d8158319a365297590163db98/12f09/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png 148w,\n/static/fb711b2d8158319a365297590163db98/e4a3f/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png 295w,\n/static/fb711b2d8158319a365297590163db98/fcda8/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png 590w,\n/static/fb711b2d8158319a365297590163db98/efc66/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png 885w,\n/static/fb711b2d8158319a365297590163db98/c83ae/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png 1180w,\n/static/fb711b2d8158319a365297590163db98/b1e12/1660650366841-ba6365af-e5d1-4042-9357-11fd772a0ee2.png 3280w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=Zctta></a></p>\n<h2>使用 Adminer 查看数据库</h2>\n<p>我还部署了一个 adminer (<a href=\"https://nameless-depths-40663.herokuapp.com/\">https://nameless-depths-40663.herokuapp.com/</a>) 到 Heroku，可以方便查看数据库的情况（不限于 Keycloak 的数据库），比如：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVR42nWS246iUBBF+f8/687YCNiIelRQQW7HA4e7Amsi/dCZh6lkp5KqZNWuShlpmhLd7yj5oKoqgkuO60bsdjniWHI61QhRI44V4qg5HGpOJ8XZzzn7KXneU5QjZTmSJxVGEAT4QYCMY/qu4XzWrNcp7veDw77ncpmJookonIiimTCcCMNx0e32WvJPfySMJowoyklTyUO1PJ9QVU+yrEdXM2naolSNUjlVVdC0mp+Y/yvjchkJgveUF+M4U5YDcayppSZPC6SqybIBpQaKYqDvZ+p6oiwntJ5p24mi+JWxWk18fEx43kTXQRz3rP74uBsPy9qz2Xh4Xo5tv7hee5Kkw7YH9vsBKXuKouN+b5e6EBmGZYHnvUEsK0s5sF4LXNfB2ThY1hdBEON5NUnSLCewrYLbraJtK6pK03UNfd+QJHcM254xzRnXnReHb6BpCjzPxXW3OI6NED6HgyLLnpSlxttLDuLBQ0qklLRtS9d1JEmC4TgzljXj+zNNA2na8/n5BllYlsXX1wohrpim4nqteUjFzoy5HRVt1y6vprVechiGv8Ddbkbr35W32+/F4Wbj4PvRAnwPU0qz3yrisKbrO5qm+cfhX9dBoBqn6wLLAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/61a9f62dbb8b11f7e0e4682433831203/fcda8/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png\"\n        srcset=\"/static/61a9f62dbb8b11f7e0e4682433831203/12f09/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png 148w,\n/static/61a9f62dbb8b11f7e0e4682433831203/e4a3f/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png 295w,\n/static/61a9f62dbb8b11f7e0e4682433831203/fcda8/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png 590w,\n/static/61a9f62dbb8b11f7e0e4682433831203/efc66/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png 885w,\n/static/61a9f62dbb8b11f7e0e4682433831203/c83ae/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png 1180w,\n/static/61a9f62dbb8b11f7e0e4682433831203/d46e6/1660650588357-0ea2337a-8de9-4938-b4fb-30925b5e32f0.png 3728w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>这对应于 Keycloak 的用户，看起来，已经有很多人在我的 Keycloak 实例里注册了，感觉免费的数据库马上要不够用了……</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/03fe82ad56d1f881257882c21084ccfa/5e485/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.05405405405406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACz0lEQVR42qWTXU8TURCG18TEW2OMMUIMaJCKBdrSUmgDSEy4oCUm3d5xzY+g9ePG+E+kFtFbExN/h4K20NLdbXfbnv06Le1CXjOn3dLECy/cZHLmzO48886ZsxLTazAcCw2DQdF0aI0mmM1xBcDzLuE/3uUVmOXCtDkspwOH98BYB6btglkcLu+ibl1BevXuPXL7+9jb28Pu7i4ymQxS6bSw9M4OUqk0trdTYp/JyJCzWchyFhlZhiwP99nrvfRgegZ370/g9p17uHHzFlLpHbx98xq5XA75fB65XF6sAz/3T5PiyeeIxNextLKBmbkwvn77jv95pFA0gcT6CwRDy5iYmsXBx0PxwnUcdDjHSamK47ICl3M4jiOMcw7Xdf/yaZUWllaxuZUCrRNTT/ChcAind4mawaAzCz9PSihVFJFoGAaq1apINE1T7PmwEPmObQ+A8eTmCHhw+BktD/ihmai1XRiGDkPX0ev1BEhRFHQ6HXS7XQGi+MXFBWzbFqsUiiWxtf0Si9EhsHiEVh84qZuomxytVgu1Wk1ACFipVIQ6AlqWNQL6MSkYjmM+soK5xdgIyDzgFwEtDlVRoOs6PM8TKlRVFQAqMA6kwtS+ULgYTSAYiePh4wAK1PJQoWa6UFVFtOkPpF6vo91uCyAVICApY4wNFIZX1xFf20RoOYFHgXkUj76MFGomx+npKcrlskggIPmapo2G4SukGBWRwrEkYqsbeLoQHVyb4hHaY8BSqSSMgJRwfn4u2ibgeMuNRmNwbUKxBJbia+IMJ6evgb8bJlTmispnZ2fi0AlI14OSCUgxApI1m80BcDYYEeqC4WVMDhWavkLminOhKVN7BKQBUfL4UOibfr8vfCkwPwA+C10Dm33geNgyTZkU0gAISooJ6g+F2iUjuJhywFdIv970LArFT3C6PVSUOtSGLtoikJ9IbRGMFPlGV4pipPAP1OsCYOKQTc8AAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/03fe82ad56d1f881257882c21084ccfa/fcda8/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png\"\n        srcset=\"/static/03fe82ad56d1f881257882c21084ccfa/12f09/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png 148w,\n/static/03fe82ad56d1f881257882c21084ccfa/e4a3f/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png 295w,\n/static/03fe82ad56d1f881257882c21084ccfa/fcda8/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png 590w,\n/static/03fe82ad56d1f881257882c21084ccfa/efc66/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png 885w,\n/static/03fe82ad56d1f881257882c21084ccfa/c83ae/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png 1180w,\n/static/03fe82ad56d1f881257882c21084ccfa/5e485/1660650655742-172a6e04-1719-4c93-a85d-de566406b21c.png 2168w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=h7Zsp></a></p>\n<h1>自定义域名</h1>\n<p>使用 Keycloak 默认的域名在大多数场景下足够了，但是在和中国生态结合使用时，比如在微信生态中使用的话，就需要域名是备案过的，这时候还是得绑定自定义的备案过的域名，只需要在 Domains 下面设置一下就好:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4ef10ea44e1f8943268e2b8cbffd2edc/fa65c/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVR42l2S23IbMQiG9/3frRe5SnORzsSNc6iTXa92dUAgfRmR1vaUmV9IIH4QaFrOK+c1sIaNbY8UEWpV16UIORdSFpIoUZQ8fPtOKYUi9QKplZQLk4ph2hwpFsK6c14TRTvaQTrELRHnhXg8Ii9H7PMDLYJaR6056tCtM3U6vfvKvu+EXJmjISHAcoLDI7wc4P0Z0gZa6eCgf8depA/Cv8aBNoyvv+HhDn79pL8901OkmWHgFVuH25ghMWTmP5ufp3/GocMWWU4z54+FbN92bZBHL0slJGONQmvXGK/haeb+x+E/QqC15pWMSntr/gRVI6bsl83MBzeGZtYc7uOaYLpkuvTido+T5Jw92UDK2ScsIqiq/wKR6uSD8AtUbyQmJmMs0AAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/4ef10ea44e1f8943268e2b8cbffd2edc/fcda8/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png\"\n        srcset=\"/static/4ef10ea44e1f8943268e2b8cbffd2edc/12f09/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png 148w,\n/static/4ef10ea44e1f8943268e2b8cbffd2edc/e4a3f/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png 295w,\n/static/4ef10ea44e1f8943268e2b8cbffd2edc/fcda8/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png 590w,\n/static/4ef10ea44e1f8943268e2b8cbffd2edc/efc66/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png 885w,\n/static/4ef10ea44e1f8943268e2b8cbffd2edc/c83ae/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png 1180w,\n/static/4ef10ea44e1f8943268e2b8cbffd2edc/fa65c/1660650278785-ff64f09b-ea83-4d1c-ad65-a20aefe798c5.png 3064w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=vND06></a></p>\n<h1>后期工作</h1>\n<p>目前这个版本，还是使用了 JBOSS 来运行，后期可以尝试去掉 JBOSS，实现在 Heroku 上更轻量级的部署。</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}