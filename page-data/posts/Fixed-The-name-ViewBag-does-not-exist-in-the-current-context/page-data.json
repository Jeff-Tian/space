{"componentChunkName":"component---src-templates-post-js","path":"/posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context/","result":{"data":{"sitePage":{"id":"SitePage /posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context/"}},"pageContext":{"url":"/posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context/","relativePath":"posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context.md","relativeDir":"posts","base":"Fixed-The-name-ViewBag-does-not-exist-in-the-current-context.md","name":"Fixed-The-name-ViewBag-does-not-exist-in-the-current-context","frontmatter":{"title":"Fixed: The name \"ViewBag\" does not exist in the current context","stackbit_url_path":"posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context","date":"2013-07-01 21:22:02.5090697","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["MVC","ViewBag"],"canonical_url":"https://be-net.azurewebsites.net/post/2013/07/01/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context","template":"post"},"html":"<h2><font color=\"#9b00d3\">Problem:</font></h2>  <p>Newly published a MVC web site, got a error message when trying to visit a page:</p>  <p><b>Compiler Error Message: </b>CS0103: The name 'ViewBag' does not exist in the current context</p>  <p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_627.png\"><img title=\"The name &#39;ViewBag&#39; does not exist in the current context\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px\" border=\"0\" alt=\"The name &#39;ViewBag&#39; does not exist in the current context\" src=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_thumb_316.png\" width=\"635\" height=\"396\" /></a></p>  <h2><font color=\"#9b00d3\">Analyze:</font></h2>  <p>The MVC sdk has already been installed on the host machine. By looking into the ViewBag’s definition, found it resides in the System.Web.Mvc.dll. So I copied this dll to the web folder’s ~\\bin folder, but the error message is still there. And then I double checked the cshtml file and the error message, it was saying the ‘ViewBag’ does not exist in the current context, so I must lost the relative referencing statements. But adding these referencing statements in all the cshtml files is quite annoying, there must be a central place for adding these statements once and will take effects on all the cshtml files.</p>  <h2><font color=\"#9b00d3\">Solution:</font></h2>  <p>By double checking the web.config, I found I’ve deleted some nodes that related these referencing statements some days earlier for fixing another issue. So I pasted these lost statements and then revisit the page, and then the error was gone!</p>  <p>If you removed these Razor related settings by purpose not to break some sub-applications, then you can paste these Razor related settings to the web.config under the ~/Views folder.</p>  <pre class=\"brush: xml\">&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;configuration&gt;\r\n  &lt;configSections&gt;\r\n    &lt;sectionGroup name=&quot;system.web.webPages.razor&quot; type=&quot;System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;&gt;\r\n      &lt;section name=&quot;host&quot; type=&quot;System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot; requirePermission=&quot;false&quot;/&gt;\r\n      &lt;section name=&quot;pages&quot; type=&quot;System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot; requirePermission=&quot;false&quot;/&gt;\r\n    &lt;/sectionGroup&gt;\r\n  &lt;/configSections&gt;\r\n  ...\r\n  &lt;system.web.webPages.razor&gt;\r\n    &lt;host factoryType=&quot;System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;/&gt;\r\n    &lt;pages pageBaseType=&quot;System.Web.Mvc.WebViewPage&quot;&gt;\r\n      &lt;namespaces&gt;\r\n\t&lt;!-- ViewBag is in this namespace! --&gt;\r\n        &lt;add namespace=&quot;System.Web.Mvc&quot;/&gt;\r\n        &lt;add namespace=&quot;System.Web.Mvc.Ajax&quot;/&gt;\r\n        &lt;add namespace=&quot;System.Web.Mvc.Html&quot;/&gt;\r\n        &lt;add namespace=&quot;System.Web.Routing&quot;/&gt;\r\n      &lt;/namespaces&gt;\r\n    &lt;/pages&gt;\r\n  &lt;/system.web.webPages.razor&gt;\r\n  ...\r\n&lt;/configuration&gt;</pre>\n<p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_628.png\"><img title=\"Fixed: The name &#39;ViewBag&#39; does not exist in the current context\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px\" border=\"0\" alt=\"Fixed: The name &#39;ViewBag&#39; does not exist in the current context\" src=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_thumb_317.png\" width=\"652\" height=\"293\" /></a></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","description":"Full Stack Developer, good at OAuth 2.0","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"本站源码","url":"https://github.com/Jeff-Tian/space","style":"link","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[]}