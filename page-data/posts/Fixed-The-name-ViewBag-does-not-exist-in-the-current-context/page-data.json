{"componentChunkName":"component---src-templates-post-js","path":"/posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context/","result":{"data":{"sitePage":{"id":"SitePage /posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context/"}},"pageContext":{"url":"/posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context/","relativePath":"posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context.md","relativeDir":"posts","base":"Fixed-The-name-ViewBag-does-not-exist-in-the-current-context.md","name":"Fixed-The-name-ViewBag-does-not-exist-in-the-current-context","frontmatter":{"title":"Fixed: The name \"ViewBag\" does not exist in the current context","stackbit_url_path":"posts/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context","date":"2013-07-01 21:22:02.5090697","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["MVC","ViewBag"],"canonical_url":"https://be-net.azurewebsites.net/post/2013/07/01/Fixed-The-name-ViewBag-does-not-exist-in-the-current-context","template":"post"},"html":"<h2><font color=\"#9b00d3\">Problem:</font></h2>  <p>Newly published a MVC web site, got a error message when trying to visit a page:</p>  <p><b>Compiler Error Message: </b>CS0103: The name 'ViewBag' does not exist in the current context</p>  <p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_627.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACQUlEQVR42n2SS2vbQBRG9Ze7DIE2dNldN4XQTUlDf0BLmj6geSxKAiUPm7iuZTuOLY00eliWbI0kS6NTJCe0EMgHh/PdYZjNXOPjyYjz7h1nNzadkeTbL4uXH0xe7JnsvL9nf8TO/pCdvQE77/ot22+7bO122X51ytbrc569OeX57k8Muz8gE1NSe0o8m6A8wVpMIfJhEcDcB0+A70Aagy6gKiiyJekyJr81SVxBtJpiDocY/mgGnkfpSnQ4p44Tas9H+z5VtEAHIdpx0NJDpwpdg9Y1NZvU9zSxnBBjPJzgTW4JLIvIdUmVItcVeVmyvneuNYXWZEWBUoosy1o/sFqtKMs1M9vD6PZMhsOGIdKVzMM5gR8QBEHbw9Zh6ySOUakiTdP2kcYNy+WSdVEwEx7Gn9EdQlhEUUSaKbIiJ8tzVJ6hHuYiR2UZGs1TsZ0AwxVXlPkF1boDD1RdKK6h7GxYX2/O8yvq/JK6cXZJXVxRqwvq5i43WE4Xw+yfspyfoFZnzPqfkJOviNsvyPEhlnmAPfyMMzrEGhwwn31n4fwg8Y5ZymMW8oiVe8TCPyHPzrizLjCmwiFVEUkSkKQRiyQkjIIWP5T4odf2KJ5T6oKa6j/K1rpet39tORLjsiP43Qvo9Xy6XUkQqMf7wL9e149p1mizNgGGOZK4boxtR1hWRBg2K1CidYWuKqqqbGnmxk9FuCHGYDxFShdbCKQnkZ6HLRyEI7GFi2U7rYWz6fNoQZysWMRL4mRD01epwhxb/AW/QIHxgw1A5AAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"The name 'ViewBag' does not exist in the current context\" title=\"The name 'ViewBag' does not exist in the current context\" src=\"/static/7b18f0954705dbf6a07eff8d3fe50750/fcda8/image_thumb_316.png\" srcset=\"/static/7b18f0954705dbf6a07eff8d3fe50750/12f09/image_thumb_316.png 148w,\n/static/7b18f0954705dbf6a07eff8d3fe50750/e4a3f/image_thumb_316.png 295w,\n/static/7b18f0954705dbf6a07eff8d3fe50750/fcda8/image_thumb_316.png 590w,\n/static/7b18f0954705dbf6a07eff8d3fe50750/1ddef/image_thumb_316.png 635w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>  <h2><font color=\"#9b00d3\">Analyze:</font></h2>  <p>The MVC sdk has already been installed on the host machine. By looking into the ViewBag’s definition, found it resides in the System.Web.Mvc.dll. So I copied this dll to the web folder’s ~\\bin folder, but the error message is still there. And then I double checked the cshtml file and the error message, it was saying the ‘ViewBag’ does not exist in the current context, so I must lost the relative referencing statements. But adding these referencing statements in all the cshtml files is quite annoying, there must be a central place for adding these statements once and will take effects on all the cshtml files.</p>  <h2><font color=\"#9b00d3\">Solution:</font></h2>  <p>By double checking the web.config, I found I’ve deleted some nodes that related these referencing statements some days earlier for fixing another issue. So I pasted these lost statements and then revisit the page, and then the error was gone!</p>  <p>If you removed these Razor related settings by purpose not to break some sub-applications, then you can paste these Razor related settings to the web.config under the ~/Views folder.</p>  <pre class=\"brush: xml\">&lt;?xml version=\"1.0\"?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;sectionGroup name=\"system.web.webPages.razor\" type=\"System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"&gt;\n      &lt;section name=\"host\" type=\"System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\"/&gt;\n      &lt;section name=\"pages\" type=\"System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\"/&gt;\n    &lt;/sectionGroup&gt;\n  &lt;/configSections&gt;\n  ...\n  &lt;system.web.webPages.razor&gt;\n    &lt;host factoryType=\"System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"/&gt;\n    &lt;pages pageBaseType=\"System.Web.Mvc.WebViewPage\"&gt;\n      &lt;namespaces&gt;\n\t&lt;!-- ViewBag is in this namespace! --&gt;\n        &lt;add namespace=\"System.Web.Mvc\"/&gt;\n        &lt;add namespace=\"System.Web.Mvc.Ajax\"/&gt;\n        &lt;add namespace=\"System.Web.Mvc.Html\"/&gt;\n        &lt;add namespace=\"System.Web.Routing\"/&gt;\n      &lt;/namespaces&gt;\n    &lt;/pages&gt;\n  &lt;/system.web.webPages.razor&gt;\n  ...\n&lt;/configuration&gt;</pre>\n<p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_628.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 45.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABjUlEQVR42p2PS2/TUBCF/f9/BVLFAlQgaggRIQ1C3cIiXZCauElskjgPX7/u9fX1I/6Q41AkVLHgSN+cmVkczVjf7++Y3k24uupx3R/T//iZ3mBMb/Dp4mNuhre8fT/q5g+3DEZfeNMfnfc3wwmve0NevRvy4uU1lv1zTiMk+DtqVVGqEzIFLaHWoBQoCTq7oCBNwGgwOWgNmQIaWDg+1mK9RAcxofNIFEhkJDkec4SoiOOaKK7PHoY1SdL1UdSRpr93FVkG9sMjlrtaEQQBRyEQYUAUh5RFBtR0av7iOZ3O1XOXWLPlDBmEpNsNwfZAIiuKCmQGpuLcP1G0NE8Y05DnDVnWBbqrJdbD2qZwffRkgvg6x/kmWN8fOMz2aG+P8QW5LzDHhELXFCUU5k9gi9aXwPZCe2NTJwYznZI4ezzHsHUkZXtiJmlyDXUFp/qZ9zuapgtcLRdYjueQHiLC7ZYsTdG5pqhK/kebzRpr/mOO77qsXZf9bseuxd8hAoFSCiVl5/9ASkme53ieyy8JPKZpcZS/lQAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Fixed: The name 'ViewBag' does not exist in the current context\" title=\"Fixed: The name 'ViewBag' does not exist in the current context\" src=\"/static/2df62e1d1c5d1f1f78cfbfa209023eba/fcda8/image_thumb_317.png\" srcset=\"/static/2df62e1d1c5d1f1f78cfbfa209023eba/12f09/image_thumb_317.png 148w,\n/static/2df62e1d1c5d1f1f78cfbfa209023eba/e4a3f/image_thumb_317.png 295w,\n/static/2df62e1d1c5d1f1f78cfbfa209023eba/fcda8/image_thumb_317.png 590w,\n/static/2df62e1d1c5d1f1f78cfbfa209023eba/dba9a/image_thumb_317.png 652w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}}}},"staticQueryHashes":[],"slicesMap":{}}