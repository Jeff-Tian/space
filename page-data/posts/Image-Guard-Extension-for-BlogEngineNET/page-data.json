{"componentChunkName":"component---src-templates-post-js","path":"/posts/Image-Guard-Extension-for-BlogEngineNET/","result":{"data":{"sitePage":{"id":"SitePage /posts/Image-Guard-Extension-for-BlogEngineNET/"}},"pageContext":{"url":"/posts/Image-Guard-Extension-for-BlogEngineNET/","relativePath":"posts/Image-Guard-Extension-for-BlogEngineNET.md","relativeDir":"posts","base":"Image-Guard-Extension-for-BlogEngineNET.md","name":"Image-Guard-Extension-for-BlogEngineNET","frontmatter":{"title":"Image Guard Extension for BlogEngine.NET","stackbit_url_path":"posts/Image-Guard-Extension-for-BlogEngineNET","date":"2011-08-11 07:32:00","excerpt":"Image Guard is the first (if not unique, at least for the moment) BlogEngine.NET extension that allows you guard your image files in blog posts in three different ways when they are displayed on other sites.\nWatermark: Add watermark to your images. (That’s a good way to spread your web site, isn’t it ? : ) );\nBlock: Replace the image that other sites request with a block image, such as an image only shows Not Allowed text on it;\nReject: Responde the request with 403 code.","comments_count":0,"positive_reactions_count":0,"tags":["BlogEngine.NET","C#","Extensions","ImageGuard","Watermark","图片护卫","插件","水印","盗链"],"canonical_url":"https://be-net.azurewebsites.net/post/2011/08/11/Image-Guard-Extension-for-BlogEngineNET","template":"post"},"html":"<h1><span style=\"color: #800080\">Abstract</span></h1>  <p>Image Guard is the first (if not unique, at least for the moment) BlogEngine.NET extension that allows you guard your image files in blog posts in three different ways when they are displayed on other sites.</p>  <ol>   <li><strong>Watermark</strong>: Add watermark to your images. (That’s a good way to spread your web site, isn’t it ? : ) );       <ul>       <li><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image.jpg\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADfElEQVR42gXBa2gbdQAA8NuaJvf6/+/uf6/cI3e55JpL2jQ1L9I8m1eT2Mystattbeeqpc7FirNbBes2nR1Fx4YyN9aBguIQv3ToF3EI/eJQQZCCDKGCTBCfIPqlXyrW3w9jEMVyJERE0/BUNLcH4JpMZvyeqIqzPEkxxKBKpH0eKFCWQo2r7rmiONXNLT5fuvDaIgZZkmTxwwTVJ1FpGacYguXwmoIXvW7A4bJAjYU9Rx1clmi/n+lX6JGCMX069fhK7JkzD2OaDnI2s/asPjcmF2z2sMdDMoTC4gqLA5bIB8nVumtjnP74OW7zMXb5KNPIsMWyNF+llpey2OYavzMD97aY/Qf66VnBy0KeJxmOYBHFy4zuBfMRd0Xv+W418MuG9u058kSNqzfVxaDrxW4e+/QKfb/cu3cV3/9Z/uxV7vbrMotwUYIkoP0m3xlWgxJMpsXNpPHXebh9Boy1lIk5o52ASydz2Nlp+ouoZ3+F+PN9tLeJtt6VDh3CY3G0vmBcbWvfv8xdX1U+Wtcv6vB+o/fiPJpbDi+eGpiYNBdOFDHNhBtBfLdJ/dDCD9bh/BGux0VLGvnGlPD1LPrxpvu/Xf2Tp1GJwF+QXYkI112QLnSVO1f4D98exggBmiL1qE1f4l3v2b0BiWQEmuHpkAQ+SFN/34UHu+paVmAk0B/gJB5srZE71z3/Xu755k4Eo0UABCgbKB6EaT/Zn9T7IqIgAkmCL1nUH29Sv70DmzZrBTjL4gFPLxTwB6/gO23s3q1+TFR5yJOWiobSYqXtT5UtSaMFL+1VUc5gbuTA5VFu65wyPUKe72r5qIgDYjVB3S65vrwWxpwB3QrLhoriSSZfRYpN8l4g6rzPkBWZXcmz2zeoX+8Jn99C22/ZiT6FFoFm8qcM981RA5uezbYnU2EHJbJ0LEMzMiWqjORjAraimVzLhl+t4Ac/kf9sicfigj004DNlw2CHVKo4GMLOnqwuPVUYP1I+/mS0/yGKRgB5WUGFqik6ISlsw04A/H4N3J2Bjp/xO4Zp6YZJh20mlYpinUm90TFnjlUWnhiMJ3jVEGUFBZ1grT7SGS+PNYcypdTqVPt4K9t6pJwpJOr17NRMo1JJlEtJrN70NSbUfA3VGlajZTkRU/JC1ZBD4UC5Gq1WQ31BLRpznIhWHU2Wm9HksFmqDpgmyuVi/wMOe8kZpnVT/gAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg\" srcset=\"/static/34c0883bd581abb3e37bbd6e0de100d9/a80bd/image_thumb.jpg 148w,\n/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a> </li>     </ul>   </li>    <li><strong>Block</strong>: Replace the image that other sites request with a block image, such as an image only shows Not Allowed text on it;       <ul>       <li><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR42mWUbUyVZRjHr4NJ8Cl1fmiA50UDjtBR1kanOYtNe1mmMVqZbbTmbKyIlW29fyg2c61mNS2niSivRw8cc4g0xTigcjIgXxp2zvGQgKTOQ4wMeO7rfu7nfmn3OQdk6/70PM+u33P/r5f/BWruSKk4Tz7I2+Mi+CuvDfDagOjpk/GJVAznOmz2wD1S6K+i9yJ7+V364Fq0uQm4CLjQ5qbZJaz8fdE/qCOFmOMhRSql0GTv7MQFbgI5BByYUURdT1LnOswoIuAgkI0LC62PvlYWn0NglqTshSqE5Zjuod7N/OBxOTSm4pNy4q68OmTtaaSrShFyEZzs1Q80L6WSCpJq2VvVCHbMWIWQaz71Ov89qG6O8v5OORxN5TVtsDerMW0lgsP6cFdSv5YtzoQwzY0LC831W6l9DV1agFVbrIET7FQdC/oSdbKSAtkbn2l1mR7xy+VUzqyskkC2+dhmxSWv99H9H9NnnqUX6q0fa2ioXk3e1TmODitmyimDrn6eQDYrf0/D8sYtXOol4OK1x5TiKj5phnz0tZfQ94XZsBM7v1Pjd+RIjAa+lGMjWsS3dQScNKdExidAdJzVlVhUrK7fsrp8vLdDhC9ixy7auANDNaR3nxz8zbrUhd371J24ljB4DTNXo22lODcAvKaVgJ0WbFDElH+N0JPf8NMt5k8HSPQIiQWMmJ91HjKDh82z9YowDf89SZ3rCDj5oWPAa1oILKMPb1JTM7p4kSt4ejdeOExireSPoyTiJxG/EW5iwWYlEg2e+Ie61mv4YABEe1DLXuKVozeTTRGXzpPLdeRaKwn7E3ALGWzkV4IqOR3hPzGzCMEtevpADo/h4mKEFbyhLTW9BmU/NxixoySa4EfbSGi/9dVulZgmvrdZFyzrcXl7XLfKfK5Ct6qkXFmWEvr/ciiKZ/YaUZ9xtYlEmun2bQgOXndcKUUfKSOQxbZsT/VZnOzBtHyEh6xP96Qu13yEBZvZuVYZHmAbKwjk0Ky1ZmklLnDjfQWip//ebLOtnyA4Md1jVX+vuEiNpEhZTc0Y5ppXEPLxfg+Cg739+ex4Jo0xZZhPb9O8Lc98opw3t+v6TU2rf6fl9Rui6YRZ/CKmexCWs7IqhWbSWPMsOT2TuD+P2HIIrMDFXurZRAs30gce1a6GZWjLZ1U7FNJ5lpxbBol3ceq8uaECFxUj5BKwE7Aj5OESr1laKbr75kfOg1NrSCSTkcNjvK2L/+DnB/y8vVunIMT/19B/DqmNX99clIUAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"images\" title=\"images\" src=\"/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png\" srcset=\"/static/9d2b84b4159590e7dc27ee7c696f1043/12f09/images.png 148w,\n/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png 225w\" sizes=\"(max-width: 225px) 100vw, 225px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span> </li>     </ul>   </li>    <li><strong>Reject</strong>: Responde the request with 403 code.       <ul>       <li><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_44.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVR42s2USwvCMAzH+/2/1bx48aA3LzqLLxQR3Rj2QfOXlhVbrLKuHgykj6T9kTQlbHdpUZ/uWB1vaLsHtFKQUkIplaX+DuPnBstDg9n6ik5qWCEi5IoxxkGZ0SpyeJidh2oEFELCmkzgzIG9Ae0QQnJT/gocI4OBbk+vB/8UfVaEBIrsyTM5EXpbVU2w4dv+IhWk3Mc5ny7A630ZMJXmz1ImQ+VFSX3y4ir/38ceq0lgqQTdRrhFqVqObbBPhPKQwNbX6OAAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png\" srcset=\"/static/47ad560c3d128dca71ed1947aac6b00a/12f09/image_thumb_44.png 148w,\n/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a> </li>     </ul>   </li> </ol>  <h1><span style=\"color: #800080\"></span><font color=\"#800080\">Requirements</font></h1>  <p>BlogEngine.NET 2.0 or above</p>  <h1><span style=\"color: #800080\">Installation</span></h1>  <p>Download the compressed file <a href=\"/BlogEngine/BlogEngine/BlogEngine.NET/file.axd?file=2011%2f8%2fImageGuard.zip\">ImageGuard.zip (6.18 kb)</a> (version <strong>1.0</strong>), then:</p>  <ol>   <li>Extract files; </li>    <li>Copy ImageGuard.cs into <em>~/App_Code/Extensions/</em> folder. </li> </ol>  <h1><span style=\"color: #800080\">Configuration</span></h1>  <ul>   <li><strong>Guarding Type</strong>: You can choose one of the three different ways mentioned above that to protect your images, default is Watermark. </li>    <li><strong>Watermark Text</strong>: If you choose the Watermark Guarding Type, then the watermark text you input to this textbox will be displayed in the right bottom of the images that requested by other site, otherwise this value will be ignored. Recommend you input your web site url in this field, for example: <a href=\"http://www.zizhujy.com\">www.zizhujy.com</a>. </li>    <li><strong>Virtual Path Of Watermark Image</strong>: If you choose the Watermark Guarding Type, then the image file in this path you inputted will be displayed in the left bottom of the images that requested by other site, otherwise this value will be ignored. You should input virtual path against your BlogEngine.NET application, for example, you use an image file in your blog post, then the virtual path of watermark image value would be like “<em>~/App_Data/files/yourWatermark.png</em>”. </li>    <li><strong>Virtual Path Of Block Image</strong>: If you choose the Block Guarding Type, then the value you inputted into this text box will be used as the file path for the block image, otherwise this value will be ignored. You should input virtual path against your BlogEngine.NET application, for example, you use an image file in your blog post, then the virtual path of watermark image value would be like “<em>~/App_Data/files/yourWatermark.png</em>”. </li> </ul>  <h1><span style=\"color: #800080\">P.S.</span></h1>  <p>I’m sorry for my poor English. Welcome your suggestion!</p>  <p><a href=\"/BlogEngine/BlogEngine/BlogEngine.NET/file.axd?file=2011%2f8%2fImageGuard.zip\">ImageGuard.zip (6.18 kb)</a></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}