{"componentChunkName":"component---src-templates-post-js","path":"/posts/解决：开机时找不到系统的错误/","result":{"data":{"sitePage":{"id":"SitePage /posts/解决：开机时找不到系统的错误/"}},"pageContext":{"url":"/posts/解决：开机时找不到系统的错误/","relativePath":"posts/解决：开机时找不到系统的错误.md","relativeDir":"posts","base":"解决：开机时找不到系统的错误.md","name":"解决：开机时找不到系统的错误","frontmatter":{"title":"解决：开机时找不到系统的错误","stackbit_url_path":"posts/解决：开机时找不到系统的错误","date":"2013-02-01 18:57:28.9140987","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["EasyUS","bcdedit","磁盘管理","系统"],"canonical_url":"https://be-net.azurewebsites.net/post/2013/02/01/解决：开机时找不到系统的错误","template":"post"},"html":"<h2><font color=\"#9b00d3\">一、故事：</font></h2>  <p>以前买的一台三星电脑，默认是Windows 7系统，有C、D两个分区。我将它升级到了Windows 8，然后在应用商店里，疯狂地安装各种应用。我本以为，应用是很小的，应该不会占用多少磁盘空间，可是不久之后，积少成多，发现C盘只剩下几个G的空间了。这时，我才回头去卸载了一些不常用的应用，然后又做了一些其他的清理工作，最后发现，成效不大，几个G的剩余空间，总让我有所不安。相反，D盘的空间却足够多。因为马云说过，技术是要为人服务的，所以我一般是不去管理什么磁盘的，安装什么程序，全让它自动进行，也不去挑选安装路径。下载什么东东，也是默认路径，从不修改。可是，一切默认设置均指向C盘，于是导致了C盘空间被大量使用，而D盘却从没有什么机会被使用。</p>  <p>于是，我发现厂商默认的两人个磁盘分区很不合理。一个C盘不就行了吗？于是我打开Windows 8的磁盘管理程序，试图将D盘删除，把空间全部加到C盘上去。果断地删除了D分区后，C分区的空间仍然增加不成功。错误信息说，C盘是主分区（primary partition），D盘是逻辑分区（logical partition），Windows 8的磁盘管理不支持将逻辑分区的空间加到主分区的空间！这个我实在不理解，毕竟是系统技术的菜鸟一个。</p>  <p>泄了点气后，我安装了EasyUS，嘿，它的磁盘管理程序，就不管什么主分区、逻辑分区了，只需要拖拖滑块，就将废掉的D分区空间全给了C分区！可是——</p>  <p>并没有立即结束，而是跳出一个警告框：“要想让刚才的更改生效，必须重新启动计算机”。也就是说，它知道我要干什么了，但是却不能立即帮我干，而是下次启动时才能帮我干。</p>  <p>好吧，我点了“立即重启”。于是悲剧发生了，系统重启时，出现个黑屏，说找不到系统了！</p>  <p>An operating system wasn’t found. Try disconnecting any drivers that don’t contain an operating system.</p>  <p>Press Ctrl+Alt+Del to restart.</p>  <p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/WP_000680.jpg\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADnklEQVR42gGTA2z8ALOpn8a3l8q7l76tjauagqCRd5mGapV/YI98Yo19Z4dzVn5tVIBwV35vVX9rTHtoSXRmSHFmUG1mVWxoWQCCc1+PfFuHb0JwW0JQRUlXSj9vWzdlTTFOODQxIzFBKC9JMS85Ki0eGyYlHiEoICAqIB4tICIkHycmISMAl4RleWZTbFxUYlxlV1lvY11ck4dinY1efV4xUDY2XTsyaUUqQigpLiMjJR8fJBwaLB4XLCAdIhwjHBwsAJyMdlI8KVRDPkg6QF5WZltOTmNSRn1pS4xwR2hPUGdPSldBQy4lQR0dNiUdJR8YHR0WFSUYFB4VFh8eJwCtopRPPj9IPUlJQ16Gg5pXU3RrYWxuY3N9bHF3ZHFiVHJNRGosMWIUI1chI0QfHTQdGiUeFx4cFx8hGiEAxb6xX1VfT0picG6MhISkUFCCa2mJcG2Sa2uYaGiZXl6VSFCLJzx+EytvECRdER9KGBw5GxsrGRgoNywsAM/HvXJtf3l6mJ2fu25yoGBilWptoGdvq2dxs2VytF9qrUZaoidGlRU4hhMscREjXBQhSR8jPCsoODAqNQDMwbihnqyanLqcn79zdqVrb6Jnc7Bldblgc75ecrpbbLNFXaowTp4WP5IWN38dMmw5QmRRUWNTUVlQU1UAyL20qKavlpq8n6LBbXWqaHKsZne4YXa+ZHe/ZXW6WGyzRl+rNVKiGkGXFjmEGzVxIzBdHChLGiVCTU5OALCmn7Kvr5Shw6q0z3iHvFFlr15yt2Z4u25+vXF+u1dvtzdcsyZOpxA/mxQ8i0BOgEpOb1xdcWFkcGVpYAB1ZmGyq6SDkrOQnMCRmLpmcKNgbaZkcqhte65teqpUa6dLY6FCWJMoSYstS4R2fpaOjpaEg4Z9gH9cYF0Ad3R4lI+Jub6+oqislJiai42MhYWBf3x1endsbWlgYF1WYl1QXVpPUFBKUVVQXGBcYGRgaXNzbXl6ODU7AH+OobvAyLjDzbjCzK26yLLAzrTBzrXBzrbCzbS+ybO8xa64v6qzu6Stsp2mq5KdpIiSmY2cpnuPoWpxfQDH0Nv9/f7h5ez+/v/////////////////////////////////////+///3/P7s9Pfh7PDL1+CWwdehuMoAy8/YyM/Y1t7l3OPp0d3ku8fTq7XFqbTAmKGujpaklp2onqOokZOViIqNfoGCd3t7cHV5YWduUmFtSlVlQV6dn/tm6SUAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"An operating system wasn’t found. Try disconnecting any drivers that don’t contain an operating system.\" title=\"An operating system wasn’t found. Try disconnecting any drivers that don’t contain an operating system.\" src=\"/static/dffe84fcd5b1b6ff445600f53d5fd9c3/1c72d/WP_000680_thumb.jpg\" srcset=\"/static/dffe84fcd5b1b6ff445600f53d5fd9c3/a80bd/WP_000680_thumb.jpg 148w,\n/static/dffe84fcd5b1b6ff445600f53d5fd9c3/1c91a/WP_000680_thumb.jpg 295w,\n/static/dffe84fcd5b1b6ff445600f53d5fd9c3/1c72d/WP_000680_thumb.jpg 590w,\n/static/dffe84fcd5b1b6ff445600f53d5fd9c3/b1503/WP_000680_thumb.jpg 596w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>  <p>我做了个Windows 8 USB启动盘，使用自动诊断、修复什么的，通通不管用。但是我用高级模式下的命令行检查了电脑里的C盘，文件全在，包括Windows文件夹，均好好的。由于已经安装了很多软件和应用，因此，重装系统或者恢复还原什么的，决不是可行的选择。</p>  <h2><font color=\"#9b00d3\">二、解决方案：</font></h2>  <p>原来解决办法，在于<strong>BCDEdit</strong>！关于系统启动的知识，我是一窍不通。如果靠我自己，我怎么也不知道这个解决办法。在电脑不能启动后，我苦思了良久，明白自己搞不定后，最后求助了微软IT团队。他们听完我描述的情况后，让我上网搜索<strong>BCDEdit</strong>。专业人士就是专业人士，一秒内给你正确的解决办法。</p>  <p><strong>步骤：</strong></p>  <ol>   <li>在BIOS里设置一下启动的顺序以及启动源。因为默认从硬盘启动已经不行了，所以要增加从其它途径启动的候选项，比如从网络、光盘、U盘等等。我前面已经制作了一个Windows 8的U盘启动盘，所以在BIOS里设置了从U盘启动。</li>    <li>启动后，会进入系统安装界面，在“立即安装”下有个“修复系统”的链接，点击进去，然后通“高级”选项卡，进入命令行模式。</li>    <li>在命令行中输入（一行接一行输入，每输入一行敲一个回车。要理解这些命令，就参见参考链接）</li>    <ul>     <li>bcdedit /createstore bcd</li>      <li>bcdedit /import bcd</li>      <li>del bcd</li>      <li>bcdedit /create {bootmgr}</li>      <li>bcdedit /set {bootmgr} device boot</li>      <li>bcdedit /timeout 30</li>      <li>bcdedit /create /d “Windows 8” /application osloader</li>   </ul>    <li>在以上最后一行命令中，Windows 8是系统名称，你可以根据自己的情况，输入别的名称（Windows 7什么的，或者其他自己喜欢的名字）。</li>    <li>在输入完那行命令后，回车，这时命令行上会显示一串用大括号括起来的全局唯一标识符（GUID），这个在后面需要用到，所以必须注意它。它是类似这个样子的：{c0b8081e-deaa-11e1-be6e-0015833d0a57}</li>    <li>继续在命令行中输入：</li>    <ul>     <li>bcdedit /default {&lt;GUID&gt;}</li>   </ul>    <li>上面一行中就要输入之前记下的那个全局唯一标识符，如 </li>    <ul>     <li>bcdedit /default {c0b8081e-deaa-11e1-be6e-0015833d0a57}</li>   </ul>    <li>继续输入（以下高亮的地方要注意，那都是示例输入，请根据自己的情况修改实际值）：</li>    <ul>     <li>bcdedit /set {default} device partition=<font style=\"background-color: #ffff00\">c:</font></li>      <li>以上的c:是指系统所在的分区，如果你是叫D盘，就输入d:</li>      <li>bcdedit /set {default} path \\windows\\system32\\boot\\winload.exe</li>      <li>bcdedit /set {default} osdevice partition=<font style=\"background-color: #ffff00\">c:</font></li>      <li>bcdedit /set {default} systemroot \\Windows </li>      <li>bcdedit /set {default} detecthal yes</li>      <li>bcdedit /displayorder {default} /addlast</li>   </ul>    <li>好，基本上就完成了。现在，退出命令行，使用启动盘里的修复工具，再修复一下。</li>    <li>修复完成后，重启，设置BIOS，将从启动顺序的第一项调整为从硬盘启动。</li>    <li>重启，系统又回来啦！！！</li> </ol>  <h2><font color=\"#9b00d3\">三、后记：</font></h2>  <p>我做完以上步骤后，开机时，见到了那个蓝色的Windows 8 微标，心情非常激动！徽标消失后，EasyUS 的界面出来了，原来它很守信用，说好重启时要帮我将D分区空间分配给C分区的。在EasyUS磁盘空间分配结束后，进入到了入违的Windows 8系统里，我打开“我的电脑”，看到D盘已经消失，C盘的剩余空间已变得非常巨大了，非常高兴，默默感激EasyUS 软件，感激微软IT团队里告诉我bcdedit的兄弟，感激参考链接中的那位作者，感激网络！</p>  <h2><font color=\"#9b00d3\">四、参考链接：</font></h2>  <ul>   <li><a title=\"http://www.windowsitpro.com/article/windows-power-tools/build-bootable-bcd-scratch-bcdedit-136066\" href=\"http://www.windowsitpro.com/article/windows-power-tools/build-bootable-bcd-scratch-bcdedit-136066\">http://www.windowsitpro.com/article/windows-power-tools/build-bootable-bcd-scratch-bcdedit-136066</a></li> </ul>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}