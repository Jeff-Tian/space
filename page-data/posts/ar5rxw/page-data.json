{"componentChunkName":"component---src-templates-post-js","path":"/posts/ar5rxw/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/ar5rxw","relativePath":"posts/ar5rxw","frontmatter":{"title":"【已解决】 WSL 从命令行打开 Windows 系统浏览器","stackbit_url_path":"posts/ar5rxw","date":"2022-10-04T09:35:05","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a name=d7D2d></a></p>\n<h1>问题</h1>\n<p>今天在 WSL 下安装了一个命令，该命令中某些子命令需要唤起浏览器进行操作，在这一步报错：\nshell\nexec: xdg-open: executable file not found in $PATH</p>\n<p>具体地说，是我安装了 NAPPTIVE 的命令行工具，playground，在执行 playground login 时报的以上错误。</p>\n<p><a name=F0xcC></a></p>\n<h1>分析</h1>\n<p><a name=ww4dm></a></p>\n<h2>有办法绕过这个问题吗？</h2>\n<p>我想，要么直接在 Windows 下安装 playground得了，不使用 WSL。但是你们猜猜我为什么会在 WSL 中安装这个命令呢？答案正是这个命令行工具不支持 Windows，我才使用 WSL 的。\nshell\nNo prebuilt binary for msys_nt-10.0-22543-amd64\nFailed to install Playground CLI\nFor support, go to <a href=\"https://docs.napptive.com/\">https://docs.napptive.com/</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHklEQVR42p2S3W6CQBCFVy8B2YBgIuE/BAyPZqy2WHEDCr3Cxz7NbAsx1FbrxcnsDjuHb2eWZVmGPM+xXC6h6zpUVX1KmqZhNpuBRVGExWIhN5R8Vr0xS9MURGlZ1kB4feA/hCTm+z48z5NmiqLcJbhHypIkgeu60uwRgt9M+zxbrVaI41j2kChvRdJfhNdtkkMJggCGYQyaz+cwTXOIpHtXHgipf47jyKFQIedcEo1b8MiUqZaFYYi+j/QWe2O6Lh3QdS7XP8T593daf+WojtEbJJGRbdvyb0Q3YQxspMkojjWdTsG6rsPlckHbtmiaBh9ti+rUYLM/4nAosXuvsCkKbPcF1rtXvLwJrLc7VHWN8/mEuqohKgEhjihLgU9BGBgAPKZtlAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/0126f1c5721f36fcdb199a35cf3f3172/fcda8/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png\"\n        srcset=\"/static/0126f1c5721f36fcdb199a35cf3f3172/12f09/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png 148w,\n/static/0126f1c5721f36fcdb199a35cf3f3172/e4a3f/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png 295w,\n/static/0126f1c5721f36fcdb199a35cf3f3172/fcda8/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png 590w,\n/static/0126f1c5721f36fcdb199a35cf3f3172/efc66/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png 885w,\n/static/0126f1c5721f36fcdb199a35cf3f3172/c83ae/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png 1180w,\n/static/0126f1c5721f36fcdb199a35cf3f3172/29114/1664875918118-002067b0-bf67-45cd-ba0f-c9ec81706040.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=QPJEc></a></p>\n<h2>为什么执行这个命令需要唤起浏览器</h2>\n<p>其实很多命令行工具的登录操作，都会唤起浏览器进行操作，然后返回到命令行。其实，多数这种命令行工具或者其他客户端，在登录时，都会采用 OAuth 2.0 的 Device Flow 流程，可以说是一个事实标准了。关于这个 Device Flow 的详细介绍，以及如何给自己的命令行工具加上 OAuth 2.0 的 Device Flow 流程的具体教程，详见：《<a href=\"https://zhuanlan.zhihu.com/p/488194876\">https://zhuanlan.zhihu.com/p/488194876</a>》。</p>\n<p><a name=x3xgz></a></p>\n<h2>为什么报 xdg-open 文件不存在</h2>\n<p>我在 k8ss 1.8.4 这个版本中直接使用了 open 来打开浏览器：<br /><a href=\"https://github.com/jeff-tian/k8ss/blob/master/src/login/loginByKeycloak.ts\">https://github.com/jeff-tian/k8ss/blob/master/src/login/loginByKeycloak.ts</a><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB90lEQVR42l2R6W7bMBCE9RzNIduyaB2kSOq0ZMcJEqAF+qePFCQp0rho6lwt0r7sV5B2miA/BqNdLWdmycC0A2030A9LbNVRlg1V1VG3PU23QNsGWVTkWqN0jdYlhbbk5ZKinGNsTS4Ny6MTTo5PCc4+fWG+PPOQZY9yQ82Kuj+l7FboeoEqe6RuyXWDMi3Gmeia3Bu1JLIk1zXzYUVgjz4TJQVjUTCZbREllkliGcWScJoTTqX/9vUO21p5HgvF4TRHZIag6D8SZ9Y3o8SQ5BZZtExmyvecgeO3eDF+i5FQSN0QiGIgMwvGM02UaERWesR5RZQapg6Z9XWclb52c9uNXsXdFqYeCDIzJ9XdLqEmVQ1FtULWKzLTkxQdqenJyiVC1l7UC75PGEuUbQmKakGq2/+C24SVvwaRV0xTuz30fm3Pr4Ku5x4nKOolqhy8mEOWu5ebk6nGp3HCjp24kG8M3sEJpqokMO0xujnyTX9HmSWrVn7FxA4k1vGC2BnImmgn+BLgBa6XFTVBomqf4nCSsj+esRcKwlgjZMtopncrFv7/wUhwMBYcjhP2wpgPYezn90PB3mhGJCTB85+//Pr9zMPD0w6P/Lx/4mK9Yf39lqubOy6u11zerDn/esPltw3nV9ds7h/9/N3dA7ebDbebe378fOQfMFNjX8/3Wo0AAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/01f63f9088e76354e39c848e85ffda87/fcda8/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png\"\n        srcset=\"/static/01f63f9088e76354e39c848e85ffda87/12f09/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png 148w,\n/static/01f63f9088e76354e39c848e85ffda87/e4a3f/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png 295w,\n/static/01f63f9088e76354e39c848e85ffda87/fcda8/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png 590w,\n/static/01f63f9088e76354e39c848e85ffda87/efc66/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png 885w,\n/static/01f63f9088e76354e39c848e85ffda87/c83ae/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png 1180w,\n/static/01f63f9088e76354e39c848e85ffda87/29114/1664873819190-7b5c42e5-dcf2-4706-9b72-6d99afc7031f.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>如上图所示，使用了 open这个命令，只在 mac osx 中测试过可以自动打开浏览器。为了应对不同的系统可以不支持 open 集合，所以在命令行输出了一个 url 用来让用户手动打开浏览器并浏览至该页面。</p>\n<p>而现在 playground 这个工具报 xdg-open文件不存在，显然是它或者它的依赖项使用了 xdg-open来打开浏览器，应该是只支持 linux 系统。这个命令行工具要是像 k8ss一样，将要打开的 URL 在命令行中输出该多好，这样我就不用修复这个报错了，直接手动打开 Chrome，并输入 url，就绕过了问题。但是，看不到目标 url，于是只能硬着头皮从根本上解决这个问题了。</p>\n<p><a name=YD9iz></a></p>\n<h1>解决步骤</h1>\n<p><a name=i7YHl></a></p>\n<h2>安装 xdg-open</h2>\n<p>这一步很顺利，执行 sudo apt-get install -y xdg-utils就搞定了。</p>\n<p><a name=chFJb></a></p>\n<h2>测试 xdg-open</h2>\n<p>输入 xdg-open <a href=\"https://www.baidu.com%EF%BC%8C%E6%9E%9C%E7%84%B6%E4%BA%8B%E6%83%85%E6%B2%A1%E6%9C%89%E9%82%A3%E4%B9%88%E9%A1%BA%E5%88%A9%EF%BC%8C%E5%87%BA%E7%8E%B0%E4%BA%86%E5%A6%82%E4%B8%8B%E6%8A%A5%E9%94%99%EF%BC%9A\">https://www.baidu.com，果然事情没有那么顺利，出现了如下报错：</a>\nshell\nroot@jeff-workstation:/mnt/d/repos/uni-orders# xdg-open <a href=\"https://www.baidu.com\">https://www.baidu.com</a>\n/usr/bin/xdg-open: 778: /usr/bin/xdg-open: www-browser: not found\n/usr/bin/xdg-open: 778: /usr/bin/xdg-open: links2: not found\n/usr/bin/xdg-open: 778: /usr/bin/xdg-open: elinks: not found\n/usr/bin/xdg-open: 778: /usr/bin/xdg-open: links: not found\n/usr/bin/xdg-open: 778: /usr/bin/xdg-open: lynx: not found\n/usr/bin/xdg-open: 778: /usr/bin/xdg-open: w3m: not found\nxdg-open: no method available for opening <a href=\"https://www.baidu.com\">https://www.baidu.com</a></p>\n<p><a name=fi2Hc></a></p>\n<h3>分析</h3>\n<p>再次执行 playground login，仍然出现以上错误，说明， xdg-oepn  是安装上了，但是这个 xdg-open仍然是一个壳，它需要使用一个浏览器来打开链接，但是尝试了好几种，都没有找到相应的执行文件，于是失败。</p>\n<p>网上搜索了一下，是要设置一个具体的可执行文件给到 BROWSER 这个环境变量。我希望 WSL 的 xdg-open能够直接打开 Windows 系统中的 Google Chrome 浏览器。</p>\n<p><a name=ulPXZ></a></p>\n<h2>定位 Google Chrome 可执行文件</h2>\n<p>按 Windows 键，输入 Chrome，右键“打开文件位置”：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a890cdfdf50e823dbafe4a0e49ed9922/29114/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACR0lEQVR42m2Sa08aQRSG90f1ZjXF9IpStPZL/5RFrW2Jn/oj+s0mwgoqgrVi06SJBigB2QUW9s7e8GlmqE1qepLJzJl5zzvvuShzqac8Sj1h8fEzHsynmF9Ikcm+4uXKGtnV1/KcXs6ylM2ynF0jk11lKbPC85U33H24yP25Be7cmyP9IkM6nUGpnnylqO6zv1+iqJaoVI4ZDoeYpolj2ziOg+e5uO5sOZ6H6ziYY4Pz8zrfzs44rZ3ySf2MenqEAhD4Pr4/IQoCwmBCvz/AMAxJalkWnufh+R6B5xG6LrZtY1sW/zMlCiPiKCJJEuI4Jo4Tmo1Lut2OJLohnU6he9Xk4seRDAyCgCSJCcMQ3/eZJlN5VsbjMcZoxGQykaAgDOl2OnQ6HQxjRLvdptVqkcQJpm2hDXQpYBIEkkiIEB86ros/maCIC0H2lzAIpKpGoyFrqes6g8GA0WiE67hSSRTHEiczSmKJv8lQEY6maYwMg16vR1/XJVGz2USoF++iGcPhQPpRFMlAQTidTrm+viaMInkvdkWABVAU+qZe3c4vdE3Dth3p246D7bjEcfQPodgF6WwlhEEw6/Jtu9J69DRNNkV8JEZFM0zM8Zj4T2qiAbctsi0UVS1RLKoUiip7ewXKB0e02hdcXvycNWY4wDJN+romCcVMRmEolZdKZQoFlWJRzHGZ3d0vKB/zO7z/kGdra5vNzXfk8ztyWEsndSrVGofVOge1GgfVY9TDCuXjMw6rJ9TPv0tsLrfJ+kaOtxtbrOe2+Q3m0gsrnrph5AAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/a890cdfdf50e823dbafe4a0e49ed9922/fcda8/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png\"\n        srcset=\"/static/a890cdfdf50e823dbafe4a0e49ed9922/12f09/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png 148w,\n/static/a890cdfdf50e823dbafe4a0e49ed9922/e4a3f/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png 295w,\n/static/a890cdfdf50e823dbafe4a0e49ed9922/fcda8/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png 590w,\n/static/a890cdfdf50e823dbafe4a0e49ed9922/efc66/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png 885w,\n/static/a890cdfdf50e823dbafe4a0e49ed9922/c83ae/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png 1180w,\n/static/a890cdfdf50e823dbafe4a0e49ed9922/29114/1664874533172-18a1f0aa-73a3-444e-96bd-3d7ff7dec117.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>得到一个快捷方式所在的文件夹，这不是我最终想要的：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/19d69025cfcf9d5330ec84c852d3537d/29114/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACiUlEQVR42nWRS09TQRiGu2QBYUehpaVX2rQN5fQCLbY9lTaBhB1u1Q2Q8DcwUZBAy73AxkAP+ANwoyws1cSFWpRAwlL+AVXSCz3tY86IbtRJ3kneLzPPfN+8uoicJiGPkryfIhqTiUZjhIdHCA1FhaTgMP7BEP5QCCkUIRAaEpKiKYKRBJFoTJwbH5tgfHwC3afSKcfHxyTlOP0uN16fD4/Xh9frw+Vy0d/fj9PhwGqxYrfb0ev1PH70kIuLc0qlz5x++UrpY4kXJ0eclD6gAyh/LxMejtDdrcdus2AymTGZTFitVsxmMwaDAaPRSF9fH52dnczOzvK/patWqpyWThmRR7HaHYSGw4TDITweD5IkEYlEhAKBAH6/n/b2dqampsRlVVWp1WpUKhWaapN6vY6uXq9xcX5GevQeAwM+EnKS8bExEokE8XicVCpFOp0mFosJsAacnp4WwFarRaPRoFwuc3NzQ7Va/QU8OztDTiax2Wx4PX4sFosYUxvX4XDgdDrp7e0V9b+Aqsr19bUAa9Jp29XVN+JyGnOfVaSpBaHv6hJAt8uN2+3GaDQIYEdHxx9gs9kU0jqrVKtUazWtwzqXl5fE5SQmsxmb3YXD4RRp9vT0iGA0kOa1Ltva2piZmRHA20ZD/GOz1aLVbHKr/aF4SVWZfDBJIBhkaCTGoCSJrn4HI915n88noHNzc/9MWL35ga5YfEfhpMjh4Uv29vZRDg5RlAOUvML+voKiKBzcea2ez+c5OnpFoVDkbeGEglCRYvE9b14fo9vK7bCxmWNra4ft7V1ymt/aZT6zwcrqOovZHPPLWRYyKzxdzLCwvMmTZ8/JrKyxurpONrvGUibDcmaVpcw6PwEJqhyIY/GRdwAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/19d69025cfcf9d5330ec84c852d3537d/fcda8/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png\"\n        srcset=\"/static/19d69025cfcf9d5330ec84c852d3537d/12f09/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png 148w,\n/static/19d69025cfcf9d5330ec84c852d3537d/e4a3f/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png 295w,\n/static/19d69025cfcf9d5330ec84c852d3537d/fcda8/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png 590w,\n/static/19d69025cfcf9d5330ec84c852d3537d/efc66/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png 885w,\n/static/19d69025cfcf9d5330ec84c852d3537d/c83ae/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png 1180w,\n/static/19d69025cfcf9d5330ec84c852d3537d/29114/1664874611555-a77d74af-7224-4b7b-8f07-621687026efa.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>于是，再次在这个快捷方式上右键并选择“打开文件位置”：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/69282fefff50cb76f22a6a277a0b1247/29114/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACgklEQVR42nWRS08TURzFZ0mUhzsiUF6dduyDTqctlNJCBRIkssSlugESvgYmyiMwffAosDHYwhfADXEBrSZGDBUTiF8DFNvSdvozc1E26k1O7r3Jvb+c/zlScHCEcCRKdHiUUCRKKBShNzhAoC8kpPmDqN4AaiCAFujHF+gT0kKj+PuH6A9FxLvxRxOMj08gnZ1/49PxMSMPo9iVB7jcbpwul5CiKNhsdmRZprOzk+7ubpqbm3n+7Cnn52fk8yd8Of1K/nOe19l9svmPSCeneXR9CZfHS0vLfazWLjo6OmlvbxcAE9TW1obFYhHnpqYmZmdn+d+S5heXuXP3HnZXD4rDiVvtEc5MiCzbcLvdQlarVTitr69nampKfK5Wq5RKJQqFAkbV4Pr6GimRTNLc0o7msRMI+PCoXpxOJx5VpTfYj6Zp+Hw+ATQdNzQ0MD09LYC1Wo1KpcLl5SVXV1cUi8UboKWjC4/qQbHbcTh6aG1txa4ojI2NEY1GUVVVjGuO/RewWuXi4kKATUlbWylkmxWPt5duq020KdtkZJudxxMThMNhvF7vbZ6NjY23QMMwhExnhWKRYqmE9OP7d87PzogOj2Axi5AV8dlsd2hoSORnAs2STOd1dXXMzMwIYLlSETkatRo1w6BcLiP9aWfyyaTIqm9gEK+miRzNUf1+P36/D4fDIeBmWXNzc/9suFb4iZTNvefwMMve3h47O2/I7O6RyeySSWdu7um0uKfTmd97mv39txwd5Tg8ynIklCOX+8DBwTukjdQW6+spzH1zc5tUaou1jW3m9TXiiTWWYinmV+Is6HFeLuksrKzz4tUiejxJIrFKLJZkWddZ0ROsxFb5BbhEDQa+K3icAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/69282fefff50cb76f22a6a277a0b1247/fcda8/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png\"\n        srcset=\"/static/69282fefff50cb76f22a6a277a0b1247/12f09/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png 148w,\n/static/69282fefff50cb76f22a6a277a0b1247/e4a3f/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png 295w,\n/static/69282fefff50cb76f22a6a277a0b1247/fcda8/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png 590w,\n/static/69282fefff50cb76f22a6a277a0b1247/efc66/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png 885w,\n/static/69282fefff50cb76f22a6a277a0b1247/c83ae/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png 1180w,\n/static/69282fefff50cb76f22a6a277a0b1247/29114/1664874684125-f380217d-c8ab-44d0-a6fd-dec2f0947fa0.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>找到了原来我的 Google Chrome 安装在“C:Program Files (x86)GoogleChromeApplication”这个文件夹下：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fe63991d4b413d4912517e221267b1cf/29114/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVR42nWSTU8TURSGZ0ki0oVpqUAp9mOmtYXSdgSq1SouJGGJSzUsIOFPsDERsIEp0GL5WGg7lT8gbnBBW01MUIpGGv8GINAibR8zN0JY6E2enHMX9837nnOl/ruD3InGiD0YJBKNEYlE6eu/TVjtJ9wXIRjuJ9CrElBVguoAIbVPEIw8JDxwj4FIFLUvwtCjYYaGhpH2yj/Z3t5m8H4Mt6zg8/u56fMhKx5kWRa4XC66urpwOBy0trby7OkTyuU9SqUddr99p/SlxOvCOwqlz0hfd3fQtDj+QJC2tuvIbic3HA7sdrsQcrvddHZ2CgxBk8nExMQE/zvS1EycK1evIfu7UbxefF6XeGixWLDZbKI3xNvb2wXNzc2MjY2Jx7VajWq1ysnJCfVandPTU6RkKoW13U4ooKCGe+nxySKeEa3jr6Bx7+joEBiC4+PjQrDRaHB2dsbBwQFHR0dUKhWk1bU17A4XPYEeZNnNLTVIKBgUs/N6vfj9fnw+H4qiCIzI5w6FYK3G/v6+EDaQMpk3yLKT7oCK0+kWC/F4PCKu7ZJDozeqqaXlwmG9XhcYzk4qFSrVKtKvw0PKez/Et7HZOrGYzWJ+ZrNZcLm3Wq00NTUxOjoqBA1HxhzrjQaNep3fxgzPtzPyeIRQKHQRz4isKPLF1zF6r9cj5jg5OfnvFR8fIxWKH9naKrC+vk4mkyWr50TN6TrZrI6u6+T0HLqeI5d7i57V2dh4Tz5fZCtfIC8oUix+YnPzA9Kr9ApLS2mMury8yvLyCqn0KtNaivmFJPFEmum5eWa0eV7ENWbmlng+9RJtfpGFhSSJxCKzmsZcYoFZLckfhkYHg3rUST8AAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/fe63991d4b413d4912517e221267b1cf/fcda8/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png\"\n        srcset=\"/static/fe63991d4b413d4912517e221267b1cf/12f09/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png 148w,\n/static/fe63991d4b413d4912517e221267b1cf/e4a3f/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png 295w,\n/static/fe63991d4b413d4912517e221267b1cf/fcda8/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png 590w,\n/static/fe63991d4b413d4912517e221267b1cf/efc66/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png 885w,\n/static/fe63991d4b413d4912517e221267b1cf/c83ae/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png 1180w,\n/static/fe63991d4b413d4912517e221267b1cf/29114/1664874742077-2a666104-8ab9-4c8e-a317-2e6bbc0f8dda.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=p2NhM></a></p>\n<h2>在 WSL 中建立一个快捷方式</h2>\n<p>其实，找到了 Google Chrome 所在的文件夹，只需要将 BROWSER 环境变量设置为 Google Chrome 的完整路径即可。但是做为一个程序员，职业病让我不直接这样做，而是引入一个中间层，让这个路径和环境变量“解耦”（为什么要带来这个额外的复杂性呢？其实没有必要，但是当时就是这么做了）。即先建立一个快捷方式，让环境变量指向这个快捷方式，而不是最终的可执行文件本身。这样以后就可以扩展了，比如切换浏览器，不需要再次修改环境变量，只需要修改这个快捷方式的指向就好了（但愿我以后真的想修改浏览器时，还记得我做了这个软链接！）。</p>\n<p>在 WSL 中建立这个快捷方式，使用了软链接，这个软链接的名字不妨叫 browser_in_win，建立方式如下，注意将 Windows 的目录更改为了 WSL 对应的目录：</p>\n<p>shell\nsudo ln -sf /mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe /usr/bin/browser_in_win</p>\n<p><a name=iYGZA></a></p>\n<h2>将 BROWSER 环境变量设置为 browser_in_win</h2>\n<p>shell\nexport BROWSER=/usr/bin/browser_in_win</p>\n<p><a name=D6PMK></a></p>\n<h2>再次测试 xdg-open</h2>\n<p>shell\nxdg-open <a href=\"https://www.baidu.com\">https://www.baidu.com</a></p>\n<p>这一次，成功从 WSL 命令行打开了浏览器！</p>\n<p><a name=Qahd0></a></p>\n<h2>测试 playground login</h2>\n<p>从 WSL 中执行 playground login，完美打开了浏览器并登录成功了！<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/06f8042565cfdaad6892244e2038c9fa/29114/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDklEQVR42p2S204TURSGNwW0FhoDndl7prTh4LTSFoUemHYAQzXEdCrVF/FCfAAJQgKoUNqiaOIbeAc8gacL38AHEFEvTEwMMV58pkMxhKAxXnz51rr5s/daS6TzE9h5h4IzSTpnk8nkyOZssuM2hXyRfHaG8XTR67O5AnnbwbYdxvJXydhTpDM5UpfGmLpSpDh9DeH2vqYcesWs/pZSs9be4Pa+pBJ6x3T0OaODdxmJztFnpQjH4wxdHCYRt4jFYsSspuMMDAxiWTGSyQSiLL7htjiqS+IrtwRExW38QZOwmSDaH+V8Tw9n/X6klOi6/pujXtM0hCs+0aTcskfbHhVxQMI/h+xTRMJDGEoSjUTo7urCNE0MwzgVURZfOI4rPuOKfW6IA3K99xi+HGEkOYqUimAwSCAQ8AKVUh7/GPiRivhB4twdzEE/F6wBlJIIIf43cN/7csq3hF9ECIgEHR1n6OzsJNgd/Huge3x2JyiJD5TEHtd97wnLIaTSMJTxx/l5gRXxndOYbfmm+Om9vE9ZKFPHMA4XYpotTgZOtO/i+HYo+LZxfNsU2g492b7DRHvTuzgdLzC0fqTUkLr0FqRpOqGQ7lnTmmej0KVCbD19xuMnW9TqDWr1Ter1Buu1TRZW1ll9uMbSao2F5VUWVx4wv7TC/eUq84vLVGsN6vVNNjYarFWrrFVrPFpv8AtWG37baJfPQwAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/06f8042565cfdaad6892244e2038c9fa/fcda8/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png\"\n        srcset=\"/static/06f8042565cfdaad6892244e2038c9fa/12f09/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png 148w,\n/static/06f8042565cfdaad6892244e2038c9fa/e4a3f/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png 295w,\n/static/06f8042565cfdaad6892244e2038c9fa/fcda8/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png 590w,\n/static/06f8042565cfdaad6892244e2038c9fa/efc66/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png 885w,\n/static/06f8042565cfdaad6892244e2038c9fa/c83ae/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png 1180w,\n/static/06f8042565cfdaad6892244e2038c9fa/29114/1664875610455-520fa6d3-eb82-453e-8c8f-51886f70ccc4.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>为了验证真的登录成功，使用它创建了一个应用：</p>\n<p>shell\nroot@jeff-workstation:/mnt/d/repos/uni-orders# playground apps create uni-orders.yaml\nSTATUS     INFO\nSUCCESS    application [uni-orders] deployed</p>\n<p>CREATED\ncore.oam.dev/v1beta1, Kind=Application uni-orders created</p>\n<p>在看到自己账号下成功创建了应用，终于放心问题是真的解决了！</p>\n<p><a name=KYj56></a></p>\n<h1>总结</h1>\n<p>在确定没有办法绕过问题之后，最终在 WSL 中通过设置 BROWSER 环境变量，指向 Windows 中安装的浏览器可执行文件，解决了从 WSL 命令行中直接打开 Windows 浏览器的问题。关键在于定位到 Windows 下的 Google Chrome 可执行文件，并且转换成 WSL 的文件路径。</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}