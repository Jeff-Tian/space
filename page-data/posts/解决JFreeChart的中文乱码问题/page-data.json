{"componentChunkName":"component---src-templates-post-js","path":"/posts/解决JFreeChart的中文乱码问题/","result":{"data":{"sitePage":{"id":"SitePage /posts/解决JFreeChart的中文乱码问题/"}},"pageContext":{"url":"/posts/解决JFreeChart的中文乱码问题/","relativePath":"posts/解决JFreeChart的中文乱码问题.md","relativeDir":"posts","base":"解决JFreeChart的中文乱码问题.md","name":"解决JFreeChart的中文乱码问题","frontmatter":{"title":"解决JFreeChart的中文乱码问题","stackbit_url_path":"posts/解决JFreeChart的中文乱码问题","date":"2010-04-04 13:01:23","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":[null],"canonical_url":"https://be-net.azurewebsites.net/post/2010/04/04/解决JFreeChart的中文乱码问题","template":"post"},"html":"<pre><code>    &#x3C;p>今天在Web项目中使用JFreeChart做图表，图表中的中文字符全为方框，如下：&#x3C;/p>\n</code></pre>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p><img onload=\"ResizeImage(this,520)\" src=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_202.png\" alt=\"\" title=\"\"></p>\n<p>后来想，可能是由于JFreeChart是外国人开发的，所以对中文支持不太好。于是对每个要显示中文字符的地方都显式指定中文字体，解决了乱码问题。即在页首import java.awt.Font，然后使用chart.getTitle().setFont(new Font(\"宋体\", Font.PLAIN, 12)); chart.getLegend().setFont(new Font(\"宋体\", Font.PLAIN, 12)); 的方式指定字体。</p>\n<p>效果如下：</p>\n<p>&nbsp;</p>\n<p><img onload=\"ResizeImage(this,520)\" src=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_203.png\" alt=\"\" title=\"\"></p>\n<p>&nbsp;全部源码为：</p>\n<pre class=\"brush: java\">&lt;%@ page contentType=\"text/html;charset=GBK\"%&gt;\n&lt;%@ page import=\"org.jfree.chart.*,\n\t\t\t\torg.jfree.chart.plot.PiePlot,\n\t\t\t\torg.jfree.data.general.DefaultPieDataset,\n\t\t\t\torg.jfree.chart.servlet.ServletUtilities,\n\t\t\t\torg.jfree.chart.labels.StandardPieSectionLabelGenerator,\n\t\t\t\tjava.text.NumberFormat,\n\t\t\t\tjava.awt.Font\" %&gt;\n&lt;%\n\t// 设置数据集\n\tDefaultPieDataset dataset = new DefaultPieDataset();\n\tdataset.setValue(\"初级程序员\", 10000);\n\tdataset.setValue(\"中级程序员\", 23000);\n\tdataset.setValue(\"高级程序员\", 10000);\n\tdataset.setValue(\"项目经理\", 6000);\n\tdataset.setValue(\"系统分析师\", 6000);\n\tdataset.setValue(\"软件架构师\", 3000);\n\tdataset.setValue(\"其他\", 10000);\n<pre><code>JFreeChart chart = ChartFactory.createPieChart(\"IT 行业职业分布图\", dataset, true, false, false);\nPiePlot pieplot = (PiePlot) chart.getPlot();\npieplot.setNoDataMessage(\"无数据显示\");\n\n// 把“中级程序员”的那一块“挖”出来50%\npieplot.setExplodePercent(\"中级程序员\", 0.5D);\n// 显示各项所占的百分比\npieplot.setCircular(true);\npieplot.setLabelGenerator(new StandardPieSectionLabelGenerator(\"{0} = 沙滩脚印\", \n\t\tNumberFormat.getNumberInstance(),\n\t\tNumberFormat.getNumberInstance()));\n\n/* 解决项目名称中的中文乱码问题 */\npieplot.setLabelFont(new Font(\"宋体\", Font.PLAIN, 12));\n\n/* 解决图表标题中的中文乱码问题 */\nchart.getTitle().setFont(new Font(\"黑体\", Font.BOLD, 16));\n\n/* 解决图例的中文乱码问题 */\nchart.getLegend().setItemFont(new Font(\"宋体\", Font.PLAIN, 12));\n\nString filename = ServletUtilities.saveChartAsPNG(chart, 700, 400, null, session);\nString graphURL = request.getContextPath() + \"/DisplayChart?filename=\" + filename;\n</code></pre>\n<p>%>\n<img src=\"&lt;%= graphURL %&gt;\" width=\"700\" height=\"400\" border=\"0\" usemap=\"#&lt;%= filename %&gt;\">\n</pre></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[]}