{"componentChunkName":"component---src-templates-post-js","path":"/posts/inqtsena84spksyi/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/inqtsena84spksyi","relativePath":"posts/inqtsena84spksyi","frontmatter":{"title":"【多图超详细】用 oidc 方式在 keycloak 中集成阿里云登录方式","stackbit_url_path":"posts/inqtsena84spksyi","date":"2023-07-19T11:49:14","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a name=Muly6></a></p>\n<h1>最终效果体验</h1>\n<p>点击这个链接：<a href=\"https://uniheart.pa-ca.me/keycloak/login\">https://uniheart.pa-ca.me/keycloak/login</a>，选择“阿里云”登录。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 141.89189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD60lEQVR42p1VSW/bRhTmz+uhQIIeeyqQpGkvAdpfUqBOUBiw60WG661GKx/a3pJb4RpeY8m2ol2UTYrbkBLFGZJf8R4XyWnSJh3gw9MThx+/t8wbbXu/CjNI0br10DH8f6B9J0p0DHHPp3fINocuhq7Eqz9PoP3x+2/IVoqPXWNfQB/0YY9M9ltvGtCq1QN2pFRIkoR/27YDwzDhCQHbceC6LizbZn9kWQzaEycJlIoZtGq1OrSDg4wwnRPoeR6GwyGCYAwhBCwmsOH7ARzHYZ/2pPlLcZwJqdfnCD3XgZQR/s9K0yRXWIN2UK2yc36jo2/6GPkxDE9mEDnmfW8GU0iMfIWBPQUFfVWvQav++gsTWoFim+RhUDgfAlp+qDBJgGsi3N//mf8cWCGsIIbpK5hCzex/gBQOnSn3SD0j3M8IBwP0en0I3+cCxUmK5AOh4qzKl5eXM0IZRUjiOAujAN6P+bDjnPD169fQ9vb22ImiiB8Q6ItKKUgp3wmlJJJYlVBRNCPc3d3NiuK4sF3BcEWAYBJCxSlknEDFCdvidxDF6HsRdJGh54QZ4cUFtO2dnbybJACVI/nYTsxa7/wC2s72FjvPNtt4tNbBl5UOnqwT2ni81saj1Ra+3e7im60uHq+1GE/W2ni6nuGrShtf/PgGTQe4qVPIOxnh54s3+PT7Gzx8foMH83jRwNcbXTytdPDZD008eN649/zhiwY++a6Omgk06hfQftraymW/L0wFxBGQSiD996N5dnYGbSsnjKTk6ZG+lRlP+BhZNlvLdngqFXuoV+kdqdSMcHNzMx9fknvK930eVzRdxuPJO5WEYcgTp+hDlROenp5C29jYKDfRPNT1IbrdLlqtFkzT5M1R3n9FrxLZ1dUV+6SY3qV1cnIyI5xOpzzvisFQDFuyb6MYCoVfKGTCSqWSjfPxGN1ejx/quo5ms4nJZFIerQLkB0GAfr9fEpL6MuT19fUyZHqhUFYopXAVHzc1d/RUSUSg6EqFq6ur5Vkmgl6vh/Pzc/7a9fX1rJpzaaCitTudLDVpWlaZCVdWVtiZTEL+Giml8BlBAElK7BFU8wqy14LsNtlGnSZkN/PDVgO46+Pk+Bja8vJy2TbFBUUXEVV4PM6LZAyRunbZf4ZhcI6zsZWph3WH478OoS0tLd3LIV+Zlo3RaARfCKgUUHdDVhgN+1B6D851DfrpEaa9NpTeZYtBC8dHR9AWFxfzkCecR0r4fFXJ56IEPpJAQPkC8ThAEk4gfYHIFwhdhzkODw+hLSwscHJJEamjcJ38cr+9veVrQafrwbBxMbDQNhy4lBbaS9bzYDkOIqXw6uVL/A2NHjz98DzB9AAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/fe6594f5000ee0d9d759f2641ec0caa9/fcda8/1689763297152-2ecbec74-4d24-4ed7-ac60-2e3d6b32857d.png\"\n        srcset=\"/static/fe6594f5000ee0d9d759f2641ec0caa9/12f09/1689763297152-2ecbec74-4d24-4ed7-ac60-2e3d6b32857d.png 148w,\n/static/fe6594f5000ee0d9d759f2641ec0caa9/e4a3f/1689763297152-2ecbec74-4d24-4ed7-ac60-2e3d6b32857d.png 295w,\n/static/fe6594f5000ee0d9d759f2641ec0caa9/fcda8/1689763297152-2ecbec74-4d24-4ed7-ac60-2e3d6b32857d.png 590w,\n/static/fe6594f5000ee0d9d759f2641ec0caa9/efc66/1689763297152-2ecbec74-4d24-4ed7-ac60-2e3d6b32857d.png 885w,\n/static/fe6594f5000ee0d9d759f2641ec0caa9/709cb/1689763297152-2ecbec74-4d24-4ed7-ac60-2e3d6b32857d.png 1034w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>使用提前创建好的 RAM 用户登录完成后，可以在 Keycloak 控制台看到该用户的 aliuid 已经被同步过来。同时，界面拿到的用户 id_token 里，也有 aliuid 属性。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/7f486/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/0lEQVR42nWQO27EMAxEff9L5Co5RfpgU9iBrZVEcSRKFBnYRqpsHliwmBl+Fn1/k+e27/sRAjOAykBtbaiqzqHa++h9MGphMOopuHTMWPjzo4HdvRRK6UmUM1GMMecM5gqYmbvb3zJbtsjcuox57PtjPbaQS6GYUs45ZmLmy2rObIADxmylOLO7LYzah/YxU0pDrTBEpJ+MNk6jX+aZEm+bE5V1DY+vHoK7Lzln1aE6mXHL/BVmVoimqojs1OXKXWKMwGk7SDI34prKOdzsPvZV0G+zEBGur2zb9xFpjdhJ5nwxv1703ltrt2ABEEIQkVJKE2ld/R9qrQDmxb3VD6fT0faH6D+IAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/fcda8/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png\"\n        srcset=\"/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/12f09/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png 148w,\n/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/e4a3f/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png 295w,\n/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/fcda8/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png 590w,\n/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/efc66/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png 885w,\n/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/c83ae/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png 1180w,\n/static/b9e3cbd4ef351ac6463fb44cb8d6a33c/7f486/1689763454526-85855ba1-0fa8-4609-a23f-cca26011e2bf.png 3010w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9f77adccf26a2794b88fbd6d712e28ab/7c3a6/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABk0lEQVR42o2QPU/bUBSGPcJEkYJEIwIYktRNUkBEIBDF13Gi0IWhUyt1r2/El4GpKgv8yI5VQHJKTYjvt+Ove1FCoUNbqY8eHb1nOMN5tcvLqy9fL87Ozt3T0xPXdSCEsAM7HQjhZ8dxHHhweHh0fPynJ66rTedys4X53MzMxOTk1ItpE1gAANM0G42GNQb8DdM099otzajUiuXygr6cnytYdgtRwbmghCRJIqVU/+ZeSG21vlmuvFkqGfnCIrBbvu97vd61d/v9pseEiJMk/s04J0kUx1EUf/OoVlurl17X9JLxsrD41rIF44Kx0eSCYoyDgARo0O8zTBgmBCGKEB4MMEJDwbSNrZ2N7Z2iUZ3TiwDYQberGFOU/pIxSSnyPOH74u5OUqo4SzGJEFVKae/231vNNmi2t3atDx8/Ud+XoZBCZE/KMEQ/b390u33PSzmXoRCYkYCPjuub20Z1RS8Z+YUls9HELBymKkpHXT2bZlmSpmmWPa6ZVI9VatXV9eVXlfHP+q5l35MhGUoeZeo/eABx42pCbHOSlAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/9f77adccf26a2794b88fbd6d712e28ab/fcda8/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png\"\n        srcset=\"/static/9f77adccf26a2794b88fbd6d712e28ab/12f09/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png 148w,\n/static/9f77adccf26a2794b88fbd6d712e28ab/e4a3f/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png 295w,\n/static/9f77adccf26a2794b88fbd6d712e28ab/fcda8/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png 590w,\n/static/9f77adccf26a2794b88fbd6d712e28ab/efc66/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png 885w,\n/static/9f77adccf26a2794b88fbd6d712e28ab/c83ae/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png 1180w,\n/static/9f77adccf26a2794b88fbd6d712e28ab/7c3a6/1689763472522-3965dfb8-ed5d-46cf-9d44-555c5a0bc4ef.png 3170w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9c2a4832f2d577211dbcf7b418b0876f/fd561/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB80lEQVR42lWRW28aMRSE+TWNVDVSn9osJUhUJLAklKSqkqrNU9V/25cqzY0NkJB7xB3vmmXtM1PZEJUezYNln88z9smVt7arYbi1vfXt6Of3ox9fvh5Wwlql5hTWd8Od3bBWq9V2qtWwUqk6Vau79frBwWFjby8XBPkgCN5vvKtvf94v1T8VS8Haev7Vm2BtffP12+JGvlAobBaLHzYLQT6/UOljqdFolMvlHF8KyZydIbtT3sW8UexO+JAxJQimlnFGcLUA5LAoQmKYJrNTZhfMzpCdM4soChY2nSZWaVEzJ52KmiGzIuKd/ZWur01zSdumjbwuCU0LmyhtY8C4xqV8rcZ28II0bdpr2haRuNiY0N5SbglFxO5Gv4t/zohhTmnOaf54Nd1aYtcmE8oT7SMxooyIiYe56hx75yvveesXN8TMwz0Hy9CRVrn8yw9bfbOzbdKc0EU4oTmjTAFa6YnciNyLPAv6pPahyf/eLN5Trmg7lBYREVPBqCdR3x73cTYw3efm06/xYwup5hJ+cc4imhbnF5xHVG32u8wSd0JFjCFDIMEYo2vbiREv4cXw1RytAaIergd4GGGocZdiLhRrJ7GaOSs/H3GAlZc5L2GL34kca3RSPGToGwwNM9AaczWY3o/VQGmV6ETrRCeJTtI0/QtLO57Su2UchgAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/9c2a4832f2d577211dbcf7b418b0876f/fcda8/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png\"\n        srcset=\"/static/9c2a4832f2d577211dbcf7b418b0876f/12f09/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png 148w,\n/static/9c2a4832f2d577211dbcf7b418b0876f/e4a3f/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png 295w,\n/static/9c2a4832f2d577211dbcf7b418b0876f/fcda8/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png 590w,\n/static/9c2a4832f2d577211dbcf7b418b0876f/efc66/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png 885w,\n/static/9c2a4832f2d577211dbcf7b418b0876f/c83ae/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png 1180w,\n/static/9c2a4832f2d577211dbcf7b418b0876f/fd561/1689763501422-04ca330a-263e-4288-b800-ac3ba2d11115.png 2866w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />本篇文章继续以我部署的 Keycloak 实例，详解集成 阿里云登录 的实现步骤。</p>\n<p><a name=BGaqF></a></p>\n<h1>在阿里云 RAM 访问控制台的 OAuth 应用中创建应用</h1>\n<p><a href=\"https://ram.console.aliyun.com/applications\">https://ram.console.aliyun.com/applications</a> 工作台的集成管理里，OAuth 应用进入公测阶段。我们创建一个企业应用。<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABC0lEQVR42qWQy07EMAxF+/8fxhok2PAc0EDV6TTvtGmS5qCkg4TQ7LB05OvEkW/crU83fPSCh4Pg+ctyGByTmhmlYxSOk7CtNnNC2sCkF4QJCLMg9AWztLuaO9u/QtlYvEXJCaslcQ1cj0IpG5TS3lyj8yFSAD+vDKOgH0aE1Bg3o61HG4e6UHU9N/XcepS2TRsfkC6ijKdzzrXZ95+W23dDyZFt28i5kkl/yL9yvvSl2ruVpjurPTMTd8MjL/2CWRLKR3xIrDE3J24OhJgb1alf1t2hcSxraloqwxwinZKKU3wjl1BXREz7xG2r+9qnVsdV73W+/CCTUmq68qO74+nMcTqTc2lL/298A8d7IOriX9pJAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/19d6fbc8d0172b46fa7f2f8702a3f96b/fcda8/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png\"\n        srcset=\"/static/19d6fbc8d0172b46fa7f2f8702a3f96b/12f09/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png 148w,\n/static/19d6fbc8d0172b46fa7f2f8702a3f96b/e4a3f/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png 295w,\n/static/19d6fbc8d0172b46fa7f2f8702a3f96b/fcda8/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png 590w,\n/static/19d6fbc8d0172b46fa7f2f8702a3f96b/efc66/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png 885w,\n/static/19d6fbc8d0172b46fa7f2f8702a3f96b/c83ae/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png 1180w,\n/static/19d6fbc8d0172b46fa7f2f8702a3f96b/aa37b/1689763605150-6e884961-3446-4ed0-8722-ade6c07fa6a3.png 3464w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>在创建时，选择 WebApp 类型，并将回调地址留空，给应用起个名字（我叫它 Keycloak）即可保存先。<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78e24d287ce4346c335471c13997ba0b/5a791/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDElEQVR42p1T7YqEMAzs+z+kP2VPrbXn2Y+kdY5kVeQWDjUwBKqZTjKpWZYFTdOg6zpIrHgW67qCiGBKKYgxgpmPD08hXKYywzmn+I/0aphMhHHymPw3lpgQUv5AzAQ//8BNHsPoYN2kGMZRzxRSHyJMYUaICTElEDOYC+gPuBSkTNt/eUPakI8s9YZzPrVMR8vYgT1fbFlut9ZisFbr6jbcJ5Du1BRZHe89nJvU8be4FbVWvaDWa5Aaw0T4er0wyoCdO1Zod/xuGGGd51kl73EmvLuLakrf9/pS2rZV8vP2n/MlhTInMUVI5eno3GpFCAGl1tsqjbQmhuScP4ofzTClpOpiTO+12RQ+xS/qnk9fRvex5gAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/78e24d287ce4346c335471c13997ba0b/fcda8/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png\"\n        srcset=\"/static/78e24d287ce4346c335471c13997ba0b/12f09/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png 148w,\n/static/78e24d287ce4346c335471c13997ba0b/e4a3f/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png 295w,\n/static/78e24d287ce4346c335471c13997ba0b/fcda8/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png 590w,\n/static/78e24d287ce4346c335471c13997ba0b/efc66/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png 885w,\n/static/78e24d287ce4346c335471c13997ba0b/c83ae/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png 1180w,\n/static/78e24d287ce4346c335471c13997ba0b/5a791/1689763779391-abaddc96-b963-4b64-a81c-b1cf6d9cdf2c.png 1248w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>然后，创建密钥并复制：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b427b7fdfa63070a9eab64a8d52a577a/39148/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxElEQVR42n2R627UMBCF8/7vgHgA4B+gbpKNc3M8trPbLlI3e5Voty0S9ML2SmmrD8Ws+IEQlo50fDRzfGYcHcWvWB0esL8/5mDyia6bMe06DqdTFoslq/Wa84sLrm/uuPq+ZXt9zf3dIze392xvbrl7+MHx5oRuNmM+XxDl715T5goRQ1EUFEVOnqsdL0jimOPNhvPLK76cfePk9Ir11zPOzi+5uNzy8PhE13VUVYUxhqjQgrUO79sgpumQOElRSqFyRRzHbI5O6M9Pbjl96fj8dMALT0F7fn5muVzivGc0HhNVVYm1Fu89KstoxFMbh4jgxCNGsJMKu07Q84+Mp8JqvqabdkwmE2azWejv0/UeUZ7nfwwHgwFiTEiapDHKxOzJWz7Ub8iqBNEO70ZYZ9GNJk3S0NuvpizLECLqSdM0tG2L1hpd16SlkNmUepxivTByY1rX4r0LdaMeozbwdscD2vZ3QrMzTIeKoqyxvsU6j7MjrPWItYh1/4bYgL6+v0dxVvJ+oChqQzrMSNIMlRcMs5xKNzRiaYzQGPsXBCOWqtbsDRJUXqIbIerFsta7lySM3exGd86GMdr/oN996Gl0+JRfRYNj+Fe/yUoAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b427b7fdfa63070a9eab64a8d52a577a/fcda8/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png\"\n        srcset=\"/static/b427b7fdfa63070a9eab64a8d52a577a/12f09/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png 148w,\n/static/b427b7fdfa63070a9eab64a8d52a577a/e4a3f/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png 295w,\n/static/b427b7fdfa63070a9eab64a8d52a577a/fcda8/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png 590w,\n/static/b427b7fdfa63070a9eab64a8d52a577a/efc66/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png 885w,\n/static/b427b7fdfa63070a9eab64a8d52a577a/c83ae/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png 1180w,\n/static/b427b7fdfa63070a9eab64a8d52a577a/39148/1689763911861-59f9dab7-04af-4580-aa11-6315c7b51ff3.png 2876w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=mc4Vt></a></p>\n<h1>在 Keycloak 中添加 Identity Provider</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa8670aefd84e446707ea56f1bc04ca3/5bef7/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACxklEQVR42o2STW9bRRSG76ZkkcRpF2yo1CR2bMdgmiZ1mlJVVRtYwQIBAvFX2MRNPwIsQLBmwZ49EUKA+GzS2hQDiyag2GoT10ljx7Xv58zcex804+SKwqYjvRrNzDnPvOfMWB9/8ikrH3zI8rVrLC8PVC5fZalcZql8les3brCy8j43n1LWs8+d5OT4BCeOH2doaIhnjh1jZGSEsbExxlIpUqkUo6OjDA8PP5WsbL7AZCZLJjfNVK5g9OXqKo16nY2NDaOtrS22t7e5/+BBIr3+r3Z2drBKCxcYT2dJZ6eZyOTJ5ArcWlun2WxSr9dpNBrs7u4ihQCiRHotRICUgsD3CYIA13WxZkvneL44w0Qml6ha/RU9dJBUCiUlvb7NT7U6X61v8vWdTdqPbVxfYLsBjhcghDDx1vz5C0y/cPoJYKVSJY5jbNvBdT2Ukhw87vPRF2u899m3LH3+Pc2Oiy2g64Y4IuZoWDOzJQOZnMqbOT2V5+df1lBhBHFMFEdEUWSCY+ER+g7EEul7xFIQhYpu94BOp4OUEmtmbv5/wB/XKngKVKjg8HJhP6K5cY/6n78bPfx7E6/VRHkufdtBBIGpyiotvPQEcDKTY716l54EKUDFAXVZYS+4R39vn07rIUG/h3JtQsdGCUG73ca27UHJuULRvHICnMqxXvkDBbRVg4as0gsfmWDH8/D8IOmXNq+UotfrGXfG4dz8efKFYvJt0ulpvrv9A/fDv9gTjUGWbicx3YMDk2xgGhBFpm+O45g93Wtrbn6B07NnOTWR5VQmQ/bcON/UVhEaEQ4S9cPooWH6r+m9I6h2qIF6Ng7feuddXn/jbRZffYXLb15k8bVF7tY2cSQEUg6Ah6/c7XZptVqEYZgAtcP9/X183x8AL115mYuXFpkplSiemaP44ll+q9UOSwiT3hw59DwvgemL/n2ugf8AvdRSKv+slKsAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/fa8670aefd84e446707ea56f1bc04ca3/fcda8/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png\"\n        srcset=\"/static/fa8670aefd84e446707ea56f1bc04ca3/12f09/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png 148w,\n/static/fa8670aefd84e446707ea56f1bc04ca3/e4a3f/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png 295w,\n/static/fa8670aefd84e446707ea56f1bc04ca3/fcda8/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png 590w,\n/static/fa8670aefd84e446707ea56f1bc04ca3/efc66/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png 885w,\n/static/fa8670aefd84e446707ea56f1bc04ca3/c83ae/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png 1180w,\n/static/fa8670aefd84e446707ea56f1bc04ca3/5bef7/1689764008243-d293e11b-739d-429d-97e5-390a17f1e024.png 2746w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>选择“OpenID Connect v1.0”，并给它起个名字。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/0lEQVR42o2RW2/TMBiG8yt6U9E0iXNqunZDFUzTECCKQPBzuUNI3LIm7cYOV9ygCbVqm7PjpLZjGzXdypppKo/eC1/4kV9/n9SS27ptN5vNRqMhy7KqaUqFqqqKorR3URQFAGAYhm3bw+FQsrp91bBlTQem/fXb999/5r/umc1mvu8vKxYV8/l8cc9yuZQOBy+d/vOWauh21/PGCKE4jqMoCoKAECKE4BWbg9hFsg8OTafXUnVgOePxhDNWlmVcEYZhUOH7fpIkEMKyLPkDpIOjAbCcjex6YyEEIQRCKB6xrfDv5a2s290fZ6MsyyilmBD+CMZYXTadnm47zxSgmZ2R6yKUhWEA06S6Waf+58HxyYuTV5rZsbr9kesRXIQQ3y7RuqfYg/T2w+f3Hz8dn74+ffPO9TyYpqjA8wiFKQqSu4QpynCJ8LpNvXand9QGJrCcn5dX1cBolBVhlieoiLN8E4QpwrQut1Rd1gxZM4DlTM4vCCEI5UlWpFnBSlqbdr12G5iKbsmaoVmdyfmFEILSMoEojCFEqxUVBeHbMP6EDCznzHUpIStMb2fR1M8XMQ2gCCCvIsKUsF17Rx65HkKIYJwjlEKUF5iWnFB2F0IFf1r2xhO8KmKYT2NMKOWc7VnVVlbNztX1jRBiGuEvlxCXfP+eH8rXN2uZMSb+j786jwsha92o4AAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/e4f4b2fef0a68d52b2df0d6586cc884c/fcda8/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png\"\n        srcset=\"/static/e4f4b2fef0a68d52b2df0d6586cc884c/12f09/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png 148w,\n/static/e4f4b2fef0a68d52b2df0d6586cc884c/e4a3f/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png 295w,\n/static/e4f4b2fef0a68d52b2df0d6586cc884c/fcda8/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png 590w,\n/static/e4f4b2fef0a68d52b2df0d6586cc884c/efc66/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png 885w,\n/static/e4f4b2fef0a68d52b2df0d6586cc884c/c83ae/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png 1180w,\n/static/e4f4b2fef0a68d52b2df0d6586cc884c/9b29b/1689764231531-159978a1-bd4c-4156-9a39-c495c5854cd4.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />其中，Discovery endpoint 可以从阿里云官方文档 <a href=\"https://help.aliyun.com/document_detail/93698.html?spm=a2c4g.118590.0.0.3f87352cIIrdG7\">https://help.aliyun.com/document_detail/93698.html?spm=a2c4g.118590.0.0.3f87352cIIrdG7</a> 处获得。Client ID 是我们在上一步中生成的一串数字，而 Client Secret 是我们上一步复制下来的。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB60lEQVR42m2TiW6cMBRF+f9vq6pK3dNmJpmFAQYw3jfgVPY0UhUV6ehaBl8/P66bHCzGWKTSGGsxzmN9eFDGzuNCwoeAD5GYEjGmh6ZESrm+m8WC1IbmPs0o6wlpw1jP4XTh+fXC998vHM4tNq7YtJFzZl1X/vfs+143Kd8002IQyqJ9qtXN08QiBN0w0t1nZmVrBTFGrLUVY0zV7Z8Ncq080tRF0mBDRhtH13U45+oiVw0MSimWZalakFKilUJbj4kb2md03NiBZpglx3K0Ymgdfd/X8kOIlZQeR3nTOq66kgrrRih9jKUlG80oFKdrh3IRYx3TNNXSC85ZxDwiF8EiZpQUyGV+IB4sYiIFz5oCa040i3acbwOztKS8vWs2nAfNsRUcLjPHq+DUKV5ugufryPN14tBOnAdFLyM+7zTaRfr7xDgvuOTIeyTtgbR73Gr51nZ8eD7y8fjCp/MrX/uWp5viqVX8uumqT63kx2VBh42mRGbse4bhxhzv6O2O3HqW7caUz7TmJyf1lVf9mbP7wuAPxOAr4S8pBoxWeO+KYaCfJONiyXl/FzAwyqCExKqAVZ7gEs57XAm8f+B9uQCu/rimZPDa3ZHGE1MmxnIjPNu21cBKKRjHO0LMGGtw3tVYvZm9GZa5Euw/z+FOlgFHyMcAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/4f3b78d846a12e7bffa1454540fd83e2/fcda8/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png\"\n        srcset=\"/static/4f3b78d846a12e7bffa1454540fd83e2/12f09/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png 148w,\n/static/4f3b78d846a12e7bffa1454540fd83e2/e4a3f/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png 295w,\n/static/4f3b78d846a12e7bffa1454540fd83e2/fcda8/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png 590w,\n/static/4f3b78d846a12e7bffa1454540fd83e2/efc66/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png 885w,\n/static/4f3b78d846a12e7bffa1454540fd83e2/c83ae/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png 1180w,\n/static/4f3b78d846a12e7bffa1454540fd83e2/351ee/1689764355506-b5c4477e-c4c7-45ed-ba28-43c5bf329747.png 3350w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>保存应用，可以看到 Redirect URI 中的 broker 后面的路径变成了我们指定的 Alias：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/765230d56d4a222a9d22c2a6ba5cdbe1/9b29b/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 152.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAECElEQVR42o2VW09bRxSF/S94aBouvmAgKDQOkISUVn2I1Pad/5g+hCitKvWlUluUJphb0lBBiwnmbmzsc7/Oma+aObaLjUE50tIZzTmzZu21Z+/JDI+Mki9OcOezOwwNDXF/5gtm5+Z5UCpRKpWYnZ0diIcPZ3k0P8fThScsLCywuLjI0tISmcnpGbKFIsNjeQrFKX5beY1h+9i2jWEYBEEwEFEYcGl51Fs2vufhOC6e55GZKc0xPVPi7miOfHGKt6tlLDfA9wPiOOa2xwokTSckETFRFCOlJDNx7z6FiXuaMDc+ydr6Os1mi1qthhBCL5RtAtkZS6kX+55LGPh6nE5LMtMzD8iPT3YVlstrhGFIFEVcNpvUz85oHFSoH1VpbL6lsfs3l4apw1MR+EHQJfufsDilPVTv1XJZf1CEjVoN/2APv1rBq1ZwK7u4zQau5xGFIa6Xeq3s6ajMjE9Oa6LPR7JkCxOsrpYJg4AwirBsB5FIlJMKygAhQYhEzzuej+e6Xa+1wkcLiywsfq19VBnf2twiSRKQqX9qnAjRiyRBqn+uPF2F3zz7jmfffs/8ky95/PQrdiof9YczW7BxEnQTQl9ietD2TysczY2TzRe5O5YnO5ZnffkHON7nYGub33/dxPpnB39/F6+yQ3K0jzw5QB4fIE+qyOoe8rLWQ5oZyRYYzRUYzhXJj4xRfvGcOIog9AiNOkb9gtZFDddokQQBSeBryDgCy0Aef2xLTy3QChWGc+PkRsZY+/lVmgCREMaCWCTEQugkJFIiFNRYrQ4D5NlRr8J+wvKPLwkUSRzhui6O42j4fnqAdZJUUhSh7yFPD7uHfbDCn16Sbp7WrIjjFH2ZTgndLuFAhcrDN6+WcWJBy7Q4rzduzqz6oLw+Peycm+sKs6M53i0/h6aqkH3Mvb1UgcpoP84OkdV/kefH6QbKhh6F6tgUJni3saH33602efH6GNc0Ea6DVH71Q2W77ef1kMfyutuU1zd0NiMhMCwb07IIwlAvUvMdyBtaWg+hquk/37zBMg0CIfDCqOthMgBcrZROLfcQjk+yWl7D8iOCagVxfEBSPye5OEXWTklqJ9qzRJ29syNQbxX2wKS0Q1YN1gkFzZ0P0KiBbeqK0G/HAscG1wbPQXqOqoAbstzph6tl3YlNx6Vl2bcfmyshD/RQtbA/VlawLUs3zYv6ZU835ibcFrLyUMQRLSfisOF2/73aorobXN1skELt4dq6LjnTNDFNo6d59j+D5gckZUNfUpZlYRjmQGWfrLBzSamLp6Oyv8soqEbRvWL7NhkYsrrx1CWlbjXdA9sEKa4T3hiyruX379ufku4B+ZSQryvMFjThXx+29Y97NY9ftk0ikdzqYz/hf/9ezvyQWgdHAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/765230d56d4a222a9d22c2a6ba5cdbe1/fcda8/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png\"\n        srcset=\"/static/765230d56d4a222a9d22c2a6ba5cdbe1/12f09/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png 148w,\n/static/765230d56d4a222a9d22c2a6ba5cdbe1/e4a3f/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png 295w,\n/static/765230d56d4a222a9d22c2a6ba5cdbe1/fcda8/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png 590w,\n/static/765230d56d4a222a9d22c2a6ba5cdbe1/efc66/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png 885w,\n/static/765230d56d4a222a9d22c2a6ba5cdbe1/c83ae/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png 1180w,\n/static/765230d56d4a222a9d22c2a6ba5cdbe1/9b29b/1689764577759-9ea13735-1805-4548-a49f-83db64b8c638.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>记下这个地址</strong>，并且注意到它自动从 Discovery Endpoint 解析出了 Authorization URL 和 Token URL 以及 User Info URL。我们<strong>删除 Issuer，并且反勾选 Validate Signatures</strong>，以避免 Keycloak 在用户登录交互中对阿里云颁发的令牌进行校验。<br />如果不这样做，在用户登录过程中会碰到 token signature validation failed 这样的错误：\nshell\n2023-07-19T02:43:28.955269+00:00 app[web.1]: 2023-07-19 02:43:28,954 ERROR [org.keycloak.broker.oidc.AbstractOAuth2IdentityProvider] (executor-thread-39) Failed to make identity provider oauth callback: org.keycloak.broker.provider.IdentityBrokerException: token signature validation failed</p>\n<p>接着，展开“Advanced”选项，在 Scopes 中输入“openid aliuid profile”：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa61b80733238e982dafd117988572c1/373fb/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABwElEQVR42p2UaW7bMBCFdcNeoYfK794ivUIRazESxW2VQI5jLdZKLbS1kBRfQSoxUhRG5QzwIFHgfHyYGcq4vf0O79nHD9vF5peH7dbHbrfD7uUFvu9fLePBdaGCnnowLvR7SQgoPeIzYaxME01dIzkcUFUVpJTY7wMkaQohBKZpukqGZdnoug5lWYIeZ1dBGCLPC71BhTpEaZFD07Q0MMtzEEIwDAOCMEKW5Z8DWvbsMC8K7XIGzg7fIVcB71YrDcrzHFmWgXOGMIo/OJRnoPwAvyTDcdaarJJVE1TSyDgY5zPgTWen/4EapmWhaRokSYKiLMH6HlvPwyHYA2wEBNdPKcTCplg2aNuipUdIxoCGoK8IqihEFYcgUYixJpBVOY+GlBdHRju0nbVe9MMwu6A1BlLgmCVapzwFrytMbb1wDm0blNK/bsbQnVBmGZqKqOJCqnq+ObgkzrmWYTsOhOAaqsZHfXwNQkSHVDdGLLwh7/sM23bw9OTBfXyE67qI4xhdS8A6+s8cLpGx2fw8J6ngQmL12mMd9JgmiZFP1/0c7u8f5roNI+TEUdIBX25+4+u3Z5x6hrTuwdhcH7ZAfwB7wNTl+WYgkAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/fa61b80733238e982dafd117988572c1/fcda8/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png\"\n        srcset=\"/static/fa61b80733238e982dafd117988572c1/12f09/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png 148w,\n/static/fa61b80733238e982dafd117988572c1/e4a3f/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png 295w,\n/static/fa61b80733238e982dafd117988572c1/fcda8/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png 590w,\n/static/fa61b80733238e982dafd117988572c1/efc66/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png 885w,\n/static/fa61b80733238e982dafd117988572c1/c83ae/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png 1180w,\n/static/fa61b80733238e982dafd117988572c1/373fb/1689764864091-4738eb42-1877-48a5-a41a-e013f6accc6a.png 2068w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />以便在获取阿里云用户信息时能够得到 aliuid。</p>\n<p><a name=Gi5A3></a></p>\n<h1>在阿里云控制台里回填回调地址</h1>\n<p>在上一步我们得到了新的 Identity Provider 的回调地址是： <a href=\"https://keycloak.jiwai.win/realms/UniHeart/broker/aliyun/endpoint%EF%BC%8C%E5%B0%86%E5%85%B6%E5%A1%AB%E5%85%A5%E5%89%8D%E9%9D%A2%E7%95%99%E7%A9%BA%E7%9A%84%E5%BA%94%E7%94%A8%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E4%B8%AD%EF%BC%9A\">https://keycloak.jiwai.win/realms/UniHeart/broker/aliyun/endpoint，将其填入前面留空的应用基本信息中：</a><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQUlEQVR42l2Q3WrcQAxG/f6Pk14U0saxPT8az9i7V4VCS0nSXWhoGicbx/Z6bJ+y3iYXFRwkhPShT0n7JeP3wwO/7u9pmoY/j488PT/Ttq+0bfueT73m6czh5YWu6+n6nq7r6Pv+PHs4kJj0krqqMMaQptfkeU5RFGRZRp5la+29p65rNpvNWu93O2IcWZaZeX5jIsZIoq0QQjgLKEOhFFrrFWstpSsJvib4gIggYrm9+0k/TvTHSH8cabuB9nTxcCRRShFCtQqKOAql/y0KThziNXab4YPHaodY4fuPG5rDK+MYGeNEnOaVcZpJTraqquIkXGiDFr/aKr3HlwEJlqvtBen2A2r7GVMq9vsdx2FYrf4fyac0pzCOqzQjywu0NhgriPOIK9dcygbrBOVzPqoLvt19Xf81DMM70zSxLAt/Aao8q8gN2XBBAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/f221fa4890980b30a2923f18bf144db7/fcda8/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png\"\n        srcset=\"/static/f221fa4890980b30a2923f18bf144db7/12f09/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png 148w,\n/static/f221fa4890980b30a2923f18bf144db7/e4a3f/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png 295w,\n/static/f221fa4890980b30a2923f18bf144db7/fcda8/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png 590w,\n/static/f221fa4890980b30a2923f18bf144db7/efc66/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png 885w,\n/static/f221fa4890980b30a2923f18bf144db7/c83ae/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png 1180w,\n/static/f221fa4890980b30a2923f18bf144db7/ed904/1689765027284-e0eec221-306a-49c0-835c-a7067fe1ac9b.png 3838w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><a name=lVRw1></a></p>\n<h1>在阿里云身份管理工作台创建用户</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABL0lEQVR42oWR3U7cMBCF8/7v0kfoEyCuaYGW3S5k2Y1jx47t8U+SD+FdEFd0pE/nzIx0pNF09e4nzijOg2KyFkmZlAsp5y+URi6FEAUfIkHk6sOlv/rO9U9sy0KInhA8/6tt29i29aoffv303dnNhBrwfuXv4cjxNDAax6AtwzihtG04L8wxEaR8S2fdzFB3DPUffX/i7mHHr8f9hYcdf/Y9h6Ni3yuO44yZE9rJla9eGJ3QWevaKben3/y4ecZogxo1Whu0sUzOYybHq5rQLhJTRnIllYWYStOUa5vlutJprdnWBUlw/+J46jX9GDjbzCyVXBaCZIIk1GhaSIiphZwGhXWe2ce2m4NcAmOMsK3knNE+42RhipWyrO9v+HxGSqnp++zSCyJCrRWJkZwSb4yzG7TRGbJQAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/fcda8/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png\"\n        srcset=\"/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/12f09/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png 148w,\n/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/e4a3f/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png 295w,\n/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/fcda8/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png 590w,\n/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/efc66/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png 885w,\n/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/c83ae/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png 1180w,\n/static/8f4cd7f82bf1e4922e1b47b4edcdfe6a/7cad8/1689765990527-9b917c17-5c17-4af6-bc44-842b78bc0c24.png 3240w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYElEQVR42nVRW3LDIAzk/ofobfrVK/QnrSd1Er8wbxBsR3Ie7iSVZ0cCw7Irqfr+hjz/YBwuGKcZPoQHfEAuBYVIwHXKWWCdh/MBLgTJ1jk476Hs5we8NQAavPcw6wrvLJxzsNYKeD+EgFIKOFprqLW+hBpMhI8JqRC01uiOPbp+wDzPGMcR0zRhWRYs84yU0p3wv1DTYuACE1YhCYmw+iyKUsooOSPminq9cCMjIlHOwS70siDnBMUFlSIH2S5br1TE3s0GSW5yZk/IyuWetTiOFi4WKGPM/SWTGnxp4I8qibq7vfYg3BNff4HalhW/EmIESsb5cEB/+MLpu8exO0Pb8ESyB6sUB0Qg2hwptnkZBiSzYum+4C4n2GFE1OtOQXuqOfPA2GGMUXrOxIp7JYtaMWuNSRvYvNkuVFHoQfDa7t+Jq32PVq1lYs5HaOPgQ4KJ9ER4W7MQHmLIPLht/xc7zg4bSgIUGQAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/95318c65efa55be32fbc37b293ecedb3/fcda8/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png\"\n        srcset=\"/static/95318c65efa55be32fbc37b293ecedb3/12f09/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png 148w,\n/static/95318c65efa55be32fbc37b293ecedb3/e4a3f/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png 295w,\n/static/95318c65efa55be32fbc37b293ecedb3/fcda8/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png 590w,\n/static/95318c65efa55be32fbc37b293ecedb3/efc66/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png 885w,\n/static/95318c65efa55be32fbc37b293ecedb3/c83ae/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png 1180w,\n/static/95318c65efa55be32fbc37b293ecedb3/8b95f/1689766038612-1ba99f94-e263-46c4-aaec-d8daf073d03b.png 2848w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=vz86f></a></p>\n<h1>在 Keycloak 中给 Identity Provider 增加 Mappers</h1>\n<p>在做完上一步后，你已经可以在 Keycloak 中体验阿里云登录了，但是登录成功后，用户的 aliuid 没有同步过来。要同步这样信息，需要增加 Identity Provider Mappers：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkUlEQVR42pWOTWsTQRiA52Q82Vta6MFks5uYL5NaWkL9UV4Fk11pu66g6G+IaTQihV578uAl9GCgHhJbsCIoRrGxK2Z39uuRjFEUPejAwzsMw/M+wnEcHOc2m9s2zWaLG4qmmi3TxLQsTOvmfFq0TIvNrS1s+xbbtv0HYjGdZml5Ga1cZWkxzcLCBVKpc5xPpRBC/D9ZTSej5eboZHOGuutGgbv37vNkd48HO4/Y6T6k0+nQbrfpdrv0er2/IkrVOvXVdbR8Ec0oksuXyOgFipUao+NXfA3BT/jnI8rVOqvrDTK5vCKrF7ioGRRKVfr9PkcvR0xOPxHHCWGUEMYJURQhZYiUEb4MCMKQcI6Ylaw1NlTlTPZDaFwqMxyO1Nb34zGnn11ev/3Ax8kX9eZxAkznXQlJ8h1RvrzCWuMqldqV3wrzxQqHhy/UJ9d18X2fIJAEgU/gx3QGQ+xnT3l84DKZBkobz4Szwkpt5afsV+HzwQAppRKenblMPR/P81Ttnf0x13onXN99w7uJVJVRHPMNra2iz0+B9lQAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/811a7c48044d881f2024ce5335b0269c/fcda8/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png\"\n        srcset=\"/static/811a7c48044d881f2024ce5335b0269c/12f09/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png 148w,\n/static/811a7c48044d881f2024ce5335b0269c/e4a3f/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png 295w,\n/static/811a7c48044d881f2024ce5335b0269c/fcda8/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png 590w,\n/static/811a7c48044d881f2024ce5335b0269c/efc66/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png 885w,\n/static/811a7c48044d881f2024ce5335b0269c/c83ae/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png 1180w,\n/static/811a7c48044d881f2024ce5335b0269c/cf8f8/1689765129166-4be17893-efb9-48f3-b8be-142b8d26217b.png 2234w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />再次从阿里云官网文档（<a href=\"https://help.aliyun.com/document_detail/93698.html?spm=a2c4g.118590.0.0.3f87352cIIrdG7\">https://help.aliyun.com/document_detail/93698.html?spm=a2c4g.118590.0.0.3f87352cIIrdG7</a>）得知，aliuid 在令牌中以 uid 字段出现：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVR42jWP247jQAhE/f9/OdJOFCdO0jcKaKCZtWf3CHhBVVCbMhF4EAA+mxlgvWAWEdU5p9mc090HobQOlkEQlu3x+pQOUjePiMj/DKLamrnFWuZuZpkZESsW8+memdtRx9dt7zzNXIBltubMiF7K5zjQ+6hVAFNdF5kpqoPg7lsZ/Gd/FVIHSylLZImkan0+n9/f7TjwfkutTnSuLrWrjNd98tg6z+dj/9RmRGEz1wr3zKzlc7/daimtVhGO8AWsK1e4YzSzuTXofT9etcsY7fEIIK/jDhiNAAIUjFN5fe6X9S9bJdnfrUI9ovfeWiHqRB0gURXRf/MsEeHe+2/yv+IfhjqV2UPdcjEAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/56267084575bd7ab58dddf2e513bf199/fcda8/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png\"\n        srcset=\"/static/56267084575bd7ab58dddf2e513bf199/12f09/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png 148w,\n/static/56267084575bd7ab58dddf2e513bf199/e4a3f/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png 295w,\n/static/56267084575bd7ab58dddf2e513bf199/fcda8/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png 590w,\n/static/56267084575bd7ab58dddf2e513bf199/efc66/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png 885w,\n/static/56267084575bd7ab58dddf2e513bf199/c83ae/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png 1180w,\n/static/56267084575bd7ab58dddf2e513bf199/ed904/1689765201195-7e4b6947-a1dd-45be-b365-d1e9671eea9c.png 3838w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />于是，在 Mappers 里我们选择 Attribute Importer 类型，并将 Claim 和 User Attribute Name 填上 uid。<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACNUlEQVR42n2Sy2tTURCH76abQt1Ibukzpk2TNn3E2Je1IIpSUYqgrdpQdSciIu5N0qYt3Ur/GMG14B/gwo3g3qZNk/t+5d77yT1ptA0kAx9zZg78zpyZkT4fHXFweEi5XGa3vMfO7i6FYpFCsXTui3wqFCmKuEShUKRU2mF//4C9NqKcFBscYmB4hCt9ffT09NDb24ssy8RiMUF07u+Xhb9I674daXo2SyKZIp2ZYTieIL/9CtM0cV0Xx3FQVRVFUdA0TZwjtHbO70zDQMreWCSRTJNMZ5AHhsm/fE0QhrTMazSwbBvbcbpi2Q5+ECAt3lxlcnqOsYlJ5MER8i+20Cp/0E8reJqCVatinVVx1Tqu0gG1jlOv4akKUm5hifHUVFNwaJStpxsYtTPxFVNTcW2bhutCGBL6fkeCRoNAV5Gm53KMJpJCVB4cJb/5DF1RUHWdIAgxLYvj42MqJycYhiHiqMeXsCx0w8BR60jzSytcG09dEtRqNWzbET20bVsMx/M8/KgS3xf+Iq1cYOpIUzNZ4mMT/wU3NrF0Hc0wmg13PTw/IBpTNKyuWAbSXG5eiCVTU/QPxUWF1mkFo3qCeVYFR4eGSWjqgqAThk6oKUgLyytkZq8TTyS5Kg/wfGu7uS/nq/Ptl8qXHzXCIBDfIgg6E4ZI64+fsPZwndXbd8nOL/H+w0ch1NrF7791vv5Ucf0Qz2/mwi5I9x884s69NRaWb5HOzPLm7bt/FUZTbrcweqgLfwH1QCZYb8RbyAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/75f6f278542e1be79c5f671d6005d189/fcda8/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png\"\n        srcset=\"/static/75f6f278542e1be79c5f671d6005d189/12f09/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png 148w,\n/static/75f6f278542e1be79c5f671d6005d189/e4a3f/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png 295w,\n/static/75f6f278542e1be79c5f671d6005d189/fcda8/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png 590w,\n/static/75f6f278542e1be79c5f671d6005d189/efc66/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png 885w,\n/static/75f6f278542e1be79c5f671d6005d189/c83ae/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png 1180w,\n/static/75f6f278542e1be79c5f671d6005d189/f29ed/1689765292296-4eafebbe-b352-4755-b6a7-8598fbb9fdaf.png 2948w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br />我这里还选择了 Force 的同步模式，从而可以在每一次用户登录时，都更新用户数据。</p>\n<p><a name=sfu1q></a></p>\n<h1>在 Keycloak 中给 Client scopes 增加 Mappers</h1>\n<p>在上一步后，用户登录成功后，已经可以拿到 aliuid，如前面的图所示。但是，最终 Keycloak 颁发的身份令牌以及用户信息接口中，不会包含该字段。于是我们去 Client scope 要增加 Mappers：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/05ba0e483a0bee06086c2fd8ed5ba1e3/af975/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACl0lEQVR42m2RS08TURiGZ2ELLoCoFMFeKO3MtHRKryKWCGokRhYYjfFPaOJC4//w3gsLoem9uiBhI8SoGzVodEVSYiQEDWltSztzpjPtmctn2kEuiU/ek5x8Oe/5bkQikYgnkpHY/PMX4XAkqikSi0Vj8+FINBqb1xSOtoMvFxYXFuP7Iswmk9lOUaOuocHBvr6+np6e7uPdep1Or9Pp9HqdXt/V1b5qHDsKYSMpkqKMJtMZo9FssfQbDPcfPHy9tJxMZ15lktlUIh5fTKfT2Q65oxBOxuP2+EbslNVGkrTzlOF0OpcHgCIrFirKRgk3sQKgwv8gXB6/g/GYrKRlhB6hnb39A/FEUuDRj+3ihw3ufaFe47EkYYwlWZbb5xDE9My16cszZ0OT/gvnJyanKGpsaWkZAMrlP00RsWyNQ3ylWsGtlpZNVQ+qIK7O3bx+49aV2dngXCh0+yIz58+s5JHKcwi1EJaxApK0vlm8+2TlzuM3956t1pC4/wXh9gU9gfFhG222kFYn3WsceJR/ugk/vwvfvopftlpbNXm3WuferRVWP62//bxeKlcwxgDQLtsbGHd5/BYbZaUcpIM52T+USmVlGRBucCpXUDbWmh9b1ZJYKqJfW+LOb1zbxZIEACzLEm5fwBc8ZyUdVtJhd7hOGAaTmRwPUEN4rzNFkTmutrNT3t4WymVFECRZBgCe54kxf5DxBobttJV0kB1zKpNXAbQXiqooantVfKPBsqwW1BBFkaBG3aST0cxa5lQ2LwKwAj5YqKqyLFutVKROt9q4G40GwXgD3uC4jR7tmJlO5lwDALXN6j71er1UKrU6C1MUBQAQQu2BTU5dCk6Ehu006dwzAwCWJPUQgiBwHCf9CwJAs9n8CxfNE8Kg03+3AAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/05ba0e483a0bee06086c2fd8ed5ba1e3/fcda8/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png\"\n        srcset=\"/static/05ba0e483a0bee06086c2fd8ed5ba1e3/12f09/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png 148w,\n/static/05ba0e483a0bee06086c2fd8ed5ba1e3/e4a3f/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png 295w,\n/static/05ba0e483a0bee06086c2fd8ed5ba1e3/fcda8/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png 590w,\n/static/05ba0e483a0bee06086c2fd8ed5ba1e3/efc66/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png 885w,\n/static/05ba0e483a0bee06086c2fd8ed5ba1e3/c83ae/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png 1180w,\n/static/05ba0e483a0bee06086c2fd8ed5ba1e3/af975/1689765456525-2f3b37b9-3793-4f6a-a1ff-7d25da0e1aec.png 2478w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>选择 By configuration，并再次选中 User Attribute：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89eaa0aa7503b4ebb6d50402c502d838/91306/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVR42lWRy1IaQRSGpzCpEjAVmRuam8ZVkkUMlCxM8jzBRbDK14iroAzxIeKG1xgiCqHUKktd4NAwt75Oj5I5KQGN+erf9vlOn1/Z2tr6Wtksb2x8KZcrlc3v1Z2aZe3WdmuWVbPq1epOtbpjWfX/Uq//2Nv7tr2tpFKpmUePUzMziqKsrKwcHx93Op2Tk5Nut9tut13XxRiHD8A4DIJASrm//1MxTFPXdVVVM9nsWqnkul6v10MIhWFICJFSAoCUknMuhOCcSylHoxEAHB0dKaqmz+fU+Zw6m858KBSFEHEcR1F0c3MDAEmSAIDv++fn55eXlxcXFwihwWAgpTw8PFReLb9eWlp+/uKlqunrHz9xIaSUQogEYBIAYJxjQrgQXIgoihjnANBqtRQzv5hfWNQNMzv3pLRWEpQyQmIhYDSaJklCz3N6PRchdzAYIjTo9wHg1qzpRk7Vns7n0rOZz+9XxXAYe94Ih0DpNIyRK6d/dkYch/Ud2u9zx5k+1g1TG387nc6sFwrM9XzH4b4PUiZRlEQRSCmCIEQII+Q7DhkOY4yna0/Mk4OtFouMc0KpjGN4ACbkynEmRRFKKWNTs6rpqqbnVG02nSkUipTSMAgIIX/uSJKEMeZ5HsaYYMwojcejDw4OFMPMLyw+03Tjvqrr6+tJT/dIKRljnPOx9ZZ/ZsPMa7qRyc69efvObjY7nU673f59R7fbbbVatm03m03btn+NOT09bTQafwGcK/tHisMOWQAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/89eaa0aa7503b4ebb6d50402c502d838/fcda8/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png\"\n        srcset=\"/static/89eaa0aa7503b4ebb6d50402c502d838/12f09/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png 148w,\n/static/89eaa0aa7503b4ebb6d50402c502d838/e4a3f/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png 295w,\n/static/89eaa0aa7503b4ebb6d50402c502d838/fcda8/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png 590w,\n/static/89eaa0aa7503b4ebb6d50402c502d838/efc66/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png 885w,\n/static/89eaa0aa7503b4ebb6d50402c502d838/c83ae/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png 1180w,\n/static/89eaa0aa7503b4ebb6d50402c502d838/91306/1689765500882-a75afd79-b453-4922-bd98-d215f6b09bf2.png 3120w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />接着我们勾选上 Add to ID token 和 Add to userinfo：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/431386b11f791784f24104faaa18caca/1307b/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.27027027027026%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVR42p3Q72/SQBzH8f4TPHDaH2mv12sLhbItLotRIZr4j/oXmGiixvgzaZhEs0wnY5CFAovQUlrogb27nglP3GCG6Ov5O998voKsKDoyd27tFAoFURRlRZYkSZQkURSlDbIsq6qqaZphGLVaTUCmBXR4+46oAf3Z8xdn593vP85a591Wq9Vut3u+39vgrwwGA8Gt7pumDQC07FLj6HM0ncZJQigjhGSEZCuUUn4Tof74Sb3+6ODw3oP7D48bDYZTms7DQX8yHKRJMl9J0xSvUErzKwR3d79YKisAViz765vXJByzSTgf9rOflyyOGOeM/pHn+bXLbnUPmbaigiIyv3x4j4PRMgyWk4AlMaOEXbce20UHQqSooGyg408fl+F4MR5lUUCjCaN0S+yUXcepKCpwkNl89TK+6MT9/sVpN59Ocs6vLmSMrT+s5FTc6p6qQdswm+/e4tFl6Pud0w7Hc76NUHF37x4cagBCZHmNo3SBE7xsD6ec59tjoBs6RKqmI9P2PG82m2GMo2C0Nu/mWAMQ6Iaq6Qayms0m5zwjtBcsCP2XWIfo5OQb5xz/ok+9IFmQ/D/iza/+Lf4Ni/94GkNa61YAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/431386b11f791784f24104faaa18caca/fcda8/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png\"\n        srcset=\"/static/431386b11f791784f24104faaa18caca/12f09/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png 148w,\n/static/431386b11f791784f24104faaa18caca/e4a3f/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png 295w,\n/static/431386b11f791784f24104faaa18caca/fcda8/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png 590w,\n/static/431386b11f791784f24104faaa18caca/efc66/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png 885w,\n/static/431386b11f791784f24104faaa18caca/c83ae/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png 1180w,\n/static/431386b11f791784f24104faaa18caca/1307b/1689765543403-1163d4fe-0d68-4881-9813-d2ccbc5a5a01.png 3000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=VwtUg></a></p>\n<h1>定制用户完善资料页面</h1>\n<p>如果阿里云的用户是第一次登录到 Keycloak，那么 Keycloak 会要求该用户完善资料：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78eefb87cde5cdd39a9b01319fcd1886/0b533/1689767283441-12f04f99-f154-4a48-ab4a-f02985669dd7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACz0lEQVR42j3RWY/bZACFYf8/LpGQEEUggaAXVBVL20EdtaBOO9CZiFZktkwSx5N4TeI4cezPn3fH2Ya2qOIPvSgp4uLcPjo6R2keP0XvNLHUS4b9DhNDY2br+I6Fo99g6QOGhsXYcrB0E70/wLYsLFOnf6PS7VxzcdHk9PQlBwcHKOeN32ifv8JUW0ysPv7IRHhD4plLHM5Io4hERKQiRoYRgT/H932mU4/xeIhtm/T7Gu12i0ajgdK9bNJqvqLXOsPSOgx1Ddce4DoG3tghEeEejUWEFBEiFIRhSBAEzGYfUMsy9uj5+RmK1r7AGaiEk12rCcl8Shb5ZDKgiCOqNKaI4z0qhSDaoeID6vszXHf0f8vr6xaKM+gxd22SuUcpAupYsMwlqzJhU+esFznLIqNME9I4JpaSOJZIKQnDgOl0wmjkYJoGqtpFsW7U/fjCc8nDgEpGLGJJXSSsFhnrumRZFRRJQiIlMpJE/yUIAzzPw3GGGIaBpmkovdYVjt4n8qcUIqKUkiKSVHlCVWUsqoKqLMiSlDjatdpBklBI/HnAZOJh20MG+q6hhmJqPVzbRM5nlLFkmWcss5TVImezLtmsKpZ1tUfzLCNNMpI0I0lSRBTtHx+7LrbtMBjoKGNzwHRkk4o5dZ6wqYp9dtttNxW325rtZslquaAqS8qipCgKsizb77h725tOGY5GGIaJIrwRhZxTZ4JtlfJmlfFuW/JuW/H+bc0/f694/3bNm9slf21qbtc1q7qkXuSUuSSJA0Qww/PGOEMLpXXV5arVp62adHpD2tqIK23EpeZy3pvwp+rxujOhqXr8fjHm6R82j08MHr3o88OvKt8dtvjmYZPP7jX44v4Jyp1vf+GjO0/4+OsXfHL3hE/vvebz78/48qcLvjq45u5hl/vPNA5PdR4eD/jx6IYHz3s8OFJ5dNTl5+dtHh9f8eT4kmcvz/gXA2rRfvZ5PGEAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/78eefb87cde5cdd39a9b01319fcd1886/0b533/1689767283441-12f04f99-f154-4a48-ab4a-f02985669dd7.png\"\n        srcset=\"/static/78eefb87cde5cdd39a9b01319fcd1886/12f09/1689767283441-12f04f99-f154-4a48-ab4a-f02985669dd7.png 148w,\n/static/78eefb87cde5cdd39a9b01319fcd1886/e4a3f/1689767283441-12f04f99-f154-4a48-ab4a-f02985669dd7.png 295w,\n/static/78eefb87cde5cdd39a9b01319fcd1886/0b533/1689767283441-12f04f99-f154-4a48-ab4a-f02985669dd7.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>以上 Username 是 Keycloak 自动生成的，可以修改。如果不想让用户修改，并且不展示在用户资料确认页，那么可以设置默认邮箱就是用户名，并且不允许用户修改用户名。可以在 Realm 设置里做一些调整，如下图所示。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a630322523bfc3caf0227cf3c7aff5b/11864/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC5klEQVR42o2S2U8TURTG+z9Q6FC6d2a6T2npxhJBRKClUMVgfDIxITH+Yya++OiLBqRQV5ZExAQhCA1Uy8zQaTud/d5rmEFalge/nIebm/zu951zrmlza2t9Y7O4Unz7bmlpeaW4ura6VirqtbpWWit9KK6WPn/5ur6xebNMfr8/EAonxsYj4TCB41hvL4ZhFovF3FZXd7f51jI5HI4+m93hxW12u9Vq7enuMZvNGIb5/0MmN05S0Sh+7mm1Wm02mx3DeqdyeQCAKIqSLlmXJEuqosmaJiuKcWMiAqFgJIr7Am6cdOOkl/T32p3ZfAEhBCFEHYIINmEd0qdIlo0bU5DqH0gPuQm/UV5f0NLnyM094Hl+f3//8PCwXC4DABBC38H2HviJGA6KwgXsD0fjyYzTS7pwnwv3eciApc+RzRdkWaZpmmVZmqaRio64o/etZXQlig4PpAbjqQwRCDu9ZCfMMMyZLlEUt3/sNrjmtUZMoWgsNTRiJO90VlX19PSUppkW3+QE7eUGT9dbEGhXYSrWn0gbZBueLUii+EdXjeNUTatxDUEQNO0qHIj09yfSBtnpLElStVpl9cyKCg5+1/mWAK45+8PUQGrQaLgTVhSFYZgax0GgNSXwaqPOcC2oqVfgIBVLZoa9vmAnPD0zd3PPN2Uig5FQNO7CfZd7xmzObP4cBgBc8BABhKAkI7aGmo027PQSRCBs9xB9To/N5XV4iC6LdWI61+lsHISzE2HvGzo+acPZh48fLTzJFebvTeXGJqbGJ7OZkdHF5y94ni+Xy5VK5eDXwclxRUTCJ/BRRJKe4x88np3LzT4ozC/cnZxOD98ZHh2PJTNPny0KglCtVmma5rgaX1feVHZ2WrsIIAhBZ8/hgfRgPJkJUrHL2PezM6qqsizLcZyqyE0JvN5s1Ori9U8SpGKpwZFEZjiWzHjIgDGw6fzNaUOE4C3TjsQSVDzpC1GXf9tY1cW09Tc0cMva/gKJKNfxQPSdiwAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/8a630322523bfc3caf0227cf3c7aff5b/fcda8/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png\"\n        srcset=\"/static/8a630322523bfc3caf0227cf3c7aff5b/12f09/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png 148w,\n/static/8a630322523bfc3caf0227cf3c7aff5b/e4a3f/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png 295w,\n/static/8a630322523bfc3caf0227cf3c7aff5b/fcda8/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png 590w,\n/static/8a630322523bfc3caf0227cf3c7aff5b/efc66/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png 885w,\n/static/8a630322523bfc3caf0227cf3c7aff5b/c83ae/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png 1180w,\n/static/8a630322523bfc3caf0227cf3c7aff5b/11864/1689765733870-7e7fe57a-1186-4a6b-b861-4a819a0047d6.png 2034w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>这样，用户第一次登录到 Keycloak，只需要补充一下 Email：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/07088087fbcb9fffd60a6dc3a42d8aa6/27f8b/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACzUlEQVR42pWTy27USBSG/RJDMoAYjWaBECyQIIMyEo8wixECiT3vAIS4kzBvgDQXsWLHjECwYcOau9gAQohwTQiEpJNuu+w6dXGV/aNzyiQsWIClX1XVrv78/+dUZT/v3YdDU7/hyPRRHJ6axtSv09h/4CD2/PQLJiZ3YcfEzm/SDzt+xMTkbmTnBznymbP4c34OC/MLODszi9NnZjBzLse52Rz5YB75YA4DHvM5zOZz/W9pze/yrXcDZNh4DoxeJjUaZB2sNTDGoOs6fO+TlZVBXVsQeZBpYG0AGY9aO2hyIOIPODjr4VwDZwOMqIF1Ec5HGVmqMshUZVFrD22CAD9LU4LyH9cKh5VNi/cjiw3l4UOLEFqUZYXRuIBSlax5b1bVFpoaEMv4XmnODrUL0L5F7VpUNsroQypFjBExBLQxAl0n0KyqnQCNuHISXUD92LUtrCEQaZm3bYso6tB2AKN5bLsO3ocE5GjJUV877ZCcWzQhYnl1A29XPmJ5dYilD+uid6tDrG4UKLXDSBnUxicg1y81IMXlBrGqygg0xIiqrlGqSmrFImOlUdZ5+SA75hNhXcNAtxU1dddCVSQdYyBH/NZHmrJdr8+147gGpSIYslDU4NSlV/jjr0Uc/yeJ1ycvvsCxvxdx4t9F/H7hGW4+HQNdi4x6CDtjsSsGssg4uCbixsMVXLm7hGv33+H/229x+dYSrtxZwtV7y7j+4D3+u7+Ol2tGOi7HhihF5bqluCRA/tDXI3/9BkkNlSIBSVy97ZTXxnrEyEelk+IXukFBAQU1KClgrBuQj3JkuCncAwF+6arWRoDUA71v0DQB7JMhigJKiigZXjcwLsiV5L0CXB+Ot4DJ7XZcriFvNMbj0eMnGA6H0JpQlgpFoVBXtcyVJPSSMFtbH0Ep3buz0H1c+gLI5+3V6zcYbo4wLkq5v5ujpHGhYHt3fEk+AQCRyopzOeGeAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20230719-142709@2x.png\"\n        title=\"WX20230719-142709@2x.png\"\n        src=\"/static/07088087fbcb9fffd60a6dc3a42d8aa6/fcda8/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png\"\n        srcset=\"/static/07088087fbcb9fffd60a6dc3a42d8aa6/12f09/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png 148w,\n/static/07088087fbcb9fffd60a6dc3a42d8aa6/e4a3f/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png 295w,\n/static/07088087fbcb9fffd60a6dc3a42d8aa6/fcda8/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png 590w,\n/static/07088087fbcb9fffd60a6dc3a42d8aa6/efc66/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png 885w,\n/static/07088087fbcb9fffd60a6dc3a42d8aa6/c83ae/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png 1180w,\n/static/07088087fbcb9fffd60a6dc3a42d8aa6/27f8b/1689766596652-ba73f3aa-ad77-4bca-b7a6-b949fabb7be3.png 1730w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7412ab33aff7fa077a31d37f6915a072/b8bf8/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.45945945945947%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR42pVTy24TQRDcn0giAidAyilwiIggB34rcuK1Q/jDiBMSyYFH4rXX63k/dwt1z9oJcMJSqadnZstVPd3Vi6PXOD4+wfuzjzh59wGnp2d48/YEL18dYf/gOfb2D7F3cIj9gxL39p/xHudPz8a96nM9Qz2Z4Ho+w/XVJ1xc1jg/n2AyucTkYop6Nkddz1HPrjheTme7fFqPZ5zPMZ3OUKG7A1ZfgfYbYFdw3sM5xwgh4H9/VScspPLQJsDYCOcTrIuca+PhfYBxAdIUaBsRY0IICVpbSKmhtEGICUo7VBthoTQRRhibmJRAhHRBu4iFjPjeevzsAu43ATZkAAOstdBawxiDYejhQ0IlpIPWAYYJwxPEojBmVimE4DgAyP2AYRj+9DoMSKkvhEoH2JGgIIwKPVLKyCnBe88kxFPiE4ycVIZKSj9a9qxsu1bKQSqLSApDgvMRKQ+IqUffD0i55zWpNdZzDdmyUuEfQjmSCWn5AXyIMMbCOo8YIu47B2ECq6Y9bSxi2hE+2iRCWgtpRtDFYplaiLBuW/x6aLBYNNBKoe9JcWbL3kdUWjuYsWbbGrLdkZT+mepUPhyYtOs6SCmRct6dUWRCNRJSJJDVLSinR9kIicVihWbZYrlcY90JtOsN54SHpoXlQeC2oV4qykrdijImNA6Zih8jrC2TQxMklIWh3Hvesz4j5v6RUAhTmnhslbL2sDawwrHN+JVD6mFDD596Xqd+4CYny3S/6joFKf9Spu346p5fmes3DFjriFYlLGWJK5WgfUbOmZ1wDb//WIBISSWDSUfFtpDSBNzcfMHt7R2E2KBpGiyXK7SrFk2z5LvblqvaVmAjFLRxO1Uk3bpHUOs8LBq06/Wu7wjsRFvuU540HfAbue3aOaCzmWEAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20230719-142722@2x.png\"\n        title=\"WX20230719-142722@2x.png\"\n        src=\"/static/7412ab33aff7fa077a31d37f6915a072/fcda8/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png\"\n        srcset=\"/static/7412ab33aff7fa077a31d37f6915a072/12f09/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png 148w,\n/static/7412ab33aff7fa077a31d37f6915a072/e4a3f/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png 295w,\n/static/7412ab33aff7fa077a31d37f6915a072/fcda8/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png 590w,\n/static/7412ab33aff7fa077a31d37f6915a072/efc66/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png 885w,\n/static/7412ab33aff7fa077a31d37f6915a072/c83ae/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png 1180w,\n/static/7412ab33aff7fa077a31d37f6915a072/b8bf8/1689767145198-c9fa89e6-4568-4485-9793-ff43f32ff74a.png 1728w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/42229b936a6e6de3a40ea7354aaeda7d/064b2/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAADW0lEQVR42l2RzW/aZhzH/S+kXHKYIIQQDhnqsiRrSoIN5sU22MYGghl4thcbAnYCChFok5L1sOa0y6T9CTtN2mEvUqNJbbWqL+vaLVnSNkBEVlU9NtsCRCXh7Zkwm9Tto+/hp0f66Pv8nge6PDt/dQFZdLreu+KwX373bfs745ZJ05hlzDwxyLjVPIzZah6fNI9PWiZslgnbmNlqGpuABEESBFFWUoIgcVw8xsWjS7GlJS4ciTIMyzAsSVIkRZMUHQiSGE74Mdznx5wwsrgIQ9vb29evf7q19UmpVCyVShuFQj6XW1tbzWazajarKIokiqIgiIIQj3Msw9ADKJqmcByDNjc3i8Xi6tqaqqqapqVSKVlWJEmSRIHnk4LwQT6XU7OZzEqaZZgAQQQIHMMwjwd1Op1QsVhcX1/P5XKapqmqmtLhEnwklqDZJYqJkKEwQTJ+goTdPgT1O2D3latOGEZcLhe0sbGRz+czmYyiKLIsSzpff7vz4NdnP/60e+fh3q17v9y69/jm3Uc37z7euX3/hzsPv/zqGwRBHA4HVCgUVFUdmrIs8zyfTCZrtRoAoNNp93o90Ae9Xq/b7fb7vfPzFgDg+PgYhuGZmRlI07R0Oi1JkiAIPM9zHPd+PF6pVgEAjWazXq83m80znYY+AAAq1erc3JzdbofS6bT+nEIikeA4LhKJhMPhSqUCwKAQ/JfhydHR0T/y8vIyrxONRsPhcDAYpCiqqje3Wq3uvwxv3m63AQDVanV6etpqtQ7kZDIZi8UikQjLsoFAIBQKlcvlk5OTZrPZ7/d7b9DpdIby1NSU0WiEEolENBrVv57GMMzr9eI4fnh4eNHuvG6dd7q9N3PRHsjlctlms5lMJigWi7EsS1EUQRAoiiII4vV6K5VK66z++qyhb9r/387lctlisYyOjkLDWpIk/X6/1+t1uVweFN0/eFJ71d59frr/orH/ovH0ZeNAH3Z/P6296vx28NRkNBoMBigUCgWDQZ/P53a7URRdWFiAnYuP9p588eDio+/+2Lrx17Wd089uN6/t1LdunH78/Z+f32//vPfMZHxr5NIliKZpHMc9Ho/b7UYQZH5+fnZ2lueThZyW11KrGTmjiCuKuCKLspj8kI8vCwmCIAwGw8jIyN8QTOrKOz2BNAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/42229b936a6e6de3a40ea7354aaeda7d/fcda8/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png\"\n        srcset=\"/static/42229b936a6e6de3a40ea7354aaeda7d/12f09/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png 148w,\n/static/42229b936a6e6de3a40ea7354aaeda7d/e4a3f/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png 295w,\n/static/42229b936a6e6de3a40ea7354aaeda7d/fcda8/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png 590w,\n/static/42229b936a6e6de3a40ea7354aaeda7d/efc66/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png 885w,\n/static/42229b936a6e6de3a40ea7354aaeda7d/c83ae/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png 1180w,\n/static/42229b936a6e6de3a40ea7354aaeda7d/064b2/1689765776430-c57ea6db-c83a-43da-bc93-aa0a9a349dca.png 1874w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=eZ3e2></a></p>\n<h1>邮箱验证</h1>\n<p>注意上一步我们还勾选了“Verify email”，这会让用户在输入 Email 并提交后，进入一个验证邮箱页，不验证就不能进入最终用户登录态。<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/587233c17cdcd0c398679bf624942e86/c8252/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC6ElEQVR42oWSy09TWRzH75/AY8ECNhAYdZCkVIItFCHtrdTQSmlLS1toCy0lLcXw0pCwICmPoCGaGMUxY9RR0QQw+FjMqDsXaly5m5lknJmF+KS8ei8hGv2Ye3wkuvEk35zkPD75nN/5SYY9OvSGakz1MmazFWPNPvR79rK7QsdPO37+mh07y7/J92s7d+0Wa1L/wDB9qUMkEkkSySRd0RiRSCehUJiOUJhAsB2/P0Brqxens4UWl5tmp5Mmux3bgQM0NtrYv78RWbZischIk5MTTEyMMzY2xpHDhxkYGKC/v59kMkkikSDe00N3d7dIPB4XczAYpLm5GYfjIHa7HavVSn19PWazGWl0dJSRkREGBwdJpfro7e2l5zMkEAjganHicNhxu1po9Xhwu13IsoU6k4kao4Eao5GGhgbq6uqoNZmQhoeHGRoaElaakQaKxWIEgwHSU8e4NH+Tsxev8cuFq5w+d5lTv/7GybMXOX76HCfOnOfQ4BEMhr2YTCaqq6uRNDMtmlk0GqWrq4toLEZTUxN37t7jR+P3P+5QUVFBVVUVer0eqa/v0zM1s0gkQigUoqOjA5vNxu3bt4D3vM1m2N54g7L6QmRr7SXvlBWxt7i4QFlZGTqdToAlUfh4/CvI5/Ph83lFkW/cuAkfXrH69D6Zfx+x+t9D1v9/THb5CStPH8D2KxavX6e0tJTy8nIBlr48U4O1tbXhdrtxuVzU1taytLQkLDLLf7Py7E8yy3+x9vIftjdeo6w+B96ysLBAYWEhJSUlFBcXI3V2dhIOh4WZ0+kU7aC1gtFoFIe1kVlbZzOrsrGpsL6RRVG3yCqq2Jubu0JBQYGAFRUVIbW3twuYZuVwOETtZFmmsrKS+fl5cUlRFDbVLTYVFVVRUFQVVf0CnCMvL09YamDJ6/Xi8XiEmfazWpNaLBYMBgOpVIrZ2VlmZmaYOjpDenKK8fFx0um0mKenp/H7/eTm5pKfn09OTg4fAYVkP1NOE9RbAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/587233c17cdcd0c398679bf624942e86/fcda8/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png\"\n        srcset=\"/static/587233c17cdcd0c398679bf624942e86/12f09/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png 148w,\n/static/587233c17cdcd0c398679bf624942e86/e4a3f/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png 295w,\n/static/587233c17cdcd0c398679bf624942e86/fcda8/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png 590w,\n/static/587233c17cdcd0c398679bf624942e86/efc66/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png 885w,\n/static/587233c17cdcd0c398679bf624942e86/c83ae/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png 1180w,\n/static/587233c17cdcd0c398679bf624942e86/c8252/1689766179330-6c904ac0-0346-4e6e-8405-ec542128f6a9.png 2178w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Keycloak 内置的邮箱验证功能，可以在 Keycloak 的 Realm 设置中启用并配置它。启用邮箱验证后，当用户注册或更新邮箱地址时，Keycloak 将发送一封验证邮件给用户，要求用户验证其邮箱地址。 在 Keycloak 的邮箱验证功能中，你可以配置验证邮件的内容、验证链接的有效期等。Keycloak 会生成一个唯一的验证令牌，并将该令牌包含在验证链接中。当用户点击验证链接时，Keycloak 会验证令牌的有效性，并将用户的邮箱地址标记为已验证。 我的配置和今天试验阿里云登录的邮件如下：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/04fa06b25b7dfec2937453406208fd6e/9b29b/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHUlEQVR42p2SXW/TMBSG8yeYxNS0Sb/Wr/QTNjHBRSeBhvi744JrbkcltK5tkq5F2iQ6aYO0sX3s2DlGTaeNFm3VePTq3D0+Psc2MrZdKJV3X+6+2NlJp9OWZZmPkDJNK5PO57K5hG63a5Rr9VyxZFrZitM4Ofnc6/U8z/N9f+wvGY/H93V6MT49875+G3ie67rudDo1nNarYsUx7UKt2fZ8XylFKSUMKHAABgCMrSpwDiGFXySiQiGi1tqoNdplp5GyctVGezgaAeeUUuCCc87uAEopY4wQwigFRimlnHNENJqd/XypmrLyiexiQhwrKeXq+Ccwas1OtlhOWblKvTUcjTSiiKLFYkEIiaSMEf/OxnFGtdHeqzh2odTs7J/1+wAghAiCgDKmlMJ1NjsfHX/qvj9+/ebt0YePI9eFhEUYCiFQ6y1y5+Dw4PBdOluoNtpn/T5jTAiRbJgDcKnU2rU35GLFKTtN085X6q2LyURrreIHtnROZwuZXHElT6Y/tNbxtiU/yFZ+zy6UTHv5VOeDYRiGN7dLpJTPk4cjV2stpQzmc8651hrX84Tccj1vObNSAHy5oXg9/77z+rUHGmOI8OfshoSLZ8+sIn5L1PnVgjIQSnOJXMZJxUjpGB+R77ctUbuz8HQ861/+9q+JNyPe9TKXQcQlbpEDJr9fARMxEUokPVV8F9zaeTaPvgxCiJCIOFIYKdw+8398kj83e53cWJeM2gAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/04fa06b25b7dfec2937453406208fd6e/fcda8/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png\"\n        srcset=\"/static/04fa06b25b7dfec2937453406208fd6e/12f09/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png 148w,\n/static/04fa06b25b7dfec2937453406208fd6e/e4a3f/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png 295w,\n/static/04fa06b25b7dfec2937453406208fd6e/fcda8/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png 590w,\n/static/04fa06b25b7dfec2937453406208fd6e/efc66/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png 885w,\n/static/04fa06b25b7dfec2937453406208fd6e/c83ae/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png 1180w,\n/static/04fa06b25b7dfec2937453406208fd6e/9b29b/1689766422855-5584d9a8-b6b8-4179-ab22-98ec0328f373.png 3840w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b147ce6eb05e3cbf34185d57dbb08ec4/74dae/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmUlEQVR42oXO2wrDIAwGYJ9mnhLNQVelBfv+TzVaWSm92L4LiSQkvxlj1Fq993DAEIK/CaereHRNraX3tm1ra+9SNKUcY4SvWccbRGRmIkJEQ7QQLcw955aSzIaqMrOIzHd+mVlVRWRuCSEYolVkiOwiu2oHOE494j04567Y2vpyZpZay3lGc87XxA8GACMgAL5urLXuH2vtBxfFPxMD+TnvAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b147ce6eb05e3cbf34185d57dbb08ec4/fcda8/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png\"\n        srcset=\"/static/b147ce6eb05e3cbf34185d57dbb08ec4/12f09/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png 148w,\n/static/b147ce6eb05e3cbf34185d57dbb08ec4/e4a3f/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png 295w,\n/static/b147ce6eb05e3cbf34185d57dbb08ec4/fcda8/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png 590w,\n/static/b147ce6eb05e3cbf34185d57dbb08ec4/efc66/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png 885w,\n/static/b147ce6eb05e3cbf34185d57dbb08ec4/c83ae/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png 1180w,\n/static/b147ce6eb05e3cbf34185d57dbb08ec4/74dae/1689766253208-acbc4396-7953-4ae1-b1ca-c03d99a6b695.png 2494w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=doYZc></a></p>\n<h1>了解更多</h1>\n<p>欢迎旁听 <a href=\"https://www.zhihu.com/consult/conversation/1664729447017107456/graphic-chat\">https://www.zhihu.com/consult/conversation/1664729447017107456/graphic-chat</a> 了解更多细节。</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}