{"componentChunkName":"component---src-templates-post-js","path":"/posts/wg2o9o/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/wg2o9o","relativePath":"posts/wg2o9o","frontmatter":{"title":"使用 tplant 快速概览代码的领域模型","stackbit_url_path":"posts/wg2o9o","date":"2021-07-14T12:31:30","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a name=hImbC></a></p>\n<h1>接地气的 DDD</h1>\n<p>看到技术雷达发表的《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》文章，非常开心，因为它使用了 TypeScript 来做落地说明，这是一个非常接地气的 DDD。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a9936e8ea54c37fbdee4d29a3f929273/65c7b/1626260360282-d973c0bf-a020-4e77-83b4-08eb2fad6275.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAACjElEQVR42qVV2W7TQBT1T/IpfAHiG5B4gDd4QaiAKIiyqYgCERWKhNomQKomdtw43pfxMstBc51xkza0iRjpaKw7M+fu15Y78+C453Cm7gqiOEHBSuQF2wyMISsYrDhOcHIyhJQSl5dSamMACmGmYAkhUJYloihCEATwPA/j8Rh5nhOpVrQpKRcKlrFmMplgNBohSRKEYYi6rlesBFnRLqkkQS3JzJdlHjmOg+l0in8ttbgnLoXGkBrF1rKW7gAKn3oHeLr7DC/2XuHluz282f+Iw+MjeFmB+193cPvDc+wOJwuLVUdsXU6Acennn2N8/vENX/rfcdA/xMAZY+R7mIQR7r5/gFs7D/H46HQ9IbkiJMEcateEjhUUoeEcjRALSIJxX60j1DXHWKX1YZu1kpjlGOaVQtkojH2Js7nExJdgtQn4uiSptfVqtTEAekOBt32O3i+BpFCIc4G6aUtD1+IyxGLnQkBKdZWw5gr3XnPceSLxaJ/TpaJgSLMCVd1QKLKcEQpWkVzLgjAB52LF8s7lpmZwpzaUbFYKdflr3WJlqyzNGXTXdYR13SAIQpRltVUPN1yQN1mWUSi6LGs3q5ojTgsi32w4tBXB8gyB77WExkJtbhDMwfJkbTlcD5Ax5PLyY3vqYTAYwrZt6mvG2MbTxty7iGFVwY8qNOLmRFxX5B2hYzsYDgZwHBvBfEbzME1TCnZRFAQtM7uW61Gn56h7PkMQRmRl67JsSV3XpTFmZqKGfmCI4zimM71rue/7mM1mmPs+KVrpZarFhlOGk7T4H5fb1J96J+j/7qHMMurTbUa/NkR3D+8KWwGNqjCenmE0OoUQ/Erp3GQZ9bfp5QuXBWnZ9o9n/nra5b+KT06+u81o4wAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/a9936e8ea54c37fbdee4d29a3f929273/fcda8/1626260360282-d973c0bf-a020-4e77-83b4-08eb2fad6275.png\"\n        srcset=\"/static/a9936e8ea54c37fbdee4d29a3f929273/12f09/1626260360282-d973c0bf-a020-4e77-83b4-08eb2fad6275.png 148w,\n/static/a9936e8ea54c37fbdee4d29a3f929273/e4a3f/1626260360282-d973c0bf-a020-4e77-83b4-08eb2fad6275.png 295w,\n/static/a9936e8ea54c37fbdee4d29a3f929273/fcda8/1626260360282-d973c0bf-a020-4e77-83b4-08eb2fad6275.png 590w,\n/static/a9936e8ea54c37fbdee4d29a3f929273/65c7b/1626260360282-d973c0bf-a020-4e77-83b4-08eb2fad6275.png 795w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br />有不接地气的 DDD 吗？参考《领域驱动设计》这本书和相关（主观的）评价：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8fd31ccf4f1dd32722ca292431e96acf/d9199/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 216.89189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/8fd31ccf4f1dd32722ca292431e96acf/fcda8/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png\"\n        srcset=\"/static/8fd31ccf4f1dd32722ca292431e96acf/12f09/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png 148w,\n/static/8fd31ccf4f1dd32722ca292431e96acf/e4a3f/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png 295w,\n/static/8fd31ccf4f1dd32722ca292431e96acf/fcda8/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png 590w,\n/static/8fd31ccf4f1dd32722ca292431e96acf/efc66/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png 885w,\n/static/8fd31ccf4f1dd32722ca292431e96acf/d9199/1626261980697-99a75daa-6c8b-4dfa-bb5e-6ec9f71fdcbe.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b680c0f78f8de8d6ff70aa81c1491534/d9199/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 216.89189189189187%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFA0lEQVR42sVXW3PTRhj1T+p7n/rQf9HHvvWhf6MzfeswZYZpSzNlGkrIFAolYWgggUAIOE58ieVLfJMtWbbu0q4kO4bT2U+Wo8Q2IfShD2dWu9Ief7f9zjoTRgwxfAShj1BgOr8aYp6MIAkCjxBOnzl3YwQuguDi6C1H6E8Jp1aJTaMxx+kkwrv3Y4xPQ4zGwQxiHo04kj0ziL3T54xgjiIO2zPx3fcryB6UUJaOsL2zhWqtjI7cQLNVh9xtoVYvw7QGM9KzcDFwZoNzRxDGLzzu4tbqJqRKHWpfxkmjCm2gwDAHMK0hjWLu+XbsTcozIpyGZeZyNGIARjidhBifRpi8G825LJCQJUSzcM1cTsWCTwN7GdIEZ/NFSbnwnI7RMiy18Cok/w/hh/GB2KaIzxGK2hIFnQZldRwhnIwRjoLz1on1VD2mCttHFDE4ron6SYXqTxRytVqG3OvA0xrw5SJcS4PHXHi+QwXsa3Vwd4gwOn9yYsIRp+ItFA9Rlopotxuo1coYGENEWhXhySsEjgbHs2E7Jhiz4akSuKPNrFwYw1b7BKraRbGUh6LK6HZbkOoVSCd15I5ydM7JvQ+6PG1ZoqjfvH2Nvdcvsbb2B1n7am8Xd+6s4t69days3KTTI7wRsRVhSp4XEjLuQjc0Oq9iFCEQELEVo9rv0noC2zHonWFq8y5Tc/BtHJeLkLtN9JQOuTwYqtQoxFx0nrJUQPbgNaq1Y0qcSODO861Uw/DOCF3PQuk4D6lSog2SVKSsi/VKtYT6iYR2p0Ek+UIO+cIBdSDh8lILRYZF3xObWu06Gs0ahnqfkiXmitIha5Pysmx9ruFOY8goKeJjnznnCzti1MbSrWwyfb/06FGWQ48Sw6iFJR+wc+09Xmdzx25pcwgFGXfAmUMjCZMQKxafjhjxWhAk8BYRMgTchW8oCFwDgWeC2QN4eg+Ro+HU1zH2hhi5A5oLcFOBr3fh6z3aOx9DboNZfajtKgZyHYFvIeQucnvbeLr5ALtPN7G38wRH+y9Qyu1BbUnwhjIhEB7NEzpglgalloVafQtT62AyjvDo/hpuXL+GGz/+gD/XVrF++xZu/3YTteIBAlOJCfkiQmaTmywag3GOwB2AmT08/2cDT/6+h2ePH2D/xRY2H6zj/t1VVAtZuAOZ3OYXLUxuD96gAUurQm0XYMo5MEOGoTRhaW2YaotCYapN6EqD1gWZN+zOWxgnxYGny7BEXBwdpmVBOtqH3q0Tkdapod+pYtitU5z1XgOMCBfEMLbQhW/1Y7dtjTIurOF2H8xUwa3zYJYK3+jBN5W4fJaJVKwf8cVJiP9VdTpz8UqxSNE+Vv2WCv1VcSnhf9JlITiMWVSLn2rlR8fwqpYSIV2D+Vnn4HPX3Esw3cOnDSKT3AKCcdwwSdGEmiWKdom7yVV5NA5Tl3ajhchowGc2tXzR2oXSCXUjiy/Gduamh15LQqdRhtKp0S02ExgdrH37JX7/5gs0s0/w88qvuH79Gn65+RM2Nh6mLA5mMhDHnNMNIvfyMbK7G8i+2KR5xh+0cPfrz/HXV59BL+1i//AA28+2kM8folIpI184JHVrtmo4PMqSzMaJiAkPdjexv/0Qb3YexYTi1/RGHm49Sy3McgwScds2YFo6abOQUiHqicAnf46Ei722BLlxDKVdjXWZEvHuFNH7CX0k3EsjcTn9nC61SCjhNCkitv8Ce+i1CxISBEgAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/b680c0f78f8de8d6ff70aa81c1491534/fcda8/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png\"\n        srcset=\"/static/b680c0f78f8de8d6ff70aa81c1491534/12f09/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png 148w,\n/static/b680c0f78f8de8d6ff70aa81c1491534/e4a3f/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png 295w,\n/static/b680c0f78f8de8d6ff70aa81c1491534/fcda8/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png 590w,\n/static/b680c0f78f8de8d6ff70aa81c1491534/efc66/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png 885w,\n/static/b680c0f78f8de8d6ff70aa81c1491534/d9199/1626262001643-f55b9ebe-bd63-4ea9-aa0a-b0d3d75b0db7.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>为什么说《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》就非常接地气了呢？因为采用了 TypeScript。TypeScript 是 JavaScript 语言的超集，既有 JavaScript 所有的好处，又避免了 JavaScript 饱受诟病的动态类型带来的问题。JavaScript 是很强大的，借浏览器这个宿主打遍天下无敌手，又借 NodeJs 渗透到服务器端。如果一定要纠结学习编程从哪门语言开始的话，那么当然是从学习 JavaScript 开始，没有第二种更好的选择。</p>\n<p>TypeScript  基于 JavaScript 构建了类型系统，而《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》则很好地演示了如何通过 TypeScript 的类型系统来设计领域模型。就是说，通过 TypeScript 的类型系统，实现了<strong>代码和领域模型的等价</strong>，不仅能够用它在敏捷开发过程中进行沟通，而且保证跑着的系统真的就是使用了这样的领域模型，也就是说，把<strong>领域驱动设计</strong>落了地。</p>\n<p>如果只设计，不落地，那其实就是在吹牛嘛，不能当真的。多少团队画出的设计图和实际代码天差地别的？我想有经验的程序员心理都清楚。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7ff3539b02ec44edd9686453daf12d76/d9199/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 178.3783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE9ElEQVR42qVWS28bVRSemJQSo6rdIkAgkBBC4iewYYNQNtAfgECqKrHsj2ANYgFSJGhVVQjBgkKbBKdpE9tJa3tiO/Zkxq/xeGbi1zixPY4dv5L0Q+c4Y/xIo0KvdHznHp/73fO69xzBtm1UKhVYVgXlchm1Wh31egP1uo16rYF6zR58M9WHVKvZsO0DWNYe8vk8TNPkvUK1WoUoivD5fAgGg9jb20O1WsP+vkPVCRrwSKZYLENRkvB6fbhz5w6KxSIEOo20rNVqIHAiZwPNY1rVibePanWf5ehw2kf76X/iCcSgP8ikAdj+UEMyIZ8vwjB2sbtbQKFQZN7gwH/JsiwUCgXeK5RKJaTTadh2gxkDqrJfDw6aWFxcwq1bt7Gw8BMWF5dxeNhGpTKQGShS5/0ej4fXgmOuo/YgKDZrSY4np5dKZdaUAjeQs08DN3AXKUH+o7WAc8bTp0+ZRsfJyckUOTL0LRiqjM2/f4ey5UVSScDrD6JQtJBI5XB0dDQUdMDPIxpC8LEXC9//iF9v/wZVMxEUJeSMEjaDMfR6ffyXQaBCJJ7Cz3dFrK7nYJUr0DQV0UgUmpZFxbIQjUY5T1dXV5HL5RAKhbCxsQG/389zPB7nKA8B+/0jtDtdWrFTHz16xBQMiYhtxyCKW3jy5AnC4Qi2trY4+SkznGA0m030ej12C5s8qvLh4SEkSUIqlUIupyOb1ZjS6QwMw2B+IpFAo9F4tsn0c3yKnslkcOPGDVy/fp2Jvh1zJsdZgRpqeHx8zIu1tXW4L74CQRCY3HNzrLEjM5kmZ6XVGODKigdu96t486138Nrrb+DylStDwFGNzhtjgMtLS3j73ffwzbc38d3CL3j/gw8RDoeHgM8zxgAfPHgAl+slfDJ/FR99/CkuXboMSYr/f0DKNfKdy+Xi+eLFl7Gzs/PigBdmLzDo3NzciwPOzMxg9sIsZlwuuN3u5wIcTZ3xKHs8rOGsMDNMHbpaozJnvURTgM7pse1tzM/P4+uvruHaF1/is6ufQ9f1cxP5zDw864+jEY0YYEKTUVB65qgC0iyMghGDLnu308Fhq4let3PmYZOD9h0ctNgtwqQPWq029qo2zLwFY7eM+unJ9KI8i/r9PsuMATp+ojqim0WEt5OISRkUihXWuNPpoNvtot1u86tE8ygRj4DHAOmEtGpiK6IgmTG4k1AUGVa5jFxOg9/v4xeJ5DunhxCYM08B0pzV8sioJnSjBFlOIKNmoJt5xCUFiWQGum7wk0aVstVqPVtDx+8xKQ1ztwRNL2Jl5SECgSCisRSi8TR004Km5RAIBDg/CZB8R0COL6dM1vQCIrE05IQOSVIQDkfRbPWhGxbikgpN0yHLO1xbCJjKgyzL/CrRAVNRzmoGItsSEsk0QiERS0vLiEQleFbWkUpp3KLk8yWYZp5rC/nZ6ThIy6koU6EyzV2oahapVBqKkkAymYYkyahUquj32jjq1tHrNMb8SHVmLLEd0NiOyj67t7SGm7duw7vugxhNwvd4GzE5By0Zguz7ATHvTdy9+we3gaqqckUcXr1RDcVwBCExgvv3lrHp80PXstzLBIIh9tfjjU0kFQViMICQOOCtra1xNRw+DqMaUt39869FeDwPuTkik+g6UndGrRuZSR1Ys9nib6evpDo9ZTIRbaa2jNo1SgOKvHOtnKo3uSZy1v8Af+VDa8kVxS4AAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/7ff3539b02ec44edd9686453daf12d76/fcda8/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png\"\n        srcset=\"/static/7ff3539b02ec44edd9686453daf12d76/12f09/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png 148w,\n/static/7ff3539b02ec44edd9686453daf12d76/e4a3f/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png 295w,\n/static/7ff3539b02ec44edd9686453daf12d76/fcda8/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png 590w,\n/static/7ff3539b02ec44edd9686453daf12d76/efc66/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png 885w,\n/static/7ff3539b02ec44edd9686453daf12d76/d9199/1626263737369-9f1ea8a9-00df-4db9-bff8-67b398e25af1.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=kwpc5></a></p>\n<h1>到底什么是设计？</h1>\n<p>很多人倾向所谓的设计先行，写代码前先写设计文档，画图。这里隐含的意思是，代码是实现，而不是设计。但是《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》纠正了这一观点：<strong>代码才是设计</strong>。</p>\n<p><a name=ejm6M></a></p>\n<h2>代码=设计=模型=文档</h2>\n<blockquote>\n<p>实际上代码比较擅长表达设计内容，从本质上讲，源代码是一个文档，可以完美地描述产品的每个当前设计决策。</p>\n</blockquote>\n<p>代码是真正的设计，其他只是 PPT。但是《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》也说了，虽然代码是设计，但是领域专家可不一定能读懂代码（虽然 TypeScript 的语法简单易学，但是我估计多数领域专家甚至某些 Java 程序员，是从本能上排斥的），这制约了<strong>代码=模型</strong>这样的等式，存在鸿沟。这也是为什么统一建模语言（UML）大行其道的原因，它是一门表达软件产品的图形化语言。</p>\n<p>既然 UML 是沟通利器，然而容易和代码脱节，正如作者说的：</p>\n<blockquote>\n<p>我还记得我的第一份工作，每当有代码或者设计改动时，都要去更新UML类图以及数据库设计文档。这些文档大概充当着共享模型的作用，但是最终这些设计类图和文档都慢慢变得不可信，因为没有任何手段保证文档会被及时跟新。</p>\n</blockquote>\n<p><a name=CFRty></a></p>\n<h1>终极解决方案</h1>\n<p>UML 是一种视图。就像任何编程语言，其实本质上只是二进制指令的一种高级视图。既然最终运行的软件跑的是二进制指令，而我们可以用高级语言去查看，那么同样我们也可以把源代码已一种图形化的方式去查看。也就是说，将人工绘制 UML 图，变成自动生成，那么就不存在代码和 UML 图脱节的问题了。想用 UML 视图查看源代码哪个版本，就基于该版本生成一份 UML 图就好。</p>\n<p><a name=vmm9W></a></p>\n<h2>tplant</h2>\n<p>如果我们使用 TypeScript 来做开发，那么已经有开源工具可以自动从 TypeScript 代码生成 UML 图了，这个工具就是本人参与开发的 tplant！</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/470f99f762aeda7daf7fa6846c502efa/e51a6/1626264833396-17bda686-ae76-4913-9bf3-01093fbdcdce.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 105.40540540540542%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADAklEQVR42o1V2Y7bOBDUZyyQ7GY81kWKFHXfl6+xZ5zNBEkQBEkwD/s1+9e16JbtOFlMMA8FUg2q2F1dall1M6BuR5R1jzgp0LQD8qJGFGcITQLHlXBc8QskbEfAE5pxa/u4XbqwHR+Wr2JIk0PFJSMwOWSYQeiU4QXxs+jGLepuQtlNcIIISy+E5UoDWxiESQ0dVxxcOAFuXXWC/glLT3PckRH2+zts+hqfv32FzFos/QhW1Y4I0wbd+h5R3vELL4IfwhYR3CDG0g2wcBXHrapsmLBf38PQLS8gowxtP0TVTiiaCVF9gHeKW64wfIuKZg2JNCl6JGV/efkaFCNJhErw/dN77A6PePznX3xJEtiegkWH4qLDuH2Lol0jLnqk1YA47xhpNXKMztCemnFjB/BVgvvDAVlZogwMnkyA166GRTfKMEeUt9zdl5bMe1fhxtdoRIAnLfCHcyLUSYVxe4QIMy7nRRoKg6LbIOq2aMIYn43CK7INHQiiAkk5/E+v34G6rJsNzOoBU7fGl7rCIkxOGcYV6yd0NiOc4euUtfKCK6iEPbj0FJKiQtbvMGUVHgKJV46CZfuaD0XU2WpkL2bNClk9ccdFmEOT6a9Amp9Lf72UKH2JSQb4073SMG9WXDYRnTtLz9Tx5+xjexpvXI1eKhRC8X7W0MwaUna0zjaZkRTdpVxfpSyDK+ML4V/u3GXfU1hcCKMS093fqPodhs2RP8PV/hGrw3us1vcYNg+Y9u8w7t6yX9vpMGftabiewiQlUj/4QRjGBbpxg7pboenXaPoV6n7e5/UAHeXQcQ5lUobUyYWQMitFAHMmpG/SEYbHFo0rEpwMTrpSzGb9fkyf5ZWGZ21JuxueROqUYdqg6rdsnbLbsHYLR7LJb5yA119xMTqTz7g9l0yeIxKyCTWG1nlYVNCm4KxJ53NMXH2i19ny+Dobe314RDPuuTkk/PbhA3bHj9hSIzZHTHfvMGyPjHba/55QmQxlMyCvup9Q0H8mryHoN6FjCBUxPGmeJfwPDMSMiEBV20UAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/470f99f762aeda7daf7fa6846c502efa/fcda8/1626264833396-17bda686-ae76-4913-9bf3-01093fbdcdce.png\"\n        srcset=\"/static/470f99f762aeda7daf7fa6846c502efa/12f09/1626264833396-17bda686-ae76-4913-9bf3-01093fbdcdce.png 148w,\n/static/470f99f762aeda7daf7fa6846c502efa/e4a3f/1626264833396-17bda686-ae76-4913-9bf3-01093fbdcdce.png 295w,\n/static/470f99f762aeda7daf7fa6846c502efa/fcda8/1626264833396-17bda686-ae76-4913-9bf3-01093fbdcdce.png 590w,\n/static/470f99f762aeda7daf7fa6846c502efa/e51a6/1626264833396-17bda686-ae76-4913-9bf3-01093fbdcdce.png 783w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=rPOTa></a></p>\n<h3>使用录屏</h3>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2021/gif/221736/1626265392155-bdcfac7c-afae-49b3-aac9-4d8da3f22ea8.gif#clientId=uca78bb18-1316-4&#x26;from=ui&#x26;id=u766e60c7&#x26;originHeight=422&#x26;originWidth=600&#x26;originalType=binary%E2%88%B6=1&#x26;size=9037162&#x26;status=done&#x26;style=none&#x26;taskId=uac47f979-5597-46d5-a75a-23d7dc073f1\" alt=\"ezgif-6-2c40c759e0f7.gif\"></p>\n<p><a name=r2x7y></a></p>\n<h3>文字版使用说明</h3>\n<p>shell\nnpm install --global tplant\ncd your-typescript-project-folder\ntplant --input src/**/*.ts --output output.svg\nopen output.svg</p>\n<p><a name=tuNI4></a></p>\n<h1>总结</h1>\n<p>尽管《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》使用了 TypeScript 将 DDD 落地，但是在和不愿意看代码的人之间仍然存在沟通鸿沟。本文厚着脸皮推荐了自己参与开发的一个开源工具 tplant，将 TypeScript 自动转成 UML，弥补了《<a href=\"https://zhuanlan.zhihu.com/p/388845844\">使用函数式语言建立领域模型</a>》唯一的缺憾。</p>\n<p>如果有人说连 UML 都不愿意看，说只想看 PPT，那么请他自行开发一个将代码转成 PPT 的工具吧。总之，不要相信 PPT，一切文档都应该基于代码生成。</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}