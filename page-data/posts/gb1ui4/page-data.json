{"componentChunkName":"component---src-templates-post-js","path":"/posts/gb1ui4/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/gb1ui4","relativePath":"posts/gb1ui4","frontmatter":{"title":"å¼ºè¡Œåœ¨ TypeScript é‡Œåº”ç”¨ C# çš„ partial class","stackbit_url_path":"posts/gb1ui4","date":"2022-09-05T03:31:02","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p>è¿™ç®—æ˜¯ TypeScript çš„å¥‡æŠ€æ·«å·§å—ï¼Ÿç®—æ˜¯å§ï¼Œæœ‰ä»€ä¹ˆä»·å€¼ï¼Ÿä¸ºäº†å°è¯å±å±±æ˜¯é¦™çš„è¿™ä¸€è¯´æ³•ï¼Œå¿…é¡»è¦åº”ç”¨è¿™äº›å·¥ç¨‹æŠ€å·§ã€‚æ€»ä¹‹ï¼Œæ— è®ºç¢°åˆ°å¤šä¹ˆé«˜çš„å±å±±ï¼Œéƒ½åº”è¯¥éµå®ˆå¼€é—­åŸåˆ™å»æ‰©å±•ï¼Œè€Œä¸åº”è¯¥æ¨å€’é‡å†™ã€‚</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/522752605\">å±å±±å¹¶ä¸å¯æ€•</a></p>\n<p>ä¸Šæ¬¡åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åº”ç”¨äº†ä¸€ç§å¥‡æ€ªçš„ä½œæ³•ï¼Œå¯¹ä¸€ä¸ªè€é¡¹ç›®è¿›è¡Œæ‰©å±•ï¼šå‘ç°ä¸€äº›ä¸åŒçš„ç±»ä¹‹é—´æœ‰æŸäº›å…±åŒçš„ç‰¹ç‚¹ï¼Œä¸ºäº†ä¸æ”¹å·²æœ‰ä»£ç ï¼Œå°±é€šè¿‡åœ¨æ–°çš„æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•æ¥å®ç°å¯¹ä¸åŒç±»çš„é€šç”¨æ‰©å±•ã€‚ç›®å‰å·²ç»ä¸Šçº¿ä¸€å¹´å¤šäº†ï¼Œä»åœ¨å¹³ç¨³è¿è¡Œï¼š<br /><a href=\"https://zhuanlan.zhihu.com/p/375831222\">TypeScript å®ç°å¯¹ä¸åŒç±»çš„é€šç”¨æ‰©å±•</a><br />\n<a name=rVxPS></a></p>\n<h1>éœ€æ±‚</h1>\n<p>è¿˜æ˜¯è¿™ç§è€é¡¹ç›®ï¼Œå®ƒå¤§é‡ä½¿ç”¨äº† AWS DynamoDBï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªåº“å°è£…äº†å¯¹ DynamoDB çš„å¸¸ç”¨æ“ä½œï¼Œæ¯”å¦‚å¢åˆ æ”¹æŸ¥ç­‰ç­‰ã€‚é¡¹ç›®ä¸­å„ç§å…¶ä»–çš„ç±»ï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ªè¿™ä¸ª åº“çš„ BaseDynamoDbServiceã€‚ç„¶è€Œï¼Œåœ¨æœ€è¿‘çš„ä¸€ä¸ªéœ€æ±‚ä¸­ï¼Œå¾—åˆ é™¤å·²æœ‰è¡¨ä¸­çš„ä¸»é”®å¯¹åº”çš„æ‰€æœ‰è®°å½•ï¼Œä½†è¿™ä¸ªæ–¹æ³•åœ¨åº“ä¸­æ²¡æœ‰ã€‚å†™è¿™ä¸ªæ–¹æ³•æœ¬èº«ä¸éš¾ï¼Œä»¤äººçº ç»“çš„æ˜¯æ”¾åœ¨å“ªä¸ªåœ°æ–¹ï¼Ÿæƒ³æ¥æƒ³å»ï¼Œè¿˜æ˜¯è§‰å¾—æ”¾åœ¨ BaseDynamoDbService ä¸­æœ€è‡ªç„¶ï¼Œçº ç»“æ˜¯å› ä¸ºè¿™ä¸ª BaseDynamoDbService æ–‡ä»¶åœ¨åº“ä¸­ã€‚</p>\n<p>æˆ‘æƒ³èµ· C# ä¸­çš„ partial classï¼Œå®ƒæ”¯æŒå°†åŒä¸€ä¸ªç±»çš„ä¸åŒæ–¹æ³•åˆ†æ•£å­˜å‚¨åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œæ®è¯´ TypeScript å€Ÿé‰´äº†å¾ˆå¤š C# çš„è®¾è®¡ï¼Œé‚£ä¹ˆ TypeScript æœ‰æ²¡æœ‰å¯¹ partial class çš„æ”¯æŒå‘¢ï¼Ÿç„¶è€Œï¼Œç›®å‰è¿˜æ²¡æœ‰åŸç”Ÿçš„æ”¯æŒã€‚</p>\n<p><a name=LISCI></a></p>\n<h2>åˆ†æ</h2>\n<p>æ—¢ç„¶æ²¡æœ‰åŸç”Ÿæ”¯æŒï¼Œå°±åªèƒ½å¦è¾Ÿè¹Šå¾„äº†ã€‚TypeScript æœ¬è´¨ä¸Šè¿˜æ˜¯ JavaScriptï¼Œè€Œ JavaScript æ˜¯éå¸¸çµæ´»çš„ã€‚åˆ«è¯´è¦æ‰©å±•åº“ä¸­çš„ç±»ï¼Œå°±æ˜¯è¦æ‰©å±•è¯­è¨€ä¸­å†…ç½®çš„ç±»ï¼Œä¹Ÿæ˜¯éå¸¸å®¹æ˜“çš„ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ prototypeã€‚è¦ç»™å“ªä¸ªç±»æ‰©å±•æ–°æ–¹æ³•ï¼Œåªéœ€è¦æŠŠè¯¥æ–¹æ³•å†™åœ¨è¯¥ç±»çš„ prototype ä¸Šå³å¯ã€‚è¦ç”¨åœ¨ TypeScript å½“ä¸­ï¼Œå¹¶è·å¾—ç±»å‹æ”¯æŒå’Œæ™ºèƒ½æç¤ºçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ interfaceã€‚\n<a name=wEKXo></a></p>\n<h1>è§£å†³æ–¹æ¡ˆ</h1>\n<p>ä¸ºäº†ä¸ä¿®æ”¹åº“ä»£ç ï¼Œä½†æ˜¯åˆè¦ç»™é¡¹ç›®ä¸­ä¼—å¤šç»§æ‰¿äº† BaseDynamoDbService çš„ç±»èµ‹äºˆæ–°çš„æ–¹æ³•ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚å«åš base.service.tsï¼Œç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå®ç°å¯¹ BaseDynamoDbService çš„æ‰©å±•ã€‚å…ˆå°†åº“ä¸­çš„ BaseDynamoDbService å¯¼å…¥ï¼Œç„¶åä»¥åº“çš„åç§°å£°æ˜ä¸€ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨è¿™ä¸ªæ¨¡å—ä¸‹å®šä¹‰ä¸€ä¸ªå’Œ BaseDynamoDbService åŒåçš„æ¥å£ã€‚åœ¨è¿™ä¸ªæ¥å£é‡Œï¼Œå£°æ˜ä¸€ä¸‹è¦æ‰©å±•çš„æ–¹æ³•ã€‚æœ€åï¼Œé€šè¿‡ prototype çš„å½¢å¼ï¼Œå»å®ç°è¿™äº›æ–°çš„æ–¹æ³•ã€‚</p>\n<p>æœ€åçš„æ‰©å±•æ–‡ä»¶å†…å®¹ç»“æ„å¦‚ä¸‹ï¼š</p>\n<p>typescript\nimport { BaseDynamoDbService } from @/common/base</p>\n<p>declare module @/common/base {\nexport interface BaseDynamoDbService {\nnewMethod(param)\n}\n}</p>\n<p>BaseDynamoDbService.prototype.newMethod = function(param) {\n}</p>\n<p><a name=tZMpx></a></p>\n<h1>å…·ä½“ä»£ç æ”¹åŠ¨</h1>\n<p>å¯¹äºè¿™ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæˆ‘ä»¬è¦å®ç°æ ¹æ®ä¸»é”®æœç´¢å‡ºæ¥çš„æ‰€æœ‰è®°å½•ï¼Œå¹¶ä¸”å°†å®ƒä»¬å…¨éƒ¨åˆ é™¤çš„åŠŸèƒ½ã€‚</p>\n<p><a name=mGFNs></a></p>\n<h2>æµ‹è¯•å…ˆè¡Œ</h2>\n<p>æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ã€‚ä¸ºäº†æ›´é€šç”¨ï¼Œå‡†å¤‡å…ˆæ‰©å±•ä¸€ä¸ªæ–¹æ³•ï¼Œä» DynamoDb Table çš„ AttributeMap å¯¹è±¡ä¸­è·å–ä¸»é”®ä¿¡æ¯ï¼Œä»è€Œä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š Keyï¼Œå‡†å¤‡ç»™è¿™ä¸ªæ–¹æ³•èµ·åå« getKeyFromAttributeMapï¼Œå°±å…ˆæ¥æµ‹è¯•è¿™ä¸ªæ–¹æ³•ï¼Œç»™å®šä¸€ä¸ªå‡çš„ DynamoDb Table çš„ AttributeMapï¼ŒéªŒè¯å¯ä»¥æ­£ç¡®è·å–åˆ° Keyã€‚è¿™é‡Œä»¥ä¸€ä¸ªåå­—å«åš PostService çš„æœåŠ¡ä¸ºä¾‹ï¼Œå®ƒæ˜¯ç»§æ‰¿è‡ª BaseDynamoDbService çš„ä¸€ä¸ªå­ç±»ï¼Œå¤§è‡´é•¿è¿™æ ·ï¼š\ntypescript\nimport { AttributeMap, CreateTableInput, ScanInput, UpdateTimeToLiveInput } from aws-sdk/clients/dynamodb</p>\n<p>export class PostService extends BaseDynamoService<Post> {\nconstructor(private readonly awsService: AWSService) {\nsuper(post-table, awsService)\n}</p>\n<p>protected getTableConfig(): Partial<CreateTableInput> {\nconst TableName = this.table\nconst AttributeDefinitions = [\n{\nAttributeName: operationType,\nAttributeType: S,\n},\n{\nAttributeName: postId,\nAttributeType: S,\n},\n]\nconst KeySchema = [\n{\nAttributeName: operationType,\nKeyType: HASH,\n},\n{\nAttributeName: postId,\nKeyType: RANGE,\n},\n]\nreturn { TableName, AttributeDefinitions, KeySchema }\n}\n}</p>\n<p>æ¯ä¸ªè¡¨ï¼Œéƒ½ä¼šå®ç° BaseDynamoDbService çš„ getTableConfig æ–¹æ³•ï¼Œä»¥è·å–ä¸€äº›åŸºæœ¬é…ç½®ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº† KeySchemaã€‚äºæ˜¯æµ‹è¯•ç”¨ä¾‹å°±æ˜¯é€šè¿‡ä¼ å…¥ä¸€ä¸ª AttributeMap å®ä¾‹ï¼ŒæœŸå¾…å¾—åˆ° getTableConfig æŒ‡å®šçš„ KeySchema å®ä¾‹ï¼š</p>\n<p>typescript\ndescribe(PostService, () => {\nconst ps = new PostService(mockedAws)</p>\n<pre><code>it(gets key from attribute map, async () => {\n    const map = {\n        operationType: {\n            S: xyz,\n        },\n        operationId: {\n            S: abc,\n        },\n        scenarioType: {\n            S: def,\n        },\n        postId: {\n            S: fakeId,\n        },\n        memberId: {\n            S: 123,\n        },\n    }\n\n    const key = ps.getKeyFromAttributeMap(map)\n    expect(key).toStrictEqual({\n        operationType: {\n            S: xyz,\n        },\n        postId: {\n            S: fakeId,\n        },\n    })\n\n}\n</code></pre>\n<p>}</p>\n<p><a name=OwRQX></a></p>\n<h2>å¯¹ getKeyFromAttributeMap çš„å®ç°</h2>\n<p>ç›´æ¥æµ‹è¯•è‚¯å®šæ˜¯å¤±è´¥çš„ï¼Œå› ä¸º BaseDynamoDbService é‡Œæ ¹æœ¬æ²¡æœ‰ getKeyFromAttributeMap è¿™ä¸ªæ–¹æ³•ã€‚å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å‡†å¤‡å°†è¿™ä¸ªæ–¹æ³•å®šä¹‰åœ¨ä¸€ä¸ªæ–°æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥è¦è®©æµ‹è¯•é€šè¿‡ï¼Œä¸ä»…éœ€è¦å®šä¹‰å‡ºè¿™ä¸ªæ–¹æ³•ï¼Œè¿˜è¦æ³¨æ„ï¼Œå°† PostService æ–‡ä»¶ä¸­çš„å¯¹ BaseDynamoDbService çš„å¼•ç”¨ï¼Œæ”¹æˆä»è¿™ä¸ªæ–°æ–‡ä»¶ä¸­å¼•ç”¨ã€‚å¥½åœ¨ï¼Œç”±äºæˆ‘ä»¬æ‰©å±•åè¿™ä¸ªåŸºç±»è¿˜æ˜¯åŒä¸€ä¸ªç±»ï¼Œå› æ­¤ä¸éœ€è¦ä¿®æ”¹å…¶ä»–éƒ¨åˆ†ã€‚</p>\n<p>typescript\n// ä»åº“ä¸­å¼•å…¥è¦æ‰©å±•çš„åŸºç±»\nimport { BaseDynamoDbService } from @/common/base</p>\n<p>// ä»¥è¿™ä¸ªåº“åä½œä¸ºæ¨¡å—å\ndeclare module @/common/base {\n// ä»¥åŸºç±»çš„åç§°ä½œä¸ºæ¥å£å\nexport interface BaseDynamoDbService {\n// å£°æ˜æ–°çš„æ‰©å±•æ–¹æ³•\ngetKeyFromAttributeMap(map)\n}\n}</p>\n<p>// ç”¨ Prototype æ–¹å¼å®ç°æ–°çš„æ–¹æ³•\nBaseDynamoService.prototype.getKeyFromAttributeMap = function (map) {\nreturn this.getTableConfig() // ç”±äºæˆ‘ä»¬è¦æ‰©å±•çš„æ˜¯åŒä¸€ä¸ªç±»ï¼Œå¯ä»¥ç›´æ¥ç”¨ this å¼•ç”¨è¯¥ç±»ä¸­çš„å·²æœ‰æ–¹æ³•\n.KeySchema?.map((k) => ({ key: k.AttributeName, value: map[k.AttributeName] }))\n.reduce((prev, next) => {\nprev[next.key] = next.value\nreturn prev\n}, {})\n}</p>\n<p>åœ¨è¿™ä¸ªæµ‹è¯•é€šè¿‡åï¼Œå°±éªŒè¯äº†è¿™ç§æ–¹å¼çš„ç¡®å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p>\n<p>æ¥ä¸‹æ¥å°±å®ç°åˆ é™¤æ‰€æœ‰æŸ¥è¯¢åˆ°çš„ç»“æœéƒ¨åˆ†ï¼Œä»ç„¶å…ˆå†™ç›¸å…³çš„æµ‹è¯•ã€‚</p>\n<p><a name=gD1od></a></p>\n<h2>è¿­ä»£å¯¹ aws dynamodb çš„ mock</h2>\n<p>å…¶å®å‘€ï¼Œçœ‹ä»¥ä¸Šçš„æµ‹è¯•ç”¨ä¾‹éå¸¸ç®€å•ï¼Œä½†å®é™…ä¸Šæœ‰ä¸ªæŒ‘æˆ˜ï¼Œå°±æ˜¯ä»£ç å¯¹ AWS sdk æ˜¯æœ‰ä¾èµ–çš„ï¼Œå…·ä½“åœ°è¯´æ˜¯ä¾èµ– aws sdk ä¸­çš„ dynamodbã€‚ä½†æ˜¯è¿™ä¸ªæŒ‘æˆ˜åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­å·²ç»éƒ¨åˆ†å…‹æœäº†ï¼š</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/555302858\">æ‰«æ¸… Cloud Native å¼€å‘æ—¶çš„ TDD éšœç¢</a></p>\n<p>ä½†æ˜¯ç°åœ¨è¦å†™å…³äºåˆ é™¤å…ƒç´ çš„æµ‹è¯•äº†ï¼Œè¿™æ˜¯ä¹‹å‰æ²¡æœ‰æ¶µç›–åˆ°çš„ï¼Œç°åœ¨éœ€è¦äº†ï¼Œå°±æ¥å…ˆå®Œå–„ä¸€ä¸‹è¿™ä¸ª dynamodb çš„ mockã€‚å®é™…ä¸Šï¼Œå¯¹è¿™ä¸ª mock çš„å®Œå–„ä¹Ÿä¸æ˜¯ä¸€æ­¥åˆ°ä½çš„ï¼Œæ¯”å¦‚åœ¨ç”¨åˆ°äº†åˆ†é¡µæŸ¥è¯¢æ—¶ï¼Œæ‰å¢åŠ  mock ä¸­å¯¹äº query çš„åˆ†é¡µæŸ¥è¯¢æ”¯æŒï¼Œä¸è¿‡ä¸ºäº†çœæ‰è¿™äº›å•°å—¦çš„ç»†èŠ‚ï¼Œè¿™é‡Œç›´æ¥ç»™å‡ºç›¸å¯¹ä¸Šæ¬¡ï¼Œå¯¹è¿™ä¸ª mock åšçš„æ”¹åŠ¨ï¼š</p>\n<p>é¦–å…ˆå¢åŠ äº† deleteItem çš„ mock å®ç°ï¼Œæ³¨æ„ï¼Œç”±äºæˆ‘ä»¬çš„æµ‹è¯•å¹¶ä¸éœ€è¦çœŸæ­£çš„åˆ é™¤å…ƒç´ ï¼Œåªæ˜¯æ¨¡æ‹Ÿè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼Œæ•…è¿™ä¸ªå®ç°æ˜¯ç›´æ¥è¿”å›æŸ¥è¯¢åˆ°çš„ç»“æœï¼š\ntypescript\ndeleteItem: jest.fn().mockImplementation((params) => {\nreturn {\npromise: async () => {\n// ç›´æ¥è¿”å›ä¸€ä¸ªæŸ¥è¯¢çš„è¿”å›ç»“æœ\nreturn await mockDynamoDB.query(params)\n},\n}\n}),</p>\n<p>ç„¶åå°† query çš„ mock æ”¹æˆäº†ï¼š</p>\n<p>typescript\nquery: jest.fn().mockImplementation((params) => {\nreturn {\npromise: () => {\nconst res = mockDynamoDB.items.filter(\nqueryByOperationKeyAndScenarioType(\nparams.ExpressionAttributeValues[:opKey],\nparams.ExpressionAttributeValues[:scType]\n)\n)</p>\n<pre><code>            if (params.ExclusiveStartKey) {\n                return Promise.resolve({\n                    Items: res,\n                })\n            }\n\n            return Promise.resolve({\n                Items: res,\n                // è¿™ä¸ªé€»è¾‘æ˜¯ä¸ºäº†å¢åŠ åˆ†é¡µè€ŒåŠ çš„ï¼Œä½†æ˜¯å¾ˆç®€é™‹ï¼Œä¸€åˆ‡ä¸ºäº†æµ‹è¯•éœ€è¦ï¼Œæ²¡æœ‰å®ç°é¢å¤–å¤šä½™çš„é€»è¾‘\n                LastEvaluatedKey: res.length &#x3C; mockDynamoDB.items.length ? res.length + 1 : null,\n            })\n        },\n    }\n}\n</code></pre>\n<p><a name=t9bPZ></a></p>\n<h2>æ·»åŠ ä¸€ä¸ªç»§æ‰¿è‡ªåŸºç±»çš„æµ‹è¯•å­ç±»</h2>\n<p>æœ‰äº† dynamodb mock çš„å¢å¼ºï¼Œç°åœ¨å†™ä¸€ä¸ªåˆ é™¤ä¸€é¡µæ•°æ®çš„æµ‹è¯•ã€‚å› ä¸ºåˆ é™¤æ•°æ®æ˜¯æ‰©å±•åˆ° BaseDynamoDbService è¿™ä¸ªåŸºç±»ä¸Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æœŸå¾…å®ƒå¯ä»¥åº”ç”¨åœ¨ä»»æ„ç»§æ‰¿äº BaseDynamoDbService çš„å­ç±»ä¸­ã€‚äºæ˜¯å…ˆå†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œç»§æ‰¿è‡ª BaseDynamoDbService:\ntypescript\nimport BaseDynamoService from ./base.service\nimport { Mock } from ts-mockery\nimport { DynamoDB } from aws-sdk\n// å¢å¼ºåçš„ dynamoDb mock\nimport { mockDynamoDB } from ../../test/mocks/aws</p>\n<p>// è¿™é‡Œ mockAwsService åŒå‰ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ä¸­çš„\nconst mockAwsService = Mock.of({\nasync getDynamoDB(): Promise<DynamoDB> {\nreturn mockDynamoDB\n},\n})</p>\n<p>class SUT extends BaseDynamoDbService {\nconstructor() {\nsuper(test-table, mockAwsService)\n}</p>\n<pre><code>// è¿™æ˜¯åŸºç±»ä¸­å£°æ˜çš„æŠ½è±¡æ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­å¿…é¡»ç»™å‡ºå…·ä½“å®ç°\nprotected getTableConfig(): Partial&#x3C;DynamoDB.CreateTableInput> {\n    const TableName = this.table\n    const AttributeDefinitions = [\n        {\n            AttributeName: operationKey,\n            AttributeType: S,\n        },\n        {\n            AttributeName: scenarioType,\n            AttributeType: S,\n        },\n    ]\n    const KeySchema = [\n        {\n            AttributeName: operationKey,\n            KeyType: HASH,\n        },\n        {\n            AttributeName: scenarioType,\n            KeyType: RANGE,\n        },\n    ]\n    return { TableName, AttributeDefinitions, KeySchema }\n}\n\n// è¿™æ˜¯åŸºç±»ä¸­å£°æ˜çš„æŠ½è±¡æ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­å¿…é¡»ç»™å‡ºå…·ä½“å®ç°\nprotected toAttributeMap(record): DynamoDB.AttributeMap {\n    // è¿™é‡Œç”¨åˆ°çš„ toS ç­‰æ–¹æ³•ï¼Œæ˜¯åº“å®šä¹‰åœ¨ BaseDynamoDbService ä¸­çš„ï¼Œåšäº†ä¸€äº›å­—æ®µå°è£…\n    return {\n        operationKey: this.toS(record.operationKey),\n        scenarioType: this.toS(record.scenarioType),\n    }\n}\n\n// è¿™æ˜¯åŸºç±»ä¸­å£°æ˜çš„æŠ½è±¡æ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­å¿…é¡»ç»™å‡ºå…·ä½“å®ç°\nprotected toInstance(item: DynamoDB.AttributeMap) {\n    return { operationKey: item.operationKey.S, scenarioType: item.scenarioType.S }\n}\n</code></pre>\n<p>}</p>\n<p><a name=Jn27u></a></p>\n<h2>æµ‹è¯•åˆ é™¤ä¸€é¡µæ•°æ®</h2>\n<p>æœ‰äº†è¿™ä¸ªæµ‹è¯•å­ç±»ï¼Œæˆ‘ä»¬å…ˆæµ‹è¯•åˆ é™¤ç¬¬ä¸€é¡µæ•°æ®ï¼Œaws sdk å¯¹äºæŸ¥è¯¢å‡ºçš„æ•°æ®ï¼Œå¦‚æœä¸€é¡µæŸ¥è¯¢å®Œæ¯•äº†ï¼Œæ˜¯ä¸è¿”å› nextFrom çš„ï¼Œä»£è¡¨æ²¡æœ‰æ›´å¤šæ•°æ®äº†ã€‚ç”¨ä¾‹å¦‚ä¸‹ï¼š</p>\n<p>typescript\nit(deletes one page without nextFrom, async () => {\n// å‡†å¤‡ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå…ƒç´ çš„ä¼ªè¡¨\nmockDynamoDB.items = [\n{\noperationKey: {\nS: key1,\n},\nscenarioType: {\nS: type1,\n},\n},\n]</p>\n<pre><code>const sut = new SUT()\n\nconst res = await sut.deleteOnePage(\n    {\n        ExpressionAttributeValues: {\n            :opKey: { S: key1 },\n            :scType: { S: type1 },\n        },\n    },\n    // æ¯é¡µ1ä¸ªå…ƒç´ \n    1\n)\n\nexpect(res).toEqual(null)\n</code></pre>\n<p>})</p>\n<p>ç„¶åï¼Œå®ç°ä¸€ä¸ªåŸºæœ¬çš„åˆ é™¤ä¸€é¡µçš„å®ç°ä»£ç ï¼Œä½†æ˜¯æè¿°èµ·æ¥æœ‰ç‚¹è¿‡äºçƒ¦çã€‚ç›´æ¥ä¸Šç¬¬äºŒä¸ªæµ‹è¯•å§ï¼Œæµ‹è¯•æŸ¥è¯¢åˆ°çš„æ•°æ®å¤šäºä¸€é¡µçš„åœºæ™¯ï¼Œè¿™æ—¶ï¼Œaws ä¼šè¿”å›ä¸€ä¸ª nextFrom å€¼ï¼Œä»¥å¤‡åº”ç”¨ç¨‹åºå†å»æŸ¥ä¸‹ä¸€é¡µæ—¶ï¼Œå¯ä»¥ä»è¿™ä¸€æ¡è®°å½•å¼€å§‹å»æŸ¥è¯¢ã€‚ç”¨ä¾‹å¦‚ä¸‹ï¼š</p>\n<p>typescript\nit(deletes one page with nextFrom, async () => {\n// å‡†å¤‡ä¸¤ä¸ªå…ƒç´ çš„ä¼ªè¡¨\nmockDynamoDB.items = [\n{\noperationKey: {\nS: key1,\n},\nscenarioType: {\nS: type1,\n},\n},</p>\n<pre><code>    {\n        operationKey: {\n            S: key2,\n        },\n        scenarioType: {\n            S: type2,\n        },\n    },\n]\n\nconst sut = new SUT()\n\nconst res = await sut.deleteOnePage(\n    {\n        ExpressionAttributeValues: {\n            :opKey: { S: key1 },\n            :scType: { S: type1 },\n        },\n    },\n    // æ¯é¡µæŸ¥è¯¢ä¸€æ¡æ•°æ® \n    1\n)\n\n// è¿™ä¸ª Mg== æ˜¯åŸºç±»ä¸­çš„æ–¹æ³•å°† aws è¿”å›çš„æ•°æ®è®¡ç®—å‡ºæ¥çš„å“ˆå¸Œå€¼ã€‚\n// ç”±äºæ¯é¡µåªæŸ¥è¯¢1æ¡æ•°æ®ï¼Œè€Œæˆ‘ä»¬çš„ä¼ªè¡¨ä¸­æœ‰2æ¡ï¼Œæ‰€ä»¥ä¸€é¡µæŸ¥è¯¢ä¸å®Œï¼ŒæœŸå¾… aws ä¼šè¿”å› nextFrom\nexpect(res).toEqual(Mg==)\n</code></pre>\n<p>})</p>\n<p><a name=Z4NXU></a></p>\n<h2>å®ç°åˆ é™¤ä¸€é¡µæ•°æ®</h2>\n<p>ç”±æµ‹è¯•ç”¨ä¾‹å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„åˆ é™¤ä¸€é¡µæ•°æ®ï¼ŒæœŸå¾…çš„å…¥å‚æ˜¯ä¸»é”®å€¼ï¼Œä»¥åŠæ¯é¡µå¤§å°ã€‚è¿”å›çš„æ˜¯æŸ¥è¯¢ç»“æœä¸­ aws è¿”å›çš„ nextFrom å€¼ï¼Œä»¥æŒ‡ç¤ºæ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®ï¼ˆå¾…åˆ é™¤ï¼‰ã€‚åœ¨å‰é¢çš„ base.service.ts ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>\n<p>typescript\n...\nexport interface BaseDynamoDbService {\ngetKeyFromAttributeMap(map)</p>\n<pre><code>// ç¬¬ä¸‰ä¸ªå‚æ•° from å¯é€‰ã€‚å¦‚æœä¼ äº†ï¼Œå°±ä»è¿™ä¸ªä½ç½®å¼€å§‹æŸ¥è¯¢å¹¶åˆ é™¤\ndeleteOnePage(params, pageSize, from?)\n</code></pre>\n<p>}\n...</p>\n<p>BaseDynamoDbService.prototype.deleteOnePage = async function (params, pageSize, from?) {\nconst onePageOfRecords = await this.queryTable(params, pageSize, from)</p>\n<pre><code>onePageOfRecords.data.forEach((record) => {\n    const deletingParams = { Key: this.getKeyFromAttributeMap(this.toAttributeMap(record)) }\n\n    return this.deleteItem(deletingParams)\n        .then((res) => logDebug(åˆ é™¤äº†ï¼š , record, res))\n        .catch((err) => logError(å°è¯•åˆ é™¤ , params, pageSize, from,  æ—¶ç¢°åˆ°é”™è¯¯ï¼š , err))\n})\n\nreturn onePageOfRecords.nextFrom\n</code></pre>\n<p>}</p>\n<p><a name=wXx02></a></p>\n<h2>æµ‹è¯•åˆ é™¤æ‰€æœ‰æ•°æ®</h2>\n<p>ç”±äºè¿™é‡Œæ˜¯å…ˆæŸ¥è¯¢å‡ºè®°å½•ï¼Œå†å»åšåˆ é™¤ã€‚è€ŒæŸ¥è¯¢åˆæ˜¯åˆ†é¡µæŸ¥è¯¢çš„ï¼Œæ‰€ä»¥è¦ä¹ˆä½¿ç”¨é€’å½’è¦ä¹ˆä½¿ç”¨å¾ªç¯ï¼Œå»ä¸€é¡µä¸€é¡µåœ°åˆ é™¤æ•°æ®ã€‚æ— è®ºæ€ä¹ˆå®ç°ï¼Œæµ‹è¯•ç”¨ä¾‹éƒ½ä¸€æ ·ï¼š</p>\n<p>typescript\nit(deletes all pages, async () => {\n// è¿˜æ˜¯å‡†å¤‡äº†æœ‰ä¸¤æ¡è®°å½•çš„ä¼ªè¡¨\nmockDynamoDB.items = [\n{\noperationKey: {\nS: key1,\n},\nscenarioType: {\nS: type1,\n},\n},</p>\n<pre><code>    {\n        operationKey: {\n            S: key1,\n        },\n        scenarioType: {\n            S: type1,\n        },\n    },\n]\n\n// å¤ä½ deleteItem çš„è®¡æ•°\nmockDynamoDB.deleteItem.mockReset()\n\nconst sut = new SUT()\nconst res = await sut.deleteAllPages(\n    {\n        ExpressionAttributeValues: {\n            :opKey: { S: key1 },\n            :scType: { S: type1 },\n        },\n    },\n    // é€šè¿‡æŒ‡å®šé¡µå¤§å°ä¸º1ï¼Œå°±éªŒè¯äº†å¤šé¡µåœºæ™¯\n    1\n)\n\nexpect(res).toEqual(undefined)\n\n// å› ä¸ºæœ‰ä¸¤é¡µï¼Œæ¯é¡µä¸€æ¡æ•°æ®ï¼Œæˆ‘ä»¬éªŒè¯åˆ é™¤å…ƒç´ çš„æ“ä½œè¢«æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œä»¥è¯æ˜æ¯é¡µçš„åˆ é™¤æ“ä½œéƒ½æ‰§è¡Œäº†\nexpect(mockDynamoDB.deleteItem).toHaveBeenCalledTimes(2)\n</code></pre>\n<p>})</p>\n<p><a name=T63va></a></p>\n<h2>å®ç°å¤šé¡µåˆ é™¤</h2>\n<p>æœ¬æ¥ä½¿ç”¨äº† while å¾ªç¯æ¥å®ç°ï¼Œåæ¥è¿˜æ˜¯æ”¹æˆäº†é€’å½’ï¼Œå‘ç°ä»£ç æ›´ç®€æ´ã€‚å³å…ˆå®ç°ä¸€ä¸ªåˆšå¥½é€šè¿‡æµ‹è¯•çš„ä»£ç ï¼Œåœ¨é‡æ„ä»£ç ç¯èŠ‚ï¼Œæ”¹æˆäº†é€’å½’ã€‚æœ€ç»ˆåœ¨ base.service.ts ä¸­æ·»åŠ äº†è¿™æ ·çš„ä»£ç ï¼š</p>\n<p>typescript\n...\nexport interface BaseDynamoDbService {\ngetKeyFromAttributeMap(map)</p>\n<pre><code>deleteOnePage(params, pageSize, from?)\n\ndeleteAllPages(params, pageSize, from?)\n</code></pre>\n<p>}\n...</p>\n<p>BaseDynamoDbService.prototype.deleteAllPages = async function (params, pageSize, from?) {\nconst nextFrom = await this.deleteOnePage(params, pageSize, from)</p>\n<pre><code>if (nextFrom) {\n    // é€’å½’è°ƒç”¨\n    return await this.deleteAllPages(params, pageSize, nextFrom)\n}\n\nreturn undefined\n</code></pre>\n<p>}</p>\n<p><a name=qrTMh></a></p>\n<h1>ä¸Šçº¿</h1>\n<p>å°±è¿™ä¹ˆæœ‰ä¿¡å¿ƒåœ°ä¸Šçº¿äº†ï¼Œé€šè¿‡æŸ¥çœ‹æ—¥å¿—è¾“å‡ºï¼Œæ–°å†™çš„é€»è¾‘å¦‚æœŸè¿è¡Œäº†ã€‚æ¯•ç«Ÿï¼š<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/686030ee0d814afa8f2c6fc52a8c94cb/0b533/1662347661047-97b8efe9-9e83-4785-9577-05511a3ac841.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR42gEZA+b8ABBMQBqjuBWcvCWywwB3sEHHxy+4ywCFxQFwtwCAvQGizACBtiE7NFVWKT1AIABObQCFsRWktSzIxx2DogAORDcYmrAUmLcstsAAaqYztb5R388KoccHocgErs4dx9wznKWZfUTVtnGuhkctUj8hxsgEiK4AY5o1p7QADz4uIZa0FY2xJLK9A3KsCoOpTePLYuTSQc7VPsfRM8veUr+1so5TrYlXrX9HPlteD5i/GsTJJa3BBkuIABdJOyiZtBuIrCWwvw18sgBjmybKxFLZzljX5EjV3ASkvCeJl7mPVb6LWsWPVjtthQBWrAFamRmdtEzLxwAjdY4lk7AZgakto7Yru8gAR5YBZKsPmLYmi5MPcG4AODEPKSR5ZzWcdTqPaSs5dWcs09wQn7wAUY0agKIAKIWwJYurHouvHImqUNTOFWeZED9OByweBxoOCRMLAxUDAAwAS0AZs45DTEEdAAQAD19MJ8y7MM7LA02IACuIpyWDpieUrwlnnFjc0b7Uoa+nZAQdBgALAQEBAAIRBAAZBS40IbOabzY/MjlMQFBvWW+umlDMx0S+xQA1jawfgKU3q7UGappBpq7Yz5LNtnoJIQ01UEB/mIaXs5unxLC6zsXL4tTX7Nva+N/b/+3J48YQSUNJs78ALoinIoeqKo6uK5Cukru64Nusy7SEkaSS1PPe6f/06v/w6v7w5vnu5fjp2fvm1PPa2vvtm76sAAMADlJsAC2GqzKTsQpynmHMw9D74MjMo9Czg+Tx1+H35+Hy5OHy5+Py59/25drz4Nz24dH43tLy2ZifhAMCAAARFgAsb4Mhha0Ta5qZv7jm/+jQ8dHI377b79nd7eDc7t/c6+Dc6+Da8OHX7d/c797O9eHL2ba9l2laWz0VKBUAIl5hA05zRpKZ3fng5/vqp7yop7Opnaibn6qge4N6prCmmJ6XgYiBk5mTd4F3uMq71vTcX1Eui2gqdWIlABdkggVOXZ/Bsev87tvw3rnPusXWysrdzsPUwbLCssjgzc/cz6y2q8LLwbTHt+Pz5rvNuiVFPUdXOSUuHa9QmFLpqDrHAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/686030ee0d814afa8f2c6fc52a8c94cb/0b533/1662347661047-97b8efe9-9e83-4785-9577-05511a3ac841.png\"\n        srcset=\"/static/686030ee0d814afa8f2c6fc52a8c94cb/12f09/1662347661047-97b8efe9-9e83-4785-9577-05511a3ac841.png 148w,\n/static/686030ee0d814afa8f2c6fc52a8c94cb/e4a3f/1662347661047-97b8efe9-9e83-4785-9577-05511a3ac841.png 295w,\n/static/686030ee0d814afa8f2c6fc52a8c94cb/0b533/1662347661047-97b8efe9-9e83-4785-9577-05511a3ac841.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=IxQ2D></a></p>\n<h1>æœ€åçš„æ€è€ƒğŸ¤”</h1>\n<p>TypeScript æˆ–è€…è¯´ JavaScript ä½¿ç”¨ prototype å¯ä»¥è½»æ¾å®ç° partial class çš„æ•ˆæœã€‚é‚£ä¹ˆ C# æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿç°åœ¨å¾ˆå¥½å¥‡ï¼Œå¦‚æœä½ çŸ¥é“ï¼Œæ¬¢è¿ç•™è¨€å‘Šè¯‰æˆ‘ã€‚</p>\n<p><a name=dPhdP></a></p>\n<h1>è­¦å‘Š</h1>\n<p>åœ¨ JavaScript ä¸­ä½¿ç”¨ prototype ç®€ç›´å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºã€‚æ¯”å¦‚åœ¨ JavaScript å¯¹ class æä¾›æ”¯æŒä¹‹å‰ï¼Œå°±æœ‰é€šè¿‡ prototype çš„æ–¹å¼æ¥å®ç°ç±»å’Œç»§æ‰¿ã€‚è¿™é‡Œåˆåˆ©ç”¨å®ƒå®ç°äº† C#<br />ä¸­çš„ partial class æ•ˆæœï¼Œä½†æ˜¯ä¸è¦æ€»æ˜¯ä½¿ç”¨å®ƒï¼</p>\n<p>æˆ‘æ›¾ç»åœ¨å¼€æºåº“ flot åšä¸€ä¸ª feature æ—¶ï¼Œä¹Ÿä½¿ç”¨äº†å¯¹å…¶ä¸­çš„ç±»çš„ prototype åšæ‰©å±•æ–¹å¼æ¥å¢åŠ æ–°åŠŸèƒ½ï¼Œä½†æ˜¯è¢« flot çš„ç»´æŠ¤è€…ï¼ˆåœ¨è°·æ­Œå·¥ä½œçš„å¤§ç¥ï¼‰æŒ‡å‡ºè™½ç„¶ 99% çš„æƒ…å†µä¸‹æ²¡æœ‰é—®é¢˜ï¼Œä½†ä»ç„¶å»ºè®®ç›´æ¥å®šä¹‰æ–°çš„å‡½æ•°ï¼Œè€Œä¸è¦å»æ±¡æŸ“è¯¥ç±»çš„ prototypeã€‚è¿™ä¸ªå»ºè®®éå¸¸ä¸­è‚¯ï¼Œæœ‰æ—¶å€™ prototype è¢«ä¿®æ”¹äº†è€Œåˆ«çš„å¼€å‘è€…ä¸çŸ¥é“ï¼Œå°±ä¼šæœ‰â€œæ„å¤–çš„æƒŠå–œâ€ã€‚<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4793e42b2bdac3275fe8e68f2a12b152/14747/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYUlEQVR42p1SW3KDMAzMRTpTkhTMyxBj8zDGQEjSaXv/82xHckqnv/1YdrWMZMny4f3rA1JbqH5B2YyMQlkUjUUqW4jSQEgT+Any0ypAasc5adXhmEgc7PqJQg24dDNkMwbocdelsgF8mGUvzhuc0xpv2YU1o2hCwZdIIEokcjVAGsedEZdU1DhG1U7sl9SNdsifE1AOcXYZcErrUPCYVBBCwvYes7/Buw2zv7PmeNrgp+Av/o5lfmDoPVo9wjQWrbYwqkdWKESxxOE1ljCiwNY7bG7FNi64T1fcxnVn8n78q51xHTzz0jn2vR6gkpwnPdAnERKun7BSV+4KP667XgjTtsfEf+Lphm15oG4sXuOSRpbhDhuLul8gaHt1z/ciqo71L7d7nFQts6jDP1pKRAWjuEAqDVQ3MzJKlgZ53SGjpFJzTDrEz2fDT0nvPm36WbDEOb0gKTTiXOEkqn+DtvwNHL8e0TtU0zsAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/4793e42b2bdac3275fe8e68f2a12b152/fcda8/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png\"\n        srcset=\"/static/4793e42b2bdac3275fe8e68f2a12b152/12f09/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png 148w,\n/static/4793e42b2bdac3275fe8e68f2a12b152/e4a3f/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png 295w,\n/static/4793e42b2bdac3275fe8e68f2a12b152/fcda8/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png 590w,\n/static/4793e42b2bdac3275fe8e68f2a12b152/efc66/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png 885w,\n/static/4793e42b2bdac3275fe8e68f2a12b152/c83ae/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png 1180w,\n/static/4793e42b2bdac3275fe8e68f2a12b152/14747/1662348575879-4f6d6ac2-ab5e-47b3-8cf8-0385e029ae00.png 1914w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af5dd0e57748a3a27210d4c64956ea64/daf70/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiUlEQVR42nWSyW7bMBRF8yNFbNcWNYvURImaZQe2gaKrIlm0//8bpyA9JIt2cfAEkDq4vOTLPpBk1UCYaXYiZeel+FlBPo1IY0jqG1GhCfKKQN25f4dF7daiUuPLihcrcULZsDnEfD8kxG1O97Eil4asLcknQzJokl4TmfJJ3NXEXfWcolRWmBHnLars8KKcb16K11dU7yf8tcP0mvF8RC4j+Tygpg4196hlIOkbwtbKq0+hPbKX1sRhRitCxoPgRx3x56fmd5cwGEWzGqpZIyeDnEeKqUfd01qRnb5WN+HWSzgcIoQXE4oYfx8ha8nx10w318S1pDlOlMvofgyagkDnBFoRNDlhW7hpuR85RYoILUJKEfK6T/B0QfNxIl5ahM4Zrle684XqNLsebWdWYFM9eAq3ImXjpbxaRMp2n+BreylHsqVxm/vLmeF8pXk7oubO8RB+nbeEXsJOPPgUGids3ebhcmE4XyjXySW0/F9o394XNk5Y0L6vLqHtqhgNcjDPzh69/Uv4F25dHoxBbqvKAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/af5dd0e57748a3a27210d4c64956ea64/fcda8/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png\"\n        srcset=\"/static/af5dd0e57748a3a27210d4c64956ea64/12f09/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png 148w,\n/static/af5dd0e57748a3a27210d4c64956ea64/e4a3f/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png 295w,\n/static/af5dd0e57748a3a27210d4c64956ea64/fcda8/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png 590w,\n/static/af5dd0e57748a3a27210d4c64956ea64/efc66/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png 885w,\n/static/af5dd0e57748a3a27210d4c64956ea64/c83ae/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png 1180w,\n/static/af5dd0e57748a3a27210d4c64956ea64/daf70/1662348547631-30e90bbc-8af3-4423-9d70-93bee3622f92.png 2464w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/383fa6e6d74feaee5fb4eccd65f44d33/37114/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAChklEQVR42nWS2W7VVhhG/RpckIQEe3v23t6ex3MynJNBVG0TEegz9DF4mlaAoCQqpEqZxAVXfaNVeedwmlTi4tMvW/bS+gfr5eV7Xlxc8/LiI3+++4dXl5/N84uLv+/U52+u+f31Fb+9ujL1j7efeHP1eZ3Lv75w9eErVpi2hLpGqQPOF89oq1MCXRFnPUk+kBQDshzRzZzpWxFm7HhqFXlTXYkbF0RZh7XjJjxwIrbdGFdmOGHKtkjYskNsP8GXLYGqiHRFqBoCWRno92KJUBvgBI6zzmRbxGw7ESKQJLOebDniao2rU1P9PDfxMo2XZeadoySOSrCMnYgN1Ju004YtJ1oZStKTgfGXJXFf0gwV9WKX/GBOvj8jnfckQ42ctaYGbY7lxbmxm6BTa2k9R6oSexqFzImOR+rzBUFbUHQF5Qokx5akr4m6kriviLuKoMmwHvrKwKYBB2mNKytkKOn9kKM4YrkoOTybk7U53VDRLPZI58MaqmadqXJs8OsMy/EVm06EFAGD7aBtl8ZxWTo2pQhY7Jf8+qjguIpQbUF9sI+e98bGmPWTWY5XpSaWCDQbTkQlfH4WNoXwyYRP6XgEbkJwPFI9PcRrMvTY0h0eku2NxkYUErdUd2JNq769mC0RsyFi7jsxD1yFOuoZzxf4jUbPesajE6rJcncw7UZdYUBrQ3Miq9yAo/XZTAcrjwb6J/8BZ8ePaJfLNXDa7jegMZw2/NBLbgFvwQ2wZ3iyXAE7dk9+oNjfNUuYNhy2+V3DexuCe5uCLTu6A/0GVJPh4wPzo2xzVF/jVxq3lDcQMzu5jvXT2Sk/np0SqoJNO/xf+wle1uIXLb5ucdOGnUhjx/l38y9ZsdtIoRyqAAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/383fa6e6d74feaee5fb4eccd65f44d33/fcda8/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png\"\n        srcset=\"/static/383fa6e6d74feaee5fb4eccd65f44d33/12f09/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png 148w,\n/static/383fa6e6d74feaee5fb4eccd65f44d33/e4a3f/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png 295w,\n/static/383fa6e6d74feaee5fb4eccd65f44d33/fcda8/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png 590w,\n/static/383fa6e6d74feaee5fb4eccd65f44d33/efc66/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png 885w,\n/static/383fa6e6d74feaee5fb4eccd65f44d33/c83ae/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png 1180w,\n/static/383fa6e6d74feaee5fb4eccd65f44d33/37114/1662348640351-19a54811-3244-4352-bfd5-212a1c3306d8.png 2300w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"å…³äº","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"å½å½æ­ªæ­ª","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"çŸ¥ä¹","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"ç´«ç«¹å½æ­ª","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}