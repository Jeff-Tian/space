{"componentChunkName":"component---src-templates-post-js","path":"/posts/tr37p2/","result":{"data":{"sitePage":null},"pageContext":{"url":"posts/tr37p2","relativePath":"posts/tr37p2","frontmatter":{"title":"BFF 进化","stackbit_url_path":"posts/tr37p2","date":"2022-10-08T10:34:07","excerpt":"","tags":[],"categories":[],"template":"post"},"html":"<p><a name=ItdVg></a></p>\n<h1><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6849952e789763ddf546db288d08e5e9/2acc9/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42qWSSY7FIAxEuf/N8reREmWelFmZhy2t5xZfJKuWemGMXXZRgNW2bfo4joeRw/Z9f+SJ35jtySuWcRwfBojN86yHYfjmiQ3hsiyPnmmapEdVVaXDMNT4oih0HMe6bVt9nqfs8zyXPJ46mq7r0mma6izLBMPAIFVlWYqKpmmECBUQUYznOpCt6yokqKnrWnueJxhCUIvv+/5XIRvf94WAhiAI9Ofz0a7rShOnQxhFkZCRdxxHlNKHCHgQpji96zqRCwA5qiFCJVcHI4aQK9/3LWrZI4AaaoWQRJIk33ei0Dw+pxKD4YnNp6DUYOYt5ZfNmECCmR8248T7kMfbI2Vjdp+y58qes3f+r5h6F/3XfgD28e1WMASfWQAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20221008-141040@2x.png\"\n        title=\"WX20221008-141040@2x.png\"\n        src=\"/static/6849952e789763ddf546db288d08e5e9/fcda8/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png\"\n        srcset=\"/static/6849952e789763ddf546db288d08e5e9/12f09/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png 148w,\n/static/6849952e789763ddf546db288d08e5e9/e4a3f/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png 295w,\n/static/6849952e789763ddf546db288d08e5e9/fcda8/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png 590w,\n/static/6849952e789763ddf546db288d08e5e9/efc66/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png 885w,\n/static/6849952e789763ddf546db288d08e5e9/c83ae/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png 1180w,\n/static/6849952e789763ddf546db288d08e5e9/2acc9/1665223122053-6610d5bd-7d92-4c4f-ba6a-736f65d6f383.png 2378w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></h1>\n<p><a name=dbIyG></a></p>\n<h1>Naive BFF</h1>\n<p>在《<a href=\"https://zhuanlan.zhihu.com/p/442433967\">https://zhuanlan.zhihu.com/p/442433967</a>》一文里，以 BFF 为中心，简要地回顾了一下自己做的项目。从 2018 年开始，就一直和 BFF 打交道，但是看来一直在 Naive BFF 的级别上折腾。</p>\n<p>Naive BFF 是我杜撰的词，意味着只做后端服务的聚合与裁剪的“转发式” BFF。但即使是这种 Naive BFF，也还没有做到很纯粹，即仍然有 BFF 缺失的场景，如下图所示：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e27d1014000dae5d9be61344c754fd69/07a9c/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.86486486486487%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVR42o2Ui46CMBBF/f+fNMZEBERBQEGg3Zyht9ZlTZakmdDOnN55wM577/z6mHVufZ3n2U/TZLZtW1+Wpe+6Lu7rLMS4EOd234DP59OfTic/DIO/3W7+cDgYMM9z3/e9P5/P9i6g7FfgsiwWDBiFQLHX69UWirksYW0VsikgFtjj8bBA1jiOvmkaA3OGz+v1+q4wBVIjnAlEXQrkEvYDDLsFJrcYEGeg1Kuua4NQM6CpYvzneXb4/pmyoHSQINXwcrnEzgJicSmLEOyyLJ8K04YQoNTu97uvqirWjCWwakjMNE3blHlIDVVZlkUYVnWVUs0joFCmFRiaEZnMGID9fm+Wd9KnnlInaLjgDXS/BgnpzBmQoijM8q5a/gsohWxSF1QBAUC6WPYYGc7TT28DTCcGB42HxgWIZpFOazbxJZug2AXVnwr1ZchKmVQD5CLO2NM3z7io27GGyOWQ4nOIStWNYCxLqvETkNjw51lTDqm6YRjcOI6AbaV7bdva6vvelWXpmqZBlfmQcvz0CKQBOGK5me6i6ng8WnNIlTTpOCr5C7GPH/vp6O24iU52XWc3c2Oe52azLDNVRVGYsqqqXF3XdsbiLHQ4/r5+AKW0fYaUGgMRAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/e27d1014000dae5d9be61344c754fd69/fcda8/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png\"\n        srcset=\"/static/e27d1014000dae5d9be61344c754fd69/12f09/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png 148w,\n/static/e27d1014000dae5d9be61344c754fd69/e4a3f/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png 295w,\n/static/e27d1014000dae5d9be61344c754fd69/fcda8/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png 590w,\n/static/e27d1014000dae5d9be61344c754fd69/efc66/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png 885w,\n/static/e27d1014000dae5d9be61344c754fd69/c83ae/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png 1180w,\n/static/e27d1014000dae5d9be61344c754fd69/07a9c/1665223256872-d0ec4320-3f00-469a-8527-658f197c69fe.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a name=bLbew></a></p>\n<h1>TMI BFF</h1>\n<p>BFF 是为前端专做的后端，理论上前端要使用的所有能力都应该由 BFF 来转发，当然也包括用户认证与授权部分。然而，可能由于 OAuth 2.0 的流行，以及其提供的隐式授权授权模型以及对公开客户端的支持，特别方便于前端直接和授权服务器交流，所以导致前端直接对接了授权服务（未经 BFF 中转请求）。在《<a href=\"https://zhuanlan.zhihu.com/p/533197284\">https://zhuanlan.zhihu.com/p/533197284</a>》一文中，以一个 antd 前端为例，详解了如何对接 IdentityServer，从而保护需要用户信息的路由（页面）。在这个例子中，就是使用了纯前端的插件 umi-plugin-oauth2，来直接和 IdentityServer 来交流，以获取用户 token、身份信息等等。</p>\n<p>这样虽然完全可以工作，但毕竟非常不安全，所以有一个 BFF 标准正在被提出，即 TMI BFF。详细文档见： <a href=\"https://datatracker.ietf.org/doc/html/draft-bertocci-oauth2-tmi-bff-00\">https://datatracker.ietf.org/doc/html/draft-bertocci-oauth2-tmi-bff-00</a>。这个标准用 BFF 将前端和授权服务器隔开，代为获取令牌。但是仍然要求前端自行保存令牌，并且后续直接和资源服务直接交流。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 164.86486486486487%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjklEQVR42pVWiU4jMQzl/38NCYlDoBVtKaWd+07mPt7qufUwPWC1kSw3jvPia+zeAcA0TaiqCnVdo21bFEWBvu+FjDEiK8tSdJqmEf1xHHkVXdfJ2TAMsr9TQAp52VorwLxAuYKRKOcjPCNxT33eo/wMkC+oVVzc0xpaRYv1ooJxUZcW6iMCSLBbi2AEImVZJjxN0xng1iLWbOEl/bQYAnWdnA8oxuzy5Su/PUIQ13Wx3+8RRdG/AZfASyDlDAXjSfeZKFq81P8R8JbVmggtHfJLA+7+5eLS1e12C8/zzsCZrDzPZ9ndpQU/uc2yoKuMmeqztHzfx263+y5sPeQFxoOvkqvC5dLs8pwPaP1duawK+qVYY+YaJKVJMieCxc5zxnCZlDMLh3FEWVXIiwJVXQtP0hRRHCMMI/hBANfzYctK9NIsQ9206E5FPmlhzy7TFVOgoYWmQFdVQN9hUmK99R3a0qK2Bn1dzxxDj2kaF0lhvPIEk8nRxCHGPAVKA9jimk7yscgAk2MkxYHIJ3GZgF0rAqahaVt0bBTjKO50/XDkw4D2xKlj2TSMQdk0qIscEx+aLbwApGIQhnBc7xQ7D2EU4eA4ElNjrcR5tV7DVjX6qsRoT4BHCzsgSzC1DTpToCUVOaosRVPkqPNM9jaJMVSlyHrGzxq01qAKPAnXeWE3NWzgI/cc1HEId/2OYLtBtPuEs3oXnh6+4H+s4W1WOLz/kfN4v0MV+scEatlMp7Q3bOd1jawoxF3XD4T8MIQfRvCCAI7nCff8AGmeiz4Jy7LR0mHhsjWFjJvrwvNcHPZ7hGGIIAikoFnILGgSP8NjJy/EpG8LLwD1+3QcR4j7r6+vuQeSU07dOI4F9KaF7Cb39/d4enrCy8sL3t7e8Pr6isfHx1nG/fPzs9DDw4OA09qrIaUWEpTW0aKPjw8h3R8OB9kT5PPzU+SbzUYsnQF/mx//u86GFDuMDnqOS3Yf7UCULf8ILMPExPDsatBTWS+R64zWvRIBeJl9kL8Zv6t/Djp8eFnnhS4qqvU6Q5YDi2DkZx1bFVhvDDoTs16vsVqt5uRwlrAWmRies2z4mwliWf1Y2KqoygRh7TGudFn//2jn5l5jfjVT6BbbPouVxNafJInIaAVlBOfDS+KjGo4zQL5MEF6i+yT+jmUMhALOPTlpeX42U3TD+UqXWbR0l4Wrg0mHl7pMkmF1cl9j+BfUlP+sxVNqpAAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/dd063a970242091a16383aae07571142/fcda8/1665224124709-fb3f0101-875e-4091-8b00-f6482c5af8a7.png\"\n        srcset=\"/static/dd063a970242091a16383aae07571142/12f09/1665224124709-fb3f0101-875e-4091-8b00-f6482c5af8a7.png 148w,\n/static/dd063a970242091a16383aae07571142/e4a3f/1665224124709-fb3f0101-875e-4091-8b00-f6482c5af8a7.png 295w,\n/static/dd063a970242091a16383aae07571142/fcda8/1665224124709-fb3f0101-875e-4091-8b00-f6482c5af8a7.png 590w,\n/static/dd063a970242091a16383aae07571142/efc66/1665224124709-fb3f0101-875e-4091-8b00-f6482c5af8a7.png 885w,\n/static/dd063a970242091a16383aae07571142/4cdf7/1665224124709-fb3f0101-875e-4091-8b00-f6482c5af8a7.png 995w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<a name=PNriD></a></p>\n<h1>Full BFF</h1>\n<p>完整的 BFF 应该将对资源服务的请求也接管过来，前端接触不到令牌，也不会保存在客户端的任何地方。其实，<strong>这才回归了 BFF 架构的初心</strong>，即一个前端，一个后端。再后面的服务，对前端是透明的，由这个 BFF 后端统一承接。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1c6886937a2c0ca9b52fbfe91a98f31d/146da/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 89.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpElEQVR42pVU226CUBDk/7+tL33zQZtSoxXkrtwEmWaOnZMFsUk3WVnPWWZnbwQA0Pc9rtcr6rpG27awwjueUWlb6brOvdc0jb8L+HO/3zGOo1Pa0zQ5p8vlgqqqZio/Cv3sOw5QhhU6kBGjUwVWlqVjdbvdnI8FUoBAhtW/RMxZHj5VIs/QOutwGcAqAc/nM3a7HbIsc4xfAq7JMggByYoMZf8L0DqrvsMwuDPWcukX/JWmBWNzwjBEkiQegIBUspwxXGvEEphzFsexS1PCkWE9N5uNCzgbG14qIlN6JfQjOH1YR5bAEvCA2hJtjTaEjNhJNYB3/M97Pm1TZoC8zPPcKZ34ZIqn0wlRFOF4POJwOPgAPFNGsy7LIIgik21P+7fgYqp9Jwj9xHIVkLXRS34cxsF2aVZDgWqvn1ZPY+AjUrsWU5ljulSY2gaTaQxZy59E1JzAjoaKzA9BlqaI0wz5PkT6/oasKF1NuW7a4+12izRNZ1+gJ0CmXBSFm6+EAJ8fD9D9F76jCLWpI0HVGA+4tl5Qcl0D9I8SwMymZlBNsSn/APHohJOBGD5bAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20221008-154538.png\"\n        title=\"WX20221008-154538.png\"\n        src=\"/static/1c6886937a2c0ca9b52fbfe91a98f31d/fcda8/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png\"\n        srcset=\"/static/1c6886937a2c0ca9b52fbfe91a98f31d/12f09/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png 148w,\n/static/1c6886937a2c0ca9b52fbfe91a98f31d/e4a3f/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png 295w,\n/static/1c6886937a2c0ca9b52fbfe91a98f31d/fcda8/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png 590w,\n/static/1c6886937a2c0ca9b52fbfe91a98f31d/efc66/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png 885w,\n/static/1c6886937a2c0ca9b52fbfe91a98f31d/146da/1665224412222-0cc32c1e-e380-4f9a-b14b-21fe6e2ad84e.png 943w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>那么，前端没有任何令牌信息的情况下，如何实现登录状态呢？其实仍然是 Cookie，即回归到了 Token + Session 的管理模式，而不再是单一 Token 模式。单一 Token 模式容易千万覆水难收的情况，比如 Keycloak 的单一退出接口，就没有很方便的办法让已颁发的 Token 失效。详细讨论见： <a href=\"https://www.zhihu.com/consult/conversation/1557672350673453056/archive?showIWantConsult=1&#x26;showFixedBtn=1\">https://www.zhihu.com/consult/conversation/1557672350673453056/archive?showIWantConsult=1&#x26;showFixedBtn=1</a>。</p>\n<p>不过，这个 Cookie 是 HttpOnly + Secure + SameSite Strict，从而规避了从客户端窃取登录信息的风险。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f5e104b9b0fdb2c1fee03fb51a99aed7/cb93d/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42p2STS4EURDH3cYBuAI2boAViY+FhWMYPQsWnMFCmGk90z3jKwQh7CwtJSJh6J7u9153z/ykXvcQIRIWlUpVvfrlX1VvaGtzhcrqPM7a4qc5i1SrSx9x1Vn6Ul+rLOBIzvmMN9aXGR0ZZgjugUvgFjghVx659qDXomcawGHh+21b66e+rZEFwBlwA1wDd8zNTgrwijhuonXA48M2z087hJ09wuddok6N6LVO+LJnvY07NVuPu57tMaaFUgI/ZXpqTIC3NtnrHZKmbXTSIEsDctNCd/cxcePDdNcjL9/kWZs+x7Yvyw6Ac2Zmxr8C4RijfZSAkoYFJmGd5K1uvS7zSegWwP7R70B5IEAde2QmIFXNAlZaqnwyHZBELtmfgdovgKLwtYYKXVLJaf9/QFEjfjCyCut2j5KXkf8GlMOYABW5JcwlFpWizPxnZAHqwDabUpGMKvFgh9+PcvELsOvZ/ZmkWXyXqPw+SbPc608KBTjBOx1u/8uMVT11AAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20221008-134513@2x.png\"\n        title=\"WX20221008-134513@2x.png\"\n        src=\"/static/f5e104b9b0fdb2c1fee03fb51a99aed7/fcda8/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png\"\n        srcset=\"/static/f5e104b9b0fdb2c1fee03fb51a99aed7/12f09/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png 148w,\n/static/f5e104b9b0fdb2c1fee03fb51a99aed7/e4a3f/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png 295w,\n/static/f5e104b9b0fdb2c1fee03fb51a99aed7/fcda8/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png 590w,\n/static/f5e104b9b0fdb2c1fee03fb51a99aed7/efc66/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png 885w,\n/static/f5e104b9b0fdb2c1fee03fb51a99aed7/c83ae/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png 1180w,\n/static/f5e104b9b0fdb2c1fee03fb51a99aed7/cb93d/1665224949301-d72ec33f-3368-4530-9be0-1f03b8193f5a.png 2304w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Full BFF 应该有如上图的组成部分，当然它不限制开发语言，但上图带上了 ASP.NET Core，是因为主讲者是 Duende IdentityServer 的联合创始人，而 IdentityServer 是一个基于 ASP.NET Core 的认证授权中间件。</p>\n<p>之前写过《<a href=\"https://zhuanlan.zhihu.com/p/486268896\">https://zhuanlan.zhihu.com/p/486268896</a>》讨论 IdentityServer 的卖点，其中之一是它宣称高安全性，看来此言不虚。它为 Full BFF 提供了很好的脚手架，看到 Full BFF 的组成部分不用担心，除了具体的 Endpoints，其他的不用从 0 开发。</p>\n<p><a name=eVH7O></a></p>\n<h1>总结</h1>\n<p>用一张图总结吧：<br /><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6849952e789763ddf546db288d08e5e9/2acc9/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42qWSSY7FIAxEuf/N8reREmWelFmZhy2t5xZfJKuWemGMXXZRgNW2bfo4joeRw/Z9f+SJ35jtySuWcRwfBojN86yHYfjmiQ3hsiyPnmmapEdVVaXDMNT4oih0HMe6bVt9nqfs8zyXPJ46mq7r0mma6izLBMPAIFVlWYqKpmmECBUQUYznOpCt6yokqKnrWnueJxhCUIvv+/5XIRvf94WAhiAI9Ofz0a7rShOnQxhFkZCRdxxHlNKHCHgQpji96zqRCwA5qiFCJVcHI4aQK9/3LWrZI4AaaoWQRJIk33ei0Dw+pxKD4YnNp6DUYOYt5ZfNmECCmR8248T7kMfbI2Vjdp+y58qes3f+r5h6F/3XfgD28e1WMASfWQAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WX20221008-141040@2x.png\"\n        title=\"WX20221008-141040@2x.png\"\n        src=\"/static/6849952e789763ddf546db288d08e5e9/fcda8/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png\"\n        srcset=\"/static/6849952e789763ddf546db288d08e5e9/12f09/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png 148w,\n/static/6849952e789763ddf546db288d08e5e9/e4a3f/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png 295w,\n/static/6849952e789763ddf546db288d08e5e9/fcda8/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png 590w,\n/static/6849952e789763ddf546db288d08e5e9/efc66/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png 885w,\n/static/6849952e789763ddf546db288d08e5e9/c83ae/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png 1180w,\n/static/6849952e789763ddf546db288d08e5e9/2acc9/1665225229856-97c0cf89-5e19-4ee6-b289-ab2a0123bf23.png 2378w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}