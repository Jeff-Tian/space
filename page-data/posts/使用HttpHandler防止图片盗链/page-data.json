{"componentChunkName":"component---src-templates-post-js","path":"/posts/使用HttpHandler防止图片盗链/","result":{"data":{"sitePage":{"id":"SitePage /posts/使用HttpHandler防止图片盗链/"}},"pageContext":{"url":"/posts/使用HttpHandler防止图片盗链/","relativePath":"posts/使用HttpHandler防止图片盗链.md","relativeDir":"posts","base":"使用HttpHandler防止图片盗链.md","name":"使用HttpHandler防止图片盗链","frontmatter":{"title":"使用HttpHandler防止图片盗链","stackbit_url_path":"posts/使用HttpHandler防止图片盗链","date":"2011-10-01 02:16:50.72913","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["ASP.NET","C#","HttpHandler","ImageGuard","图片护卫"],"canonical_url":"https://be-net.azurewebsites.net/post/2011/10/01/使用HttpHandler防止图片盗链","template":"post"},"html":"<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVR42s2USwvCMAzH+/2/1bx48aA3LzqLLxQR3Rj2QfOXlhVbrLKuHgykj6T9kTQlbHdpUZ/uWB1vaLsHtFKQUkIplaX+DuPnBstDg9n6ik5qWCEi5IoxxkGZ0SpyeJidh2oEFELCmkzgzIG9Ae0QQnJT/gocI4OBbk+vB/8UfVaEBIrsyTM5EXpbVU2w4dv+IhWk3Mc5ny7A630ZMJXmz1ImQ+VFSX3y4ir/38ceq0lgqQTdRrhFqVqObbBPhPKQwNbX6OAAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png\" srcset=\"/static/47ad560c3d128dca71ed1947aac6b00a/12f09/image_thumb_44.png 148w,\n/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR42mWUbUyVZRjHr4NJ8Cl1fmiA50UDjtBR1kanOYtNe1mmMVqZbbTmbKyIlW29fyg2c61mNS2niSivRw8cc4g0xTigcjIgXxp2zvGQgKTOQ4wMeO7rfu7nfmn3OQdk6/70PM+u33P/r5f/BWruSKk4Tz7I2+Mi+CuvDfDagOjpk/GJVAznOmz2wD1S6K+i9yJ7+V364Fq0uQm4CLjQ5qbZJaz8fdE/qCOFmOMhRSql0GTv7MQFbgI5BByYUURdT1LnOswoIuAgkI0LC62PvlYWn0NglqTshSqE5Zjuod7N/OBxOTSm4pNy4q68OmTtaaSrShFyEZzs1Q80L6WSCpJq2VvVCHbMWIWQaz71Ov89qG6O8v5OORxN5TVtsDerMW0lgsP6cFdSv5YtzoQwzY0LC831W6l9DV1agFVbrIET7FQdC/oSdbKSAtkbn2l1mR7xy+VUzqyskkC2+dhmxSWv99H9H9NnnqUX6q0fa2ioXk3e1TmODitmyimDrn6eQDYrf0/D8sYtXOol4OK1x5TiKj5phnz0tZfQ94XZsBM7v1Pjd+RIjAa+lGMjWsS3dQScNKdExidAdJzVlVhUrK7fsrp8vLdDhC9ixy7auANDNaR3nxz8zbrUhd371J24ljB4DTNXo22lODcAvKaVgJ0WbFDElH+N0JPf8NMt5k8HSPQIiQWMmJ91HjKDh82z9YowDf89SZ3rCDj5oWPAa1oILKMPb1JTM7p4kSt4ejdeOExireSPoyTiJxG/EW5iwWYlEg2e+Ie61mv4YABEe1DLXuKVozeTTRGXzpPLdeRaKwn7E3ALGWzkV4IqOR3hPzGzCMEtevpADo/h4mKEFbyhLTW9BmU/NxixoySa4EfbSGi/9dVulZgmvrdZFyzrcXl7XLfKfK5Ct6qkXFmWEvr/ciiKZ/YaUZ9xtYlEmun2bQgOXndcKUUfKSOQxbZsT/VZnOzBtHyEh6xP96Qu13yEBZvZuVYZHmAbKwjk0Ky1ZmklLnDjfQWip//ebLOtnyA4Md1jVX+vuEiNpEhZTc0Y5ppXEPLxfg+Cg739+ex4Jo0xZZhPb9O8Lc98opw3t+v6TU2rf6fl9Rui6YRZ/CKmexCWs7IqhWbSWPMsOT2TuD+P2HIIrMDFXurZRAs30gce1a6GZWjLZ1U7FNJ5lpxbBol3ceq8uaECFxUj5BKwE7Aj5OESr1laKbr75kfOg1NrSCSTkcNjvK2L/+DnB/y8vVunIMT/19B/DqmNX99clIUAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"images\" title=\"images\" src=\"/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png\" srcset=\"/static/9d2b84b4159590e7dc27ee7c696f1043/12f09/images.png 148w,\n/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png 225w\" sizes=\"(max-width: 225px) 100vw, 225px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADfElEQVR42gXBa2gbdQAA8NuaJvf6/+/uf6/cI3e55JpL2jQ1L9I8m1eT2Mystattbeeqpc7FirNbBes2nR1Fx4YyN9aBguIQv3ToF3EI/eJQQZCCDKGCTBCfIPqlXyrW3w9jEMVyJERE0/BUNLcH4JpMZvyeqIqzPEkxxKBKpH0eKFCWQo2r7rmiONXNLT5fuvDaIgZZkmTxwwTVJ1FpGacYguXwmoIXvW7A4bJAjYU9Rx1clmi/n+lX6JGCMX069fhK7JkzD2OaDnI2s/asPjcmF2z2sMdDMoTC4gqLA5bIB8nVumtjnP74OW7zMXb5KNPIsMWyNF+llpey2OYavzMD97aY/Qf66VnBy0KeJxmOYBHFy4zuBfMRd0Xv+W418MuG9u058kSNqzfVxaDrxW4e+/QKfb/cu3cV3/9Z/uxV7vbrMotwUYIkoP0m3xlWgxJMpsXNpPHXebh9Boy1lIk5o52ASydz2Nlp+ouoZ3+F+PN9tLeJtt6VDh3CY3G0vmBcbWvfv8xdX1U+Wtcv6vB+o/fiPJpbDi+eGpiYNBdOFDHNhBtBfLdJ/dDCD9bh/BGux0VLGvnGlPD1LPrxpvu/Xf2Tp1GJwF+QXYkI112QLnSVO1f4D98exggBmiL1qE1f4l3v2b0BiWQEmuHpkAQ+SFN/34UHu+paVmAk0B/gJB5srZE71z3/Xu755k4Eo0UABCgbKB6EaT/Zn9T7IqIgAkmCL1nUH29Sv70DmzZrBTjL4gFPLxTwB6/gO23s3q1+TFR5yJOWiobSYqXtT5UtSaMFL+1VUc5gbuTA5VFu65wyPUKe72r5qIgDYjVB3S65vrwWxpwB3QrLhoriSSZfRYpN8l4g6rzPkBWZXcmz2zeoX+8Jn99C22/ZiT6FFoFm8qcM981RA5uezbYnU2EHJbJ0LEMzMiWqjORjAraimVzLhl+t4Ac/kf9sicfigj004DNlw2CHVKo4GMLOnqwuPVUYP1I+/mS0/yGKRgB5WUGFqik6ISlsw04A/H4N3J2Bjp/xO4Zp6YZJh20mlYpinUm90TFnjlUWnhiMJ3jVEGUFBZ1grT7SGS+PNYcypdTqVPt4K9t6pJwpJOr17NRMo1JJlEtJrN70NSbUfA3VGlajZTkRU/JC1ZBD4UC5Gq1WQ31BLRpznIhWHU2Wm9HksFmqDpgmyuVi/wMOe8kZpnVT/gAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg\" srcset=\"/static/34c0883bd581abb3e37bbd6e0de100d9/a80bd/image_thumb.jpg 148w,\n/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></p>  <h1><font style=\"font-weight: bold\" color=\"#9b00d3\">一、摘要</font></h1>  <p>对于你自己网站上的图片，你可能会希望它们只显示在自己网站的页面上，而当别人的网站引用它们时，不给予显示<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVR42s2USwvCMAzH+/2/1bx48aA3LzqLLxQR3Rj2QfOXlhVbrLKuHgykj6T9kTQlbHdpUZ/uWB1vaLsHtFKQUkIplaX+DuPnBstDg9n6ik5qWCEi5IoxxkGZ0SpyeJidh2oEFELCmkzgzIG9Ae0QQnJT/gocI4OBbk+vB/8UfVaEBIrsyTM5EXpbVU2w4dv+IhWk3Mc5ny7A630ZMJXmz1ImQ+VFSX3y4ir/38ceq0lgqQTdRrhFqVqObbBPhPKQwNbX6OAAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png\" srcset=\"/static/47ad560c3d128dca71ed1947aac6b00a/12f09/image_thumb_44.png 148w,\n/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span>，或者显示一张自定义的警告图片<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR42mWUbUyVZRjHr4NJ8Cl1fmiA50UDjtBR1kanOYtNe1mmMVqZbbTmbKyIlW29fyg2c61mNS2niSivRw8cc4g0xTigcjIgXxp2zvGQgKTOQ4wMeO7rfu7nfmn3OQdk6/70PM+u33P/r5f/BWruSKk4Tz7I2+Mi+CuvDfDagOjpk/GJVAznOmz2wD1S6K+i9yJ7+V364Fq0uQm4CLjQ5qbZJaz8fdE/qCOFmOMhRSql0GTv7MQFbgI5BByYUURdT1LnOswoIuAgkI0LC62PvlYWn0NglqTshSqE5Zjuod7N/OBxOTSm4pNy4q68OmTtaaSrShFyEZzs1Q80L6WSCpJq2VvVCHbMWIWQaz71Ov89qG6O8v5OORxN5TVtsDerMW0lgsP6cFdSv5YtzoQwzY0LC831W6l9DV1agFVbrIET7FQdC/oSdbKSAtkbn2l1mR7xy+VUzqyskkC2+dhmxSWv99H9H9NnnqUX6q0fa2ioXk3e1TmODitmyimDrn6eQDYrf0/D8sYtXOol4OK1x5TiKj5phnz0tZfQ94XZsBM7v1Pjd+RIjAa+lGMjWsS3dQScNKdExidAdJzVlVhUrK7fsrp8vLdDhC9ixy7auANDNaR3nxz8zbrUhd371J24ljB4DTNXo22lODcAvKaVgJ0WbFDElH+N0JPf8NMt5k8HSPQIiQWMmJ91HjKDh82z9YowDf89SZ3rCDj5oWPAa1oILKMPb1JTM7p4kSt4ejdeOExireSPoyTiJxG/EW5iwWYlEg2e+Ie61mv4YABEe1DLXuKVozeTTRGXzpPLdeRaKwn7E3ALGWzkV4IqOR3hPzGzCMEtevpADo/h4mKEFbyhLTW9BmU/NxixoySa4EfbSGi/9dVulZgmvrdZFyzrcXl7XLfKfK5Ct6qkXFmWEvr/ciiKZ/YaUZ9xtYlEmun2bQgOXndcKUUfKSOQxbZsT/VZnOzBtHyEh6xP96Qu13yEBZvZuVYZHmAbKwjk0Ky1ZmklLnDjfQWip//ebLOtnyA4Md1jVX+vuEiNpEhZTc0Y5ppXEPLxfg+Cg739+ex4Jo0xZZhPb9O8Lc98opw3t+v6TU2rf6fl9Rui6YRZ/CKmexCWs7IqhWbSWPMsOT2TuD+P2HIIrMDFXurZRAs30gce1a6GZWjLZ1U7FNJ5lpxbBol3ceq8uaECFxUj5BKwE7Aj5OESr1laKbr75kfOg1NrSCSTkcNjvK2L/+DnB/y8vVunIMT/19B/DqmNX99clIUAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"images\" title=\"images\" src=\"/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png\" srcset=\"/static/9d2b84b4159590e7dc27ee7c696f1043/12f09/images.png 148w,\n/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png 225w\" sizes=\"(max-width: 225px) 100vw, 225px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span>，或者在图片上加上一个水印信息<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADfElEQVR42gXBa2gbdQAA8NuaJvf6/+/uf6/cI3e55JpL2jQ1L9I8m1eT2Mystattbeeqpc7FirNbBes2nR1Fx4YyN9aBguIQv3ToF3EI/eJQQZCCDKGCTBCfIPqlXyrW3w9jEMVyJERE0/BUNLcH4JpMZvyeqIqzPEkxxKBKpH0eKFCWQo2r7rmiONXNLT5fuvDaIgZZkmTxwwTVJ1FpGacYguXwmoIXvW7A4bJAjYU9Rx1clmi/n+lX6JGCMX069fhK7JkzD2OaDnI2s/asPjcmF2z2sMdDMoTC4gqLA5bIB8nVumtjnP74OW7zMXb5KNPIsMWyNF+llpey2OYavzMD97aY/Qf66VnBy0KeJxmOYBHFy4zuBfMRd0Xv+W418MuG9u058kSNqzfVxaDrxW4e+/QKfb/cu3cV3/9Z/uxV7vbrMotwUYIkoP0m3xlWgxJMpsXNpPHXebh9Boy1lIk5o52ASydz2Nlp+ouoZ3+F+PN9tLeJtt6VDh3CY3G0vmBcbWvfv8xdX1U+Wtcv6vB+o/fiPJpbDi+eGpiYNBdOFDHNhBtBfLdJ/dDCD9bh/BGux0VLGvnGlPD1LPrxpvu/Xf2Tp1GJwF+QXYkI112QLnSVO1f4D98exggBmiL1qE1f4l3v2b0BiWQEmuHpkAQ+SFN/34UHu+paVmAk0B/gJB5srZE71z3/Xu755k4Eo0UABCgbKB6EaT/Zn9T7IqIgAkmCL1nUH29Sv70DmzZrBTjL4gFPLxTwB6/gO23s3q1+TFR5yJOWiobSYqXtT5UtSaMFL+1VUc5gbuTA5VFu65wyPUKe72r5qIgDYjVB3S65vrwWxpwB3QrLhoriSSZfRYpN8l4g6rzPkBWZXcmz2zeoX+8Jn99C22/ZiT6FFoFm8qcM981RA5uezbYnU2EHJbJ0LEMzMiWqjORjAraimVzLhl+t4Ac/kf9sicfigj004DNlw2CHVKo4GMLOnqwuPVUYP1I+/mS0/yGKRgB5WUGFqik6ISlsw04A/H4N3J2Bjp/xO4Zp6YZJh20mlYpinUm90TFnjlUWnhiMJ3jVEGUFBZ1grT7SGS+PNYcypdTqVPt4K9t6pJwpJOr17NRMo1JJlEtJrN70NSbUfA3VGlajZTkRU/JC1ZBD4UC5Gq1WQ31BLRpznIhWHU2Wm9HksFmqDpgmyuVi/wMOe8kZpnVT/gAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg\" srcset=\"/static/34c0883bd581abb3e37bbd6e0de100d9/a80bd/image_thumb.jpg 148w,\n/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span>，告诉浏览者此图片是来自你的网站的。</p>  <p>使用ASP.NET的HttpHandler可以很方便地达到这样的效果。</p>  <h1><font color=\"#9b00d3\"><font style=\"font-weight: bold\">二、实现步骤</font></font></h1>  <h2>1. 在网站项目中添加一个类文件，实现IHttpHandler接口</h2>  <h2>2. 配置Web.Config，将图片文件的请求映射到第1步中的类处理程序</h2>  <p>下面先讲第1步配置Web.Config，再讲第1步。因为配置非常简单，而类文件则需要一些代码，将会分三种情况给出这个类文件的三个版本。</p>  <h1><font color=\"#9b00d3\"><font style=\"font-weight: bold\">三、配置Web.Config详解</font></font></h1>  <p>假设第1步的类文件命名为ImageGuardHandler.cs，该文件定义了一个位于命名空间 zizhujy.HttpHandlers 下的类 ImageGuardHandler。现在配置Web.Config，使得图片文件请求被转交到ImageGuardHandler来处理。</p>  <p>如果网站服务器是使用的IIS 7.5或以上，则只需按如下格式配置：</p>  <pre class=\"brush: xml\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n  有关如何配置 ASP.NET 应用程序的详细信息，请访问\n  http://go.microsoft.com/fwlink/?LinkId=152368\n  --&gt;</pre>\n<p>&#x3C;configuration>\r\n...\r\n&#x3C;system.webServer>\r\n&#x3C;validation validateIntegratedModeConfiguration=\"false\"/>\r\n&#x3C;modules runAllManagedModulesForAllRequests=\"true\"/>\r\n&#x3C;handlers>\r\n&#x3C;add name=\"ImageGuardHandlerPng\" path=\"<em>.png\" verb=\"</em>\" type=\"zizhujy.HttpHandlers.ImageGuardHandler, zizhujy\" resourceType=\"Unspecified\" preCondition=\"integratedMode\"/>\r\n&#x3C;add name=\"ImageGuardHandlerGif\" path=\"<em>.gif\" verb=\"</em>\" type=\"zizhujy.HttpHandlers.ImageGuardHandler, zizhujy\" resourceType=\"Unspecified\" preCondition=\"integratedMode\"/>\r\n&#x3C;add name=\"ImageGuardHandlerJpg\" path=\"<em>.jpg\" verb=\"</em>\" type=\"zizhujy.HttpHandlers.ImageGuardHandler, zizhujy\" resourceType=\"Unspecified\" preCondition=\"integratedMode\"/>\r\n&#x3C;/handlers>\r\n&#x3C;/system.webServer>\r\n...\r\n&#x3C;/configuration></pre></p>\n<p>如上，配置了对于三种图片文件（.png, .gif, .jpg）的请求，将会被ImageGuardHandler处理。</p>\n<p>如果使用的是 IIS 5.1，则需要按如下格式配置：</p>\n<pre class=\"brush: xml\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!--\r\n  有关如何配置 ASP.NET 应用程序的详细信息，请访问\r\n  http://go.microsoft.com/fwlink/?LinkId=152368\r\n  --&gt;\r\n\r\n&lt;configuration&gt;\r\n\t...\r\n    &lt;system.web&gt;\r\n        &lt;httpHandlers&gt;\r\n            &lt;add path=&quot;*.gif&quot; verb=&quot;*&quot; type=&quot;zizhujy.HttpHandlers.ImageGuardHandler, zizhujy&quot; validate=&quot;false&quot;/&gt;\r\n            &lt;add path=&quot;*.png&quot; verb=&quot;*&quot; type=&quot;zizhujy.HttpHandlers.ImageGuardHandler, zizhujy&quot; validate=&quot;false&quot;/&gt;\r\n            &lt;add path=&quot;*.jpg&quot; verb=&quot;*&quot; type=&quot;zizhujy.HttpHandlers.ImageGuardHandler, zizhujy&quot; validate=&quot;false&quot;/&gt;\r\n        &lt;/httpHandlers&gt;\r\n    &lt;/system.web&gt;\r\n\t...\r\n&lt;/configuration&gt;</pre>\n<h1><font style=\"font-weight: bold\" color=\"#9b00d3\">四、处理程序ImageGuardHandler详解</font></h1>\n<h2>1. 对于来自非本网站的图片请求给予拒绝服务的响应：</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 91.8918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVR42s2USwvCMAzH+/2/1bx48aA3LzqLLxQR3Rj2QfOXlhVbrLKuHgykj6T9kTQlbHdpUZ/uWB1vaLsHtFKQUkIplaX+DuPnBstDg9n6ik5qWCEi5IoxxkGZ0SpyeJidh2oEFELCmkzgzIG9Ae0QQnJT/gocI4OBbk+vB/8UfVaEBIrsyTM5EXpbVU2w4dv+IhWk3Mc5ny7A630ZMJXmz1ImQ+VFSX3y4ir/38ceq0lgqQTdRrhFqVqObbBPhPKQwNbX6OAAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png\" srcset=\"/static/47ad560c3d128dca71ed1947aac6b00a/12f09/image_thumb_44.png 148w,\n/static/47ad560c3d128dca71ed1947aac6b00a/8ff5a/image_thumb_44.png 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></p>\n<pre class=\"brush: csharp\">using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Web;\r\nusing System.Globalization;\r\nusing System.IO;\r\nusing System.Drawing;\r\nusing System.Drawing.Imaging;\r\nusing zizhujy.Utility;\r\n\r\nnamespace zizhujy.HttpHandlers\r\n{\r\n    public class ImageGuardHandler : IHttpHandler\r\n    {\r\n        public void ProcessRequest(System.Web.HttpContext context)\r\n        {\r\n            HttpResponse response = context.Response;\r\n            HttpRequest request = context.Request;\r\n            string imagePath = null;\r\n\r\n            // Check whether the page requesting the image is from your site.\r\n            if (request.UrlReferrer != null)\r\n            {\r\n                // Perform a case-insensitive comparison of the referer.\r\n                if (string.Compare(request.Url.Host, request.UrlReferrer.Host, true, CultureInfo.InvariantCulture) == 0)\r\n                {\r\n                    // The requesting host is correct.\r\n                    // Allow the image to be served(if it exists).\r\n                    imagePath = request.PhysicalPath;\r\n                    if (!File.Exists(imagePath))\r\n                    {\r\n                        response.Status = &quot;Image not found&quot;;\r\n                        response.StatusCode = 404;\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (imagePath == null)\r\n            {\r\n                response.Status = &quot;Not allowed&quot;;\r\n                response.StatusCode = 500;\r\n                return;\r\n            }\r\n\r\n            // Set the content type to the appropriate image type.\r\n            response.ContentType = &quot;image/&quot; + Path.GetExtension(imagePath).ToLower();\r\n\r\n            // Serve the image.\r\n            response.WriteFile(imagePath);\r\n            //Image image = Image.FromFile(imagePath);\r\n            //image = ImageHandler.WatermarkHandler.AddCopyrightText(image, &quot;www.zizhujy.com&quot;, ImageHandler.CopyrightPosition.BottomRight);\r\n            //image.Save(response.OutputStream, GetImageFormatByExtension(Path.GetExtension(imagePath)));\r\n\r\n            //image.Dispose();\r\n        }\r\n\r\n        public bool IsReusable\r\n        {\r\n            get { return true; }\r\n        }\r\n    }\r\n}</pre>\n<h2>2. 对于来自非本网站的图片请求，显示一张自定义的警告图片，这个警告图片的路径可以配置在Web.Config中的 <appsettings />节中，如：</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR42mWUbUyVZRjHr4NJ8Cl1fmiA50UDjtBR1kanOYtNe1mmMVqZbbTmbKyIlW29fyg2c61mNS2niSivRw8cc4g0xTigcjIgXxp2zvGQgKTOQ4wMeO7rfu7nfmn3OQdk6/70PM+u33P/r5f/BWruSKk4Tz7I2+Mi+CuvDfDagOjpk/GJVAznOmz2wD1S6K+i9yJ7+V364Fq0uQm4CLjQ5qbZJaz8fdE/qCOFmOMhRSql0GTv7MQFbgI5BByYUURdT1LnOswoIuAgkI0LC62PvlYWn0NglqTshSqE5Zjuod7N/OBxOTSm4pNy4q68OmTtaaSrShFyEZzs1Q80L6WSCpJq2VvVCHbMWIWQaz71Ov89qG6O8v5OORxN5TVtsDerMW0lgsP6cFdSv5YtzoQwzY0LC831W6l9DV1agFVbrIET7FQdC/oSdbKSAtkbn2l1mR7xy+VUzqyskkC2+dhmxSWv99H9H9NnnqUX6q0fa2ioXk3e1TmODitmyimDrn6eQDYrf0/D8sYtXOol4OK1x5TiKj5phnz0tZfQ94XZsBM7v1Pjd+RIjAa+lGMjWsS3dQScNKdExidAdJzVlVhUrK7fsrp8vLdDhC9ixy7auANDNaR3nxz8zbrUhd371J24ljB4DTNXo22lODcAvKaVgJ0WbFDElH+N0JPf8NMt5k8HSPQIiQWMmJ91HjKDh82z9YowDf89SZ3rCDj5oWPAa1oILKMPb1JTM7p4kSt4ejdeOExireSPoyTiJxG/EW5iwWYlEg2e+Ie61mv4YABEe1DLXuKVozeTTRGXzpPLdeRaKwn7E3ALGWzkV4IqOR3hPzGzCMEtevpADo/h4mKEFbyhLTW9BmU/NxixoySa4EfbSGi/9dVulZgmvrdZFyzrcXl7XLfKfK5Ct6qkXFmWEvr/ciiKZ/YaUZ9xtYlEmun2bQgOXndcKUUfKSOQxbZsT/VZnOzBtHyEh6xP96Qu13yEBZvZuVYZHmAbKwjk0Ky1ZmklLnDjfQWip//ebLOtnyA4Md1jVX+vuEiNpEhZTc0Y5ppXEPLxfg+Cg739+ex4Jo0xZZhPb9O8Lc98opw3t+v6TU2rf6fl9Rui6YRZ/CKmexCWs7IqhWbSWPMsOT2TuD+P2HIIrMDFXurZRAs30gce1a6GZWjLZ1U7FNJ5lpxbBol3ceq8uaECFxUj5BKwE7Aj5OESr1laKbr75kfOg1NrSCSTkcNjvK2L/+DnB/y8vVunIMT/19B/DqmNX99clIUAAAAASUVORK5CYII='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"images\" title=\"images\" src=\"/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png\" srcset=\"/static/9d2b84b4159590e7dc27ee7c696f1043/12f09/images.png 148w,\n/static/9d2b84b4159590e7dc27ee7c696f1043/3684f/images.png 225w\" sizes=\"(max-width: 225px) 100vw, 225px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></p>\n<div style=\"font-size: small;\">\r\n<pre class=\"brush: xml\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!--\r\n  有关如何配置 ASP.NET 应用程序的详细信息，请访问\r\n  http://go.microsoft.com/fwlink/?LinkId=152368\r\n  --&gt;\n<p>&#x3C;configuration>\r\n...\r\n&#x3C;appSettings>\r\n&#x3C;httpHandlers>\r\n&#x3C;add key=\"NotAllowedImage\" value=\"~/Content/Images/NotAllowed.gif\"/>\r\n&#x3C;/httpHandlers>\r\n&#x3C;/appSettings>\r\n...\r\n&#x3C;/configuration></pre></p>\n</div>\n<p>ImageGuardHandler.cs代码如下：</p>\r\n<div style=\"font-size: small;\">\r\n<pre class=\"brush: csharp\">using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Web;\r\nusing System.Globalization;\r\nusing System.IO;\r\nusing System.Drawing;\r\nusing System.Drawing.Imaging;\r\nusing zizhujy.Utility;\n<p>namespace zizhujy.HttpHandlers\r\n{\r\npublic class ImageGuardHandler : IHttpHandler\r\n{\r\npublic void ProcessRequest(System.Web.HttpContext context)\r\n{\r\nHttpResponse response = context.Response;\r\nHttpRequest request = context.Request;\r\nstring imagePath = null;</p>\n<pre><code>        // Check whether the page requesting the image is from your site.\r\n        if (request.UrlReferrer != null)\r\n        {\r\n            // Perform a case-insensitive comparison of the referer.\r\n            if (string.Compare(request.Url.Host, request.UrlReferrer.Host, true, CultureInfo.InvariantCulture) == 0)\r\n            {\r\n                // The requesting host is correct.\r\n                // Allow the image to be served(if it exists).\r\n                imagePath = request.PhysicalPath;\r\n                if (!File.Exists(imagePath))\r\n                {\r\n                    response.Status = &#x26;quot;Image not found&#x26;quot;;\r\n                    response.StatusCode = 404;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (imagePath == null)\r\n        {\r\n            // No valid image was allowed.\r\n            // Return the warning image instead of the requested image.\r\n            // Rather than hard-code this image, you could retrieve it from the web.config file (using the &#x3C;appsettings> section or a custom section).\r\n\r\n            //imagePath = context.Server.MapPath(&#x26;quot;~/Images/notAllowed.gif&#x26;quot;);\r\n            imagePath = context.Server.MapPath(System.Configuration.ConfigurationManager.AppSettings.Get(&#x26;quot;NotAllowedImage&#x26;quot;).ToString());\r\n        }\r\n\r\n        // Set the content type to the appropriate image type.\r\n        response.ContentType = &#x26;quot;image/&#x26;quot; + Path.GetExtension(imagePath).ToLower();\r\n\r\n        // Serve the image.\r\n        response.WriteFile(imagePath);\r\n        //Image image = Image.FromFile(imagePath);\r\n        //image = ImageHandler.WatermarkHandler.AddCopyrightText(image, &#x26;quot;www.zizhujy.com&#x26;quot;, ImageHandler.CopyrightPosition.BottomRight);\r\n        //image.Save(response.OutputStream, GetImageFormatByExtension(Path.GetExtension(imagePath)));\r\n\r\n        //image.Dispose();\r\n    }\r\n\r\n    public bool IsReusable\r\n    {\r\n        get { return true; }\r\n    }\r\n}\n</code></pre>\n<p>}</pre></p>\n</div>\n<h2>3. 对于来自非本网站的图片请求，在图片上加上一行水印文本，将自己网站的Url信息写在图片上。</h2>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADfElEQVR42gXBa2gbdQAA8NuaJvf6/+/uf6/cI3e55JpL2jQ1L9I8m1eT2Mystattbeeqpc7FirNbBes2nR1Fx4YyN9aBguIQv3ToF3EI/eJQQZCCDKGCTBCfIPqlXyrW3w9jEMVyJERE0/BUNLcH4JpMZvyeqIqzPEkxxKBKpH0eKFCWQo2r7rmiONXNLT5fuvDaIgZZkmTxwwTVJ1FpGacYguXwmoIXvW7A4bJAjYU9Rx1clmi/n+lX6JGCMX069fhK7JkzD2OaDnI2s/asPjcmF2z2sMdDMoTC4gqLA5bIB8nVumtjnP74OW7zMXb5KNPIsMWyNF+llpey2OYavzMD97aY/Qf66VnBy0KeJxmOYBHFy4zuBfMRd0Xv+W418MuG9u058kSNqzfVxaDrxW4e+/QKfb/cu3cV3/9Z/uxV7vbrMotwUYIkoP0m3xlWgxJMpsXNpPHXebh9Boy1lIk5o52ASydz2Nlp+ouoZ3+F+PN9tLeJtt6VDh3CY3G0vmBcbWvfv8xdX1U+Wtcv6vB+o/fiPJpbDi+eGpiYNBdOFDHNhBtBfLdJ/dDCD9bh/BGux0VLGvnGlPD1LPrxpvu/Xf2Tp1GJwF+QXYkI112QLnSVO1f4D98exggBmiL1qE1f4l3v2b0BiWQEmuHpkAQ+SFN/34UHu+paVmAk0B/gJB5srZE71z3/Xu755k4Eo0UABCgbKB6EaT/Zn9T7IqIgAkmCL1nUH29Sv70DmzZrBTjL4gFPLxTwB6/gO23s3q1+TFR5yJOWiobSYqXtT5UtSaMFL+1VUc5gbuTA5VFu65wyPUKe72r5qIgDYjVB3S65vrwWxpwB3QrLhoriSSZfRYpN8l4g6rzPkBWZXcmz2zeoX+8Jn99C22/ZiT6FFoFm8qcM981RA5uezbYnU2EHJbJ0LEMzMiWqjORjAraimVzLhl+t4Ac/kf9sicfigj004DNlw2CHVKo4GMLOnqwuPVUYP1I+/mS0/yGKRgB5WUGFqik6ISlsw04A/H4N3J2Bjp/xO4Zp6YZJh20mlYpinUm90TFnjlUWnhiMJ3jVEGUFBZ1grT7SGS+PNYcypdTqVPt4K9t6pJwpJOr17NRMo1JJlEtJrN70NSbUfA3VGlajZTkRU/JC1ZBD4UC5Gq1WQ31BLRpznIhWHU2Wm9HksFmqDpgmyuVi/wMOe8kZpnVT/gAAAABJRU5ErkJggg=='); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image\" title=\"image\" src=\"/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg\" srcset=\"/static/34c0883bd581abb3e37bbd6e0de100d9/a80bd/image_thumb.jpg 148w,\n/static/34c0883bd581abb3e37bbd6e0de100d9/09b79/image_thumb.jpg 240w\" sizes=\"(max-width: 240px) 100vw, 240px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></p>\n<p>这里涉及到给图片添加水印的程序，由于之前介绍过<a href=\"http://www.zizhujy.com/blog/post/2011/07/13/the-csharp-class-library-for-adding-watermark-image.aspx\" target=\"_blank\">给图片添加水印的类库</a>，这里就直接引用了它来完成添加水印的过程。在图片上添加水印的原理请见： </p>\n<p><a href=\"http://www.zizhujy.com/blog/post/2011/07/13/add-watermark-to-image-using-csharp-and-gdiplus.aspx\">使用.NET的GDI+技术给图片加水印</a></p>\n<p>ImageGuardHandler.cs文件源码如下：</p>\n<pre class=\"brush: csharp\">using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Web;\r\nusing System.Globalization;\r\nusing System.IO;\r\nusing System.Drawing;\r\nusing System.Drawing.Imaging;\r\nusing zizhujy.Utility;\r\n\r\nnamespace zizhujy.HttpHandlers\r\n{\r\n    public class ImageGuardHandler : IHttpHandler\r\n    {\r\n        public void ProcessRequest(System.Web.HttpContext context)\r\n        {\r\n            HttpResponse response = context.Response;\r\n            HttpRequest request = context.Request;\r\n            string imagePath = null;\r\n\r\n            // Check whether the page requesting the image is from your site.\r\n            if (request.UrlReferrer != null)\r\n            {\r\n                // Perform a case-insensitive comparison of the referer.\r\n                if (string.Compare(request.Url.Host, request.UrlReferrer.Host, true, CultureInfo.InvariantCulture) == 0)\r\n                {\r\n                    // The requesting host is correct.\r\n                    // Allow the image to be served(if it exists).\r\n                    imagePath = request.PhysicalPath;\r\n                    if (!File.Exists(imagePath))\r\n                    {\r\n                        response.Status = &quot;Image not found&quot;;\r\n                        response.StatusCode = 404;\r\n                        return;\r\n                    }\r\n                    else\r\n                    {\r\n                        // Serve the image normally\r\n                        response.WriteFile(imagePath);\r\n                        return;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    // Add watermark to the image\r\n                    imagePath = request.PhysicalPath;\r\n\r\n                    // Set the content type to the appropriate image type.\r\n                    response.ContentType = &quot;image/&quot; + Path.GetExtension(imagePath).Replace(&quot;.&quot;, &quot;&quot;).ToLower();\r\n\r\n                    // Serve the image.\r\n                    Image image = Image.FromFile(imagePath);\r\n\r\n                    ImageHandler.TextWatermarker txtWatermarker = new ImageHandler.TextWatermarker(image, &quot;www.zizhujy.com&quot;);\r\n                    txtWatermarker.AddWatermark();\r\n\r\n                    image = txtWatermarker.WatermarkedImage;\r\n                    //image.Save(response.OutputStream, ImageHelper.GetImageFormatByExtension(Path.GetExtension(imagePath)));\r\n\r\n                    MemoryStream mem = new MemoryStream();\r\n                    image.Save(mem, ImageHelper.GetImageFormatByExtension(Path.GetExtension(imagePath)));\r\n\r\n                    // Write the MemoryStream data to the OutputStream\r\n                    mem.WriteTo(response.OutputStream);\r\n\r\n                    mem.Dispose();\r\n\r\n                    image.Dispose();\r\n                    txtWatermarker.Dispose();\r\n                    return;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // Add watermark to the image\r\n                imagePath = request.PhysicalPath;\r\n\r\n                // Set the content type to the appropriate image type.\r\n                response.ContentType = &quot;image/&quot; + Path.GetExtension(imagePath).Replace(&quot;.&quot;,&quot;&quot;).ToLower();\r\n\r\n                // Serve the image.\r\n                Image image = Image.FromFile(imagePath);\r\n                ImageHandler.TextWatermarker txtWatermarker = new ImageHandler.TextWatermarker(image, &quot;www.zizhujy.com&quot;);\r\n                txtWatermarker.AddWatermark();\r\n                image = txtWatermarker.WatermarkedImage;\r\n\r\n                // If the image is in PNG format, then it can be saved into response.OutputStream directly \r\n                ImageFormat format = ImageHelper.GetImageFormatByExtension(Path.GetExtension(imagePath));\r\n                //if (format.Equals(ImageFormat.Png))\r\n                if (true)\r\n                {\r\n                    // Create the PNG in memory\r\n                    MemoryStream mem = new MemoryStream();\r\n                    image.Save(mem, ImageFormat.Png);\r\n\r\n                    // Write the MemoryStream data to the output stream.\r\n                    mem.WriteTo(response.OutputStream);\r\n                    mem.Dispose();\r\n                }\r\n                else\r\n                {\r\n                    image.Save(response.OutputStream, format);\r\n                }\r\n\r\n                image.Dispose();\r\n                txtWatermarker.Dispose();\r\n                return;\r\n            }\r\n        }\r\n\r\n        public bool IsReusable\r\n        {\r\n            get { return true; }\r\n        }\r\n    }\r\n}</pre>\n<h1><font color=\"#9b00d3\"><font style=\"font-weight: bold\">五、结语</font></font></h1>\n<p>以上三种版本的HttpHandler处理程序类，只需要任选其一即可。甚至可以整合成一个类，然后在Web.Config中作相关的配置，以控制其是直接拒绝服务，还是显示警告图片，或者是添加水印信息。</p>\n<p>[donate: <a href=\"http://www.zizhujy.com\">www.zizhujy.com</a>]</p>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}}}},"staticQueryHashes":[],"slicesMap":{}}