{"componentChunkName":"component---src-templates-post-js","path":"/posts/UnauthorizedAccessException-was-unhandled/","result":{"data":{"sitePage":{"id":"SitePage /posts/UnauthorizedAccessException-was-unhandled/"}},"pageContext":{"url":"/posts/UnauthorizedAccessException-was-unhandled/","relativePath":"posts/UnauthorizedAccessException-was-unhandled.md","relativeDir":"posts","base":"UnauthorizedAccessException-was-unhandled.md","name":"UnauthorizedAccessException-was-unhandled","frontmatter":{"title":"UnauthorizedAccessException was unhandled","stackbit_url_path":"posts/UnauthorizedAccessException-was-unhandled","date":"2012-03-22 19:31:44.9545751","excerpt":"","comments_count":0,"positive_reactions_count":0,"tags":["TFS","Team Foundation Server"],"canonical_url":"https://be-net.azurewebsites.net/post/2012/03/22/UnauthorizedAccessException-was-unhandled","template":"post"},"html":"<p>Today when I coded a snippet to download file from a team foundation server, I met this error:</p>  <p>UnauthorizedAccessException was unhandled.</p>  <p>Access to the path is denied.</p>  <p><a href=\"https://raw.githubusercontent.com/Jeff-Tian/blogengine.net/master/Source/BlogEngine/BlogEngine.NET/App_Data/files/image_495.png\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACQ0lEQVR42oWQS08TYRSGP2i7xIUJGhL/kkFMFBKBxI0rd/4aQ7ipEC4FoeVaxQoEMRgUqJRpO8x0Lr3BFFvaQmmnfQxTguCGkzx5c3K+7z0XEdpbx78wz6vXb+jqecnTrl6Hjs5ennT20P7sBR2d3bQ/76b9cQd9b/uZmA0wMbOE1xdgeMzH4MgU77wrDI0vI5QjEyOVpKXlHkKIO5mdW+Bm1Gp1IlKUdCqJaRgIzdJRDZ2HbY+cD26PB5fb3cDVwO120+xy4fF48M74qdg1KpUK9Xqd00KJvd8HhMNhNE27NDRQTYPWB213TtckBNOz/qvJao4WS2fs7UtIkoSu6QjdMlEMnfutV4ZNLoRo+o9mml0eRLOLMe/HK0Pb0fxpkZ2dPWRZJh6PI+R0nHyxgG9+Fa8vyLR/mbmlAIHgGoHgKoEvX/m8EmTCO8384icSqaNbN8zlT9F002lgWRYikog5hXO7jGEpJE2Jg9AuB4pMVJWJRMPEpBgb3zYxEgqZI52zUorzszR25YTsSe66SS6fR8hJhWq9RqGYJ5WMkDajxKISh3L0H4cxVFUhndZQ4xE2vq+yvrnG1vYWP3aibIdkpMMkP0NRRObo9gp3Ra0Okmqxr1homRKJ4wJ6Jk82V0KNa4hs1nIe2rZ9TbVapWo3sC+12uDyTuXyBQmrROrPBce5c06LZccsVzhHjRuIodEpBke89L+fdBi4wWU+NDLF8Og0Ax8m6RseZ3J2kYiSRDMzKFoCJW4iH2pIMZVfu2H+AlR8oX+vsUaHAAAAAElFTkSuQmCC'); background-size: cover; display: block; transition: opacity 0.5s 0.5s; pointer-events: none;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"UnauthorizedAccessException was unhandled\" title=\"UnauthorizedAccessException was unhandled\" src=\"/static/f7541bfcdfb4f04a59f2a71e3c770d84/fcda8/image_thumb_216.png\" srcset=\"/static/f7541bfcdfb4f04a59f2a71e3c770d84/12f09/image_thumb_216.png 148w,\n/static/f7541bfcdfb4f04a59f2a71e3c770d84/e4a3f/image_thumb_216.png 295w,\n/static/f7541bfcdfb4f04a59f2a71e3c770d84/fcda8/image_thumb_216.png 590w,\n/static/f7541bfcdfb4f04a59f2a71e3c770d84/5f4af/image_thumb_216.png 665w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;opacity:0;transition:opacity 0.5s;color:inherit;box-shadow:inset 0px 0px 0px 400px white;top:0;left:0;\" loading=\"lazy\">\n    </span></a></p>  <p>The relative code is:</p>  <pre style=\"overflow-y: visible\" class=\"brush: csharp\">private static void DownloadFile()\n{\n    TeamFoundationServer tfs = TeamFoundationServerFactory.GetServer(@\"serverNameOrUrl\");\n    VersionControlServer vc = (VersionControlServer)tfs.GetService(typeof(VersionControlServer));\n    Console.WriteLine(\"Downloading...\");\n    vc.DownloadFile(@\"$/YourPath/YourPath/YourPath/File.aspx\", @\"C:\\test.aspx\");\n    Console.WriteLine(\"Done\");\n    Console.ReadKey();\n}</pre>\n<p>I was confused by this error, and checked my permission to the Team Foundation Server again and again, and found there is no issue with my account connected to the TFS server.</p>\n<p>After a long time, I found out the error was not saying that the code has not enough permission to download file from TFS server, it was saying that the code has not enough permission to save the file into local disk!</p>\n<p>The Windows 7 OS won’t let code to save file into local disk C: by default. I just changed the disk to D: and the problem was fixed.</p>\n<pre style=\"overflow-y: visible; height: 30px\" class=\"brush: csharp\">\r\n//...\r\nvc.DownloadFile(@&quot;$/YourPath/YourPath/YourPath/File.aspx&quot;, @&quot;D:\\test.aspx&quot;);\r\n//...\r\n</pre>","pages":[],"site":{"siteMetadata":{"title":"Jeff Tian","author":"@zizhujy","description":"A wild full stack developer","palette":"yellow","header":{"title":"Jeff Tian","tagline":"A wild developer","logo_img":"https://images.ctfassets.net/qixg1o8tujmf/7z1ua3nTOC5B7DwwzAki8I/4e1a05f8db770c285a492eeb1eaa398f/imageedit_3_2509022194.png","background_img":"https://images.ctfassets.net/qixg1o8tujmf/7m0jrKYaDBwEvlc5lo8nt6/6d50a5050d9cdc0d4d2047e35feac292/10648733_696750647079056_2800539603462658695_o.jpg","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link","type":"action"},{"label":"About","url":"/about","style":"link","type":"action"},{"label":"关于","url":"https://ggyy.pa-pa.me/about","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"},{"label":"Contact","url":"/contact","style":"link","type":"action"},{"label":"Support Me","url":"/support-me","style":"link","type":"action"},{"label":"叽叽歪歪","url":"https://ggyy.pa-pa.me/","style":"link","icon_class":"lorem-ipsum","new_window":true,"type":"action"}],"has_social":true,"social_links":[{"label":"Twitter","url":"https://twitter.com/zizhujy","style":"icon","icon_class":"fa-twitter","new_window":true,"type":"action"},{"label":"Instagram","url":"https://www.instagram.com/jefftian5","style":"icon","icon_class":"fa-instagram","new_window":true,"type":"action"},{"label":"GitHub","url":"https://github.com/jeff-tian","style":"icon","icon_class":"fa-github","new_window":true,"type":"action"},{"label":"LinkedIn","url":"https://www.linkedin.com/jeff~tian","style":"icon","icon_class":"fa-linkedin","new_window":true,"type":"action"},{"label":"DEV","url":"https://dev.to/jefftian","style":"icon","icon_class":"fa-dev","new_window":true,"type":"action"},{"label":"知乎","url":"https://www.zhihu.com/people/jefftian","style":"icon","icon_class":"fa-zhihu","new_window":true,"type":"action"}],"type":"header"},"footer":{"content":"&copy; All rights reserved.","links":[{"label":"Made with Stackbit.","url":"https://www.stackbit.com","style":"link","new_window":true,"type":"action"},{"label":"紫竹叽歪","url":"https://zizhujy.apphb.com","style":"link","icon_class":"http://zizhujy.apphb.com/Content/Images/logo.png","new_window":true,"type":"action"}],"type":"footer"}},"pathPrefix":"","data":{"data":{"author":{"name":"Jeff Tian","avatar":"https://res.cloudinary.com/practicaldev/image/fetch/s--a5qDZLv3--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/318420/3bfd2d99-430c-4049-8dd5-e2adc961e1e0.png"},"social":{"devto":{"username":"jefftian"},"twitter":{"username":"zizhujy"},"github":{"username":"Jeff-Tian"}}}}},"menus":{}}},"staticQueryHashes":[],"slicesMap":{}}